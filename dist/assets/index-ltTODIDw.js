function M5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Qw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yw={exports:{}},hh={},Xw={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=Symbol.for("react.element"),O5=Symbol.for("react.portal"),F5=Symbol.for("react.fragment"),$5=Symbol.for("react.strict_mode"),V5=Symbol.for("react.profiler"),U5=Symbol.for("react.provider"),z5=Symbol.for("react.context"),B5=Symbol.for("react.forward_ref"),H5=Symbol.for("react.suspense"),W5=Symbol.for("react.memo"),q5=Symbol.for("react.lazy"),zv=Symbol.iterator;function G5(t){return t===null||typeof t!="object"?null:(t=zv&&t[zv]||t["@@iterator"],typeof t=="function"?t:null)}var Jw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zw=Object.assign,e_={};function ol(t,e,n){this.props=t,this.context=e,this.refs=e_,this.updater=n||Jw}ol.prototype.isReactComponent={};ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function t_(){}t_.prototype=ol.prototype;function Vg(t,e,n){this.props=t,this.context=e,this.refs=e_,this.updater=n||Jw}var Ug=Vg.prototype=new t_;Ug.constructor=Vg;Zw(Ug,ol.prototype);Ug.isPureReactComponent=!0;var Bv=Array.isArray,n_=Object.prototype.hasOwnProperty,zg={current:null},r_={key:!0,ref:!0,__self:!0,__source:!0};function s_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)n_.call(e,r)&&!r_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ou,type:t,key:i,ref:o,props:s,_owner:zg.current}}function K5(t,e){return{$$typeof:ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ou}function Q5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hv=/\/+/g;function Im(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Q5(""+t.key):e.toString(36)}function Fd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ou:case O5:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Im(o,0):r,Bv(s)?(n="",t!=null&&(n=t.replace(Hv,"$&/")+"/"),Fd(s,e,n,"",function(d){return d})):s!=null&&(Bg(s)&&(s=K5(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Hv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Bv(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Im(i,l);o+=Fd(i,e,n,c,s)}else if(c=G5(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Im(i,l++),o+=Fd(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function id(t,e,n){if(t==null)return t;var r=[],s=0;return Fd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Y5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vn={current:null},$d={transition:null},X5={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:$d,ReactCurrentOwner:zg};function i_(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:id,forEach:function(t,e,n){id(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return id(t,function(){e++}),e},toArray:function(t){return id(t,function(e){return e})||[]},only:function(t){if(!Bg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=ol;Oe.Fragment=F5;Oe.Profiler=V5;Oe.PureComponent=Vg;Oe.StrictMode=$5;Oe.Suspense=H5;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X5;Oe.act=i_;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Zw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=zg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)n_.call(e,c)&&!r_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ou,type:t.type,key:s,ref:i,props:r,_owner:o}};Oe.createContext=function(t){return t={$$typeof:z5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:U5,_context:t},t.Consumer=t};Oe.createElement=s_;Oe.createFactory=function(t){var e=s_.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:B5,render:t}};Oe.isValidElement=Bg;Oe.lazy=function(t){return{$$typeof:q5,_payload:{_status:-1,_result:t},_init:Y5}};Oe.memo=function(t,e){return{$$typeof:W5,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=$d.transition;$d.transition={};try{t()}finally{$d.transition=e}};Oe.unstable_act=i_;Oe.useCallback=function(t,e){return Vn.current.useCallback(t,e)};Oe.useContext=function(t){return Vn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return Vn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return Vn.current.useEffect(t,e)};Oe.useId=function(){return Vn.current.useId()};Oe.useImperativeHandle=function(t,e,n){return Vn.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return Vn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return Vn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return Vn.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return Vn.current.useReducer(t,e,n)};Oe.useRef=function(t){return Vn.current.useRef(t)};Oe.useState=function(t){return Vn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return Vn.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return Vn.current.useTransition()};Oe.version="18.3.1";Xw.exports=Oe;var m=Xw.exports;const te=Qw(m),cf=M5({__proto__:null,default:te},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5=m,Z5=Symbol.for("react.element"),eS=Symbol.for("react.fragment"),tS=Object.prototype.hasOwnProperty,nS=J5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rS={key:!0,ref:!0,__self:!0,__source:!0};function a_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tS.call(e,r)&&!rS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Z5,type:t,key:i,ref:o,props:s,_owner:nS.current}}hh.Fragment=eS;hh.jsx=a_;hh.jsxs=a_;Yw.exports=hh;var a=Yw.exports,Pp={},o_={exports:{}},dr={},l_={exports:{}},c_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,V){var q=D.length;D.push(V);e:for(;0<q;){var ae=q-1>>>1,Z=D[ae];if(0<s(Z,V))D[ae]=V,D[q]=Z,q=ae;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],q=D.pop();if(q!==V){D[0]=q;e:for(var ae=0,Z=D.length,Q=Z>>>1;ae<Q;){var ve=2*(ae+1)-1,Ve=D[ve],Ge=ve+1,tt=D[Ge];if(0>s(Ve,q))Ge<Z&&0>s(tt,Ve)?(D[ae]=tt,D[Ge]=q,ae=Ge):(D[ae]=Ve,D[ve]=q,ae=ve);else if(Ge<Z&&0>s(tt,q))D[ae]=tt,D[Ge]=q,ae=Ge;else break e}}return V}function s(D,V){var q=D.sortIndex-V.sortIndex;return q!==0?q:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,h=null,p=3,x=!1,_=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=D)r(d),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(d)}}function S(D){if(j=!1,b(D),!_)if(n(c)!==null)_=!0,ke(P);else{var V=n(d);V!==null&&ie(S,V.startTime-D)}}function P(D,V){_=!1,j&&(j=!1,w(E),E=-1),x=!0;var q=p;try{for(b(V),h=n(c);h!==null&&(!(h.expirationTime>V)||D&&!R());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var Z=ae(h.expirationTime<=V);V=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(c)&&r(c),b(V)}else r(c);h=n(c)}if(h!==null)var Q=!0;else{var ve=n(d);ve!==null&&ie(S,ve.startTime-V),Q=!1}return Q}finally{h=null,p=q,x=!1}}var O=!1,T=null,E=-1,k=5,I=-1;function R(){return!(t.unstable_now()-I<k)}function L(){if(T!==null){var D=t.unstable_now();I=D;var V=!0;try{V=T(!0,D)}finally{V?A():(O=!1,T=null)}}else O=!1}var A;if(typeof y=="function")A=function(){y(L)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,pe=me.port2;me.port1.onmessage=L,A=function(){pe.postMessage(null)}}else A=function(){N(L,0)};function ke(D){T=D,O||(O=!0,A())}function ie(D,V){E=N(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,ke(P))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var q=p;p=V;try{return D()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=p;p=D;try{return V()}finally{p=q}},t.unstable_scheduleCallback=function(D,V,q){var ae=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ae+q:ae):q=ae,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=q+Z,D={id:f++,callback:V,priorityLevel:D,startTime:q,expirationTime:Z,sortIndex:-1},q>ae?(D.sortIndex=q,e(d,D),n(c)===null&&D===n(d)&&(j?(w(E),E=-1):j=!0,ie(S,q-ae))):(D.sortIndex=Z,e(c,D),_||x||(_=!0,ke(P))),D},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(D){var V=p;return function(){var q=p;p=V;try{return D.apply(this,arguments)}finally{p=q}}}})(c_);l_.exports=c_;var sS=l_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS=m,cr=sS;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u_=new Set,Tc={};function Fa(t,e){Bo(t,e),Bo(t+"Capture",e)}function Bo(t,e){for(Tc[t]=e,t=0;t<e.length;t++)u_.add(e[t])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rp=Object.prototype.hasOwnProperty,aS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wv={},qv={};function oS(t){return Rp.call(qv,t)?!0:Rp.call(Wv,t)?!1:aS.test(t)?qv[t]=!0:(Wv[t]=!0,!1)}function lS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cS(t,e,n,r){if(e===null||typeof e>"u"||lS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Un(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fn[t]=new Un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fn[e]=new Un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fn[t]=new Un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fn[t]=new Un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fn[t]=new Un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fn[t]=new Un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fn[t]=new Un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fn[t]=new Un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fn[t]=new Un(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hg=/[\-:]([a-z])/g;function Wg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hg,Wg);fn[e]=new Un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hg,Wg);fn[e]=new Un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hg,Wg);fn[e]=new Un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fn[t]=new Un(t,1,!1,t.toLowerCase(),null,!1,!1)});fn.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fn[t]=new Un(t,1,!1,t.toLowerCase(),null,!0,!0)});function qg(t,e,n,r){var s=fn.hasOwnProperty(e)?fn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cS(e,n,s,r)&&(n=null),r||s===null?oS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Us=iS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ad=Symbol.for("react.element"),uo=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),Gg=Symbol.for("react.strict_mode"),Dp=Symbol.for("react.profiler"),d_=Symbol.for("react.provider"),f_=Symbol.for("react.context"),Kg=Symbol.for("react.forward_ref"),Lp=Symbol.for("react.suspense"),Mp=Symbol.for("react.suspense_list"),Qg=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),h_=Symbol.for("react.offscreen"),Gv=Symbol.iterator;function Ml(t){return t===null||typeof t!="object"?null:(t=Gv&&t[Gv]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,Cm;function ql(t){if(Cm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cm=e&&e[1]||""}return`
`+Cm+t}var km=!1;function Am(t,e){if(!t||km)return"";km=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{km=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ql(t):""}function uS(t){switch(t.tag){case 5:return ql(t.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 2:case 15:return t=Am(t.type,!1),t;case 11:return t=Am(t.type.render,!1),t;case 1:return t=Am(t.type,!0),t;default:return""}}function Op(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fo:return"Fragment";case uo:return"Portal";case Dp:return"Profiler";case Gg:return"StrictMode";case Lp:return"Suspense";case Mp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case f_:return(t.displayName||"Context")+".Consumer";case d_:return(t._context.displayName||"Context")+".Provider";case Kg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qg:return e=t.displayName||null,e!==null?e:Op(t.type)||"Memo";case Ys:e=t._payload,t=t._init;try{return Op(t(e))}catch{}}return null}function dS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Op(e);case 8:return e===Gg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ii(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fS(t){var e=m_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function od(t){t._valueTracker||(t._valueTracker=fS(t))}function p_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=m_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fp(t,e){var n=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ii(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function g_(t,e){e=e.checked,e!=null&&qg(t,"checked",e,!1)}function $p(t,e){g_(t,e);var n=Ii(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vp(t,e.type,Ii(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vp(t,e,n){(e!=="number"||uf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gl=Array.isArray;function So(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ii(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Up(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Gl(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ii(n)}}function x_(t,e){var n=Ii(e.value),r=Ii(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function y_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?y_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ld,v_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ld=ld||document.createElement("div"),ld.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ld.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hS=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(t){hS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ac[e]=ac[t]})});function b_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ac.hasOwnProperty(t)&&ac[t]?(""+e).trim():e+"px"}function w_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=b_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var mS=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bp(t,e){if(e){if(mS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Hp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wp=null;function Yg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qp=null,Io=null,Co=null;function Jv(t){if(t=uu(t)){if(typeof qp!="function")throw Error(J(280));var e=t.stateNode;e&&(e=yh(e),qp(t.stateNode,t.type,e))}}function __(t){Io?Co?Co.push(t):Co=[t]:Io=t}function N_(){if(Io){var t=Io,e=Co;if(Co=Io=null,Jv(t),e)for(t=0;t<e.length;t++)Jv(e[t])}}function E_(t,e){return t(e)}function j_(){}var Pm=!1;function T_(t,e,n){if(Pm)return t(e,n);Pm=!0;try{return E_(t,e,n)}finally{Pm=!1,(Io!==null||Co!==null)&&(j_(),N_())}}function Ic(t,e){var n=t.stateNode;if(n===null)return null;var r=yh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Gp=!1;if(Cs)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){Gp=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{Gp=!1}function pS(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var oc=!1,df=null,ff=!1,Kp=null,gS={onError:function(t){oc=!0,df=t}};function xS(t,e,n,r,s,i,o,l,c){oc=!1,df=null,pS.apply(gS,arguments)}function yS(t,e,n,r,s,i,o,l,c){if(xS.apply(this,arguments),oc){if(oc){var d=df;oc=!1,df=null}else throw Error(J(198));ff||(ff=!0,Kp=d)}}function $a(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function S_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zv(t){if($a(t)!==t)throw Error(J(188))}function vS(t){var e=t.alternate;if(!e){if(e=$a(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Zv(s),t;if(i===r)return Zv(s),e;i=i.sibling}throw Error(J(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function I_(t){return t=vS(t),t!==null?C_(t):null}function C_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=C_(t);if(e!==null)return e;t=t.sibling}return null}var k_=cr.unstable_scheduleCallback,e1=cr.unstable_cancelCallback,bS=cr.unstable_shouldYield,wS=cr.unstable_requestPaint,Ft=cr.unstable_now,_S=cr.unstable_getCurrentPriorityLevel,Xg=cr.unstable_ImmediatePriority,A_=cr.unstable_UserBlockingPriority,hf=cr.unstable_NormalPriority,NS=cr.unstable_LowPriority,P_=cr.unstable_IdlePriority,mh=null,rs=null;function ES(t){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(mh,t,void 0,(t.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:SS,jS=Math.log,TS=Math.LN2;function SS(t){return t>>>=0,t===0?32:31-(jS(t)/TS|0)|0}var cd=64,ud=4194304;function Kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Kl(l):(i&=o,i!==0&&(r=Kl(i)))}else o=n&~s,o!==0?r=Kl(o):i!==0&&(r=Kl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mr(e),s=1<<n,r|=t[n],e&=~s;return r}function IS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Mr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=IS(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Qp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function R_(){var t=cd;return cd<<=1,!(cd&4194240)&&(cd=64),t}function Rm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mr(e),t[e]=n}function kS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Mr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Jg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ye=0;function D_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var L_,Zg,M_,O_,F_,Yp=!1,dd=[],fi=null,hi=null,mi=null,Cc=new Map,kc=new Map,Js=[],AS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t1(t,e){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Cc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(e.pointerId)}}function Fl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=uu(e),e!==null&&Zg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function PS(t,e,n,r,s){switch(e){case"focusin":return fi=Fl(fi,t,e,n,r,s),!0;case"dragenter":return hi=Fl(hi,t,e,n,r,s),!0;case"mouseover":return mi=Fl(mi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Cc.set(i,Fl(Cc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,kc.set(i,Fl(kc.get(i)||null,t,e,n,r,s)),!0}return!1}function $_(t){var e=oa(t.target);if(e!==null){var n=$a(e);if(n!==null){if(e=n.tag,e===13){if(e=S_(n),e!==null){t.blockedOn=e,F_(t.priority,function(){M_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wp=r,n.target.dispatchEvent(r),Wp=null}else return e=uu(n),e!==null&&Zg(e),t.blockedOn=n,!1;e.shift()}return!0}function n1(t,e,n){Vd(t)&&n.delete(e)}function RS(){Yp=!1,fi!==null&&Vd(fi)&&(fi=null),hi!==null&&Vd(hi)&&(hi=null),mi!==null&&Vd(mi)&&(mi=null),Cc.forEach(n1),kc.forEach(n1)}function $l(t,e){t.blockedOn===e&&(t.blockedOn=null,Yp||(Yp=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,RS)))}function Ac(t){function e(s){return $l(s,t)}if(0<dd.length){$l(dd[0],t);for(var n=1;n<dd.length;n++){var r=dd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fi!==null&&$l(fi,t),hi!==null&&$l(hi,t),mi!==null&&$l(mi,t),Cc.forEach(e),kc.forEach(e),n=0;n<Js.length;n++)r=Js[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Js.length&&(n=Js[0],n.blockedOn===null);)$_(n),n.blockedOn===null&&Js.shift()}var ko=Us.ReactCurrentBatchConfig,pf=!0;function DS(t,e,n,r){var s=Ye,i=ko.transition;ko.transition=null;try{Ye=1,ex(t,e,n,r)}finally{Ye=s,ko.transition=i}}function LS(t,e,n,r){var s=Ye,i=ko.transition;ko.transition=null;try{Ye=4,ex(t,e,n,r)}finally{Ye=s,ko.transition=i}}function ex(t,e,n,r){if(pf){var s=Xp(t,e,n,r);if(s===null)Bm(t,e,r,gf,n),t1(t,r);else if(PS(s,t,e,n,r))r.stopPropagation();else if(t1(t,r),e&4&&-1<AS.indexOf(t)){for(;s!==null;){var i=uu(s);if(i!==null&&L_(i),i=Xp(t,e,n,r),i===null&&Bm(t,e,r,gf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Bm(t,e,r,null,n)}}var gf=null;function Xp(t,e,n,r){if(gf=null,t=Yg(r),t=oa(t),t!==null)if(e=$a(t),e===null)t=null;else if(n=e.tag,n===13){if(t=S_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gf=t,null}function V_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_S()){case Xg:return 1;case A_:return 4;case hf:case NS:return 16;case P_:return 536870912;default:return 16}default:return 16}}var oi=null,tx=null,Ud=null;function U_(){if(Ud)return Ud;var t,e=tx,n=e.length,r,s="value"in oi?oi.value:oi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ud=s.slice(t,1<r?1-r:void 0)}function zd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fd(){return!0}function r1(){return!1}function fr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fd:r1,this.isPropagationStopped=r1,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fd)},persist:function(){},isPersistent:fd}),e}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nx=fr(ll),cu=Tt({},ll,{view:0,detail:0}),MS=fr(cu),Dm,Lm,Vl,ph=Tt({},cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vl&&(Vl&&t.type==="mousemove"?(Dm=t.screenX-Vl.screenX,Lm=t.screenY-Vl.screenY):Lm=Dm=0,Vl=t),Dm)},movementY:function(t){return"movementY"in t?t.movementY:Lm}}),s1=fr(ph),OS=Tt({},ph,{dataTransfer:0}),FS=fr(OS),$S=Tt({},cu,{relatedTarget:0}),Mm=fr($S),VS=Tt({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),US=fr(VS),zS=Tt({},ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BS=fr(zS),HS=Tt({},ll,{data:0}),i1=fr(HS),WS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GS[t])?!!e[t]:!1}function rx(){return KS}var QS=Tt({},cu,{key:function(t){if(t.key){var e=WS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rx,charCode:function(t){return t.type==="keypress"?zd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YS=fr(QS),XS=Tt({},ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a1=fr(XS),JS=Tt({},cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rx}),ZS=fr(JS),eI=Tt({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),tI=fr(eI),nI=Tt({},ph,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rI=fr(nI),sI=[9,13,27,32],sx=Cs&&"CompositionEvent"in window,lc=null;Cs&&"documentMode"in document&&(lc=document.documentMode);var iI=Cs&&"TextEvent"in window&&!lc,z_=Cs&&(!sx||lc&&8<lc&&11>=lc),o1=" ",l1=!1;function B_(t,e){switch(t){case"keyup":return sI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function aI(t,e){switch(t){case"compositionend":return H_(e);case"keypress":return e.which!==32?null:(l1=!0,o1);case"textInput":return t=e.data,t===o1&&l1?null:t;default:return null}}function oI(t,e){if(ho)return t==="compositionend"||!sx&&B_(t,e)?(t=U_(),Ud=tx=oi=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return z_&&e.locale!=="ko"?null:e.data;default:return null}}var lI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lI[t.type]:e==="textarea"}function W_(t,e,n,r){__(r),e=xf(e,"onChange"),0<e.length&&(n=new nx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cc=null,Pc=null;function cI(t){nN(t,0)}function gh(t){var e=go(t);if(p_(e))return t}function uI(t,e){if(t==="change")return e}var q_=!1;if(Cs){var Om;if(Cs){var Fm="oninput"in document;if(!Fm){var u1=document.createElement("div");u1.setAttribute("oninput","return;"),Fm=typeof u1.oninput=="function"}Om=Fm}else Om=!1;q_=Om&&(!document.documentMode||9<document.documentMode)}function d1(){cc&&(cc.detachEvent("onpropertychange",G_),Pc=cc=null)}function G_(t){if(t.propertyName==="value"&&gh(Pc)){var e=[];W_(e,Pc,t,Yg(t)),T_(cI,e)}}function dI(t,e,n){t==="focusin"?(d1(),cc=e,Pc=n,cc.attachEvent("onpropertychange",G_)):t==="focusout"&&d1()}function fI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gh(Pc)}function hI(t,e){if(t==="click")return gh(e)}function mI(t,e){if(t==="input"||t==="change")return gh(e)}function pI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fr=typeof Object.is=="function"?Object.is:pI;function Rc(t,e){if(Fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Rp.call(e,s)||!Fr(t[s],e[s]))return!1}return!0}function f1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h1(t,e){var n=f1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=f1(n)}}function K_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?K_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Q_(){for(var t=window,e=uf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uf(t.document)}return e}function ix(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gI(t){var e=Q_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&K_(n.ownerDocument.documentElement,n)){if(r!==null&&ix(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=h1(n,i);var o=h1(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xI=Cs&&"documentMode"in document&&11>=document.documentMode,mo=null,Jp=null,uc=null,Zp=!1;function m1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zp||mo==null||mo!==uf(r)||(r=mo,"selectionStart"in r&&ix(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uc&&Rc(uc,r)||(uc=r,r=xf(Jp,"onSelect"),0<r.length&&(e=new nx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mo)))}function hd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var po={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},$m={},Y_={};Cs&&(Y_=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function xh(t){if($m[t])return $m[t];if(!po[t])return t;var e=po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Y_)return $m[t]=e[n];return t}var X_=xh("animationend"),J_=xh("animationiteration"),Z_=xh("animationstart"),eN=xh("transitionend"),tN=new Map,p1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,e){tN.set(t,e),Fa(e,[t])}for(var Vm=0;Vm<p1.length;Vm++){var Um=p1[Vm],yI=Um.toLowerCase(),vI=Um[0].toUpperCase()+Um.slice(1);$i(yI,"on"+vI)}$i(X_,"onAnimationEnd");$i(J_,"onAnimationIteration");$i(Z_,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(eN,"onTransitionEnd");Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function g1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yS(r,e,void 0,t),t.currentTarget=null}function nN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;g1(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;g1(s,l,d),i=c}}}if(ff)throw t=Kp,ff=!1,Kp=null,t}function ct(t,e){var n=e[s0];n===void 0&&(n=e[s0]=new Set);var r=t+"__bubble";n.has(r)||(rN(e,t,2,!1),n.add(r))}function zm(t,e,n){var r=0;e&&(r|=4),rN(n,t,r,e)}var md="_reactListening"+Math.random().toString(36).slice(2);function Dc(t){if(!t[md]){t[md]=!0,u_.forEach(function(n){n!=="selectionchange"&&(bI.has(n)||zm(n,!1,t),zm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[md]||(e[md]=!0,zm("selectionchange",!1,e))}}function rN(t,e,n,r){switch(V_(e)){case 1:var s=DS;break;case 4:s=LS;break;default:s=ex}n=s.bind(null,e,n,t),s=void 0,!Gp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Bm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=oa(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}T_(function(){var d=i,f=Yg(n),h=[];e:{var p=tN.get(t);if(p!==void 0){var x=nx,_=t;switch(t){case"keypress":if(zd(n)===0)break e;case"keydown":case"keyup":x=YS;break;case"focusin":_="focus",x=Mm;break;case"focusout":_="blur",x=Mm;break;case"beforeblur":case"afterblur":x=Mm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=s1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=FS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=ZS;break;case X_:case J_:case Z_:x=US;break;case eN:x=tI;break;case"scroll":x=MS;break;case"wheel":x=rI;break;case"copy":case"cut":case"paste":x=BS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=a1}var j=(e&4)!==0,N=!j&&t==="scroll",w=j?p!==null?p+"Capture":null:p;j=[];for(var y=d,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,w!==null&&(S=Ic(y,w),S!=null&&j.push(Lc(y,S,b)))),N)break;y=y.return}0<j.length&&(p=new x(p,_,null,n,f),h.push({event:p,listeners:j}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",p&&n!==Wp&&(_=n.relatedTarget||n.fromElement)&&(oa(_)||_[ks]))break e;if((x||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,x?(_=n.relatedTarget||n.toElement,x=d,_=_?oa(_):null,_!==null&&(N=$a(_),_!==N||_.tag!==5&&_.tag!==6)&&(_=null)):(x=null,_=d),x!==_)){if(j=s1,S="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(j=a1,S="onPointerLeave",w="onPointerEnter",y="pointer"),N=x==null?p:go(x),b=_==null?p:go(_),p=new j(S,y+"leave",x,n,f),p.target=N,p.relatedTarget=b,S=null,oa(f)===d&&(j=new j(w,y+"enter",_,n,f),j.target=b,j.relatedTarget=N,S=j),N=S,x&&_)t:{for(j=x,w=_,y=0,b=j;b;b=so(b))y++;for(b=0,S=w;S;S=so(S))b++;for(;0<y-b;)j=so(j),y--;for(;0<b-y;)w=so(w),b--;for(;y--;){if(j===w||w!==null&&j===w.alternate)break t;j=so(j),w=so(w)}j=null}else j=null;x!==null&&x1(h,p,x,j,!1),_!==null&&N!==null&&x1(h,N,_,j,!0)}}e:{if(p=d?go(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var P=uI;else if(c1(p))if(q_)P=mI;else{P=fI;var O=dI}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=hI);if(P&&(P=P(t,d))){W_(h,P,n,f);break e}O&&O(t,p,d),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Vp(p,"number",p.value)}switch(O=d?go(d):window,t){case"focusin":(c1(O)||O.contentEditable==="true")&&(mo=O,Jp=d,uc=null);break;case"focusout":uc=Jp=mo=null;break;case"mousedown":Zp=!0;break;case"contextmenu":case"mouseup":case"dragend":Zp=!1,m1(h,n,f);break;case"selectionchange":if(xI)break;case"keydown":case"keyup":m1(h,n,f)}var T;if(sx)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ho?B_(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(z_&&n.locale!=="ko"&&(ho||E!=="onCompositionStart"?E==="onCompositionEnd"&&ho&&(T=U_()):(oi=f,tx="value"in oi?oi.value:oi.textContent,ho=!0)),O=xf(d,E),0<O.length&&(E=new i1(E,t,null,n,f),h.push({event:E,listeners:O}),T?E.data=T:(T=H_(n),T!==null&&(E.data=T)))),(T=iI?aI(t,n):oI(t,n))&&(d=xf(d,"onBeforeInput"),0<d.length&&(f=new i1("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=T))}nN(h,e)})}function Lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ic(t,n),i!=null&&r.unshift(Lc(t,i,s)),i=Ic(t,e),i!=null&&r.push(Lc(t,i,s))),t=t.return}return r}function so(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x1(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Ic(n,i),c!=null&&o.unshift(Lc(n,c,l))):s||(c=Ic(n,i),c!=null&&o.push(Lc(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wI=/\r\n?/g,_I=/\u0000|\uFFFD/g;function y1(t){return(typeof t=="string"?t:""+t).replace(wI,`
`).replace(_I,"")}function pd(t,e,n){if(e=y1(e),y1(t)!==e&&n)throw Error(J(425))}function yf(){}var e0=null,t0=null;function n0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var r0=typeof setTimeout=="function"?setTimeout:void 0,NI=typeof clearTimeout=="function"?clearTimeout:void 0,v1=typeof Promise=="function"?Promise:void 0,EI=typeof queueMicrotask=="function"?queueMicrotask:typeof v1<"u"?function(t){return v1.resolve(null).then(t).catch(jI)}:r0;function jI(t){setTimeout(function(){throw t})}function Hm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ac(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ac(e)}function pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cl=Math.random().toString(36).slice(2),Yr="__reactFiber$"+cl,Mc="__reactProps$"+cl,ks="__reactContainer$"+cl,s0="__reactEvents$"+cl,TI="__reactListeners$"+cl,SI="__reactHandles$"+cl;function oa(t){var e=t[Yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ks]||n[Yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b1(t);t!==null;){if(n=t[Yr])return n;t=b1(t)}return e}t=n,n=t.parentNode}return null}function uu(t){return t=t[Yr]||t[ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function yh(t){return t[Mc]||null}var i0=[],xo=-1;function Vi(t){return{current:t}}function ft(t){0>xo||(t.current=i0[xo],i0[xo]=null,xo--)}function at(t,e){xo++,i0[xo]=t.current,t.current=e}var Ci={},En=Vi(Ci),Gn=Vi(!1),wa=Ci;function Ho(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Kn(t){return t=t.childContextTypes,t!=null}function vf(){ft(Gn),ft(En)}function w1(t,e,n){if(En.current!==Ci)throw Error(J(168));at(En,e),at(Gn,n)}function sN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(J(108,dS(t)||"Unknown",s));return Tt({},n,r)}function bf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,wa=En.current,at(En,t),at(Gn,Gn.current),!0}function _1(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=sN(t,e,wa),r.__reactInternalMemoizedMergedChildContext=t,ft(Gn),ft(En),at(En,t)):ft(Gn),at(Gn,n)}var vs=null,vh=!1,Wm=!1;function iN(t){vs===null?vs=[t]:vs.push(t)}function II(t){vh=!0,iN(t)}function Ui(){if(!Wm&&vs!==null){Wm=!0;var t=0,e=Ye;try{var n=vs;for(Ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vs=null,vh=!1}catch(s){throw vs!==null&&(vs=vs.slice(t+1)),k_(Xg,Ui),s}finally{Ye=e,Wm=!1}}return null}var yo=[],vo=0,wf=null,_f=0,xr=[],yr=0,_a=null,bs=1,ws="";function na(t,e){yo[vo++]=_f,yo[vo++]=wf,wf=t,_f=e}function aN(t,e,n){xr[yr++]=bs,xr[yr++]=ws,xr[yr++]=_a,_a=t;var r=bs;t=ws;var s=32-Mr(r)-1;r&=~(1<<s),n+=1;var i=32-Mr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,bs=1<<32-Mr(e)+s|n<<s|r,ws=i+t}else bs=1<<i|n<<s|r,ws=t}function ax(t){t.return!==null&&(na(t,1),aN(t,1,0))}function ox(t){for(;t===wf;)wf=yo[--vo],yo[vo]=null,_f=yo[--vo],yo[vo]=null;for(;t===_a;)_a=xr[--yr],xr[yr]=null,ws=xr[--yr],xr[yr]=null,bs=xr[--yr],xr[yr]=null}var or=null,sr=null,gt=!1,Rr=null;function oN(t,e){var n=vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function N1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,or=t,sr=pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,or=t,sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_a!==null?{id:bs,overflow:ws}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,or=t,sr=null,!0):!1;default:return!1}}function a0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function o0(t){if(gt){var e=sr;if(e){var n=e;if(!N1(t,e)){if(a0(t))throw Error(J(418));e=pi(n.nextSibling);var r=or;e&&N1(t,e)?oN(r,n):(t.flags=t.flags&-4097|2,gt=!1,or=t)}}else{if(a0(t))throw Error(J(418));t.flags=t.flags&-4097|2,gt=!1,or=t}}}function E1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;or=t}function gd(t){if(t!==or)return!1;if(!gt)return E1(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!n0(t.type,t.memoizedProps)),e&&(e=sr)){if(a0(t))throw lN(),Error(J(418));for(;e;)oN(t,e),e=pi(e.nextSibling)}if(E1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sr=pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sr=null}}else sr=or?pi(t.stateNode.nextSibling):null;return!0}function lN(){for(var t=sr;t;)t=pi(t.nextSibling)}function Wo(){sr=or=null,gt=!1}function lx(t){Rr===null?Rr=[t]:Rr.push(t)}var CI=Us.ReactCurrentBatchConfig;function Ul(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function xd(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j1(t){var e=t._init;return e(t._payload)}function cN(t){function e(w,y){if(t){var b=w.deletions;b===null?(w.deletions=[y],w.flags|=16):b.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=vi(w,y),w.index=0,w.sibling=null,w}function i(w,y,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<y?(w.flags|=2,y):b):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,y,b,S){return y===null||y.tag!==6?(y=Jm(b,w.mode,S),y.return=w,y):(y=s(y,b),y.return=w,y)}function c(w,y,b,S){var P=b.type;return P===fo?f(w,y,b.props.children,S,b.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ys&&j1(P)===y.type)?(S=s(y,b.props),S.ref=Ul(w,y,b),S.return=w,S):(S=Qd(b.type,b.key,b.props,null,w.mode,S),S.ref=Ul(w,y,b),S.return=w,S)}function d(w,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Zm(b,w.mode,S),y.return=w,y):(y=s(y,b.children||[]),y.return=w,y)}function f(w,y,b,S,P){return y===null||y.tag!==7?(y=pa(b,w.mode,S,P),y.return=w,y):(y=s(y,b),y.return=w,y)}function h(w,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Jm(""+y,w.mode,b),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ad:return b=Qd(y.type,y.key,y.props,null,w.mode,b),b.ref=Ul(w,null,y),b.return=w,b;case uo:return y=Zm(y,w.mode,b),y.return=w,y;case Ys:var S=y._init;return h(w,S(y._payload),b)}if(Gl(y)||Ml(y))return y=pa(y,w.mode,b,null),y.return=w,y;xd(w,y)}return null}function p(w,y,b,S){var P=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:l(w,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ad:return b.key===P?c(w,y,b,S):null;case uo:return b.key===P?d(w,y,b,S):null;case Ys:return P=b._init,p(w,y,P(b._payload),S)}if(Gl(b)||Ml(b))return P!==null?null:f(w,y,b,S,null);xd(w,b)}return null}function x(w,y,b,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(b)||null,l(y,w,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ad:return w=w.get(S.key===null?b:S.key)||null,c(y,w,S,P);case uo:return w=w.get(S.key===null?b:S.key)||null,d(y,w,S,P);case Ys:var O=S._init;return x(w,y,b,O(S._payload),P)}if(Gl(S)||Ml(S))return w=w.get(b)||null,f(y,w,S,P,null);xd(y,S)}return null}function _(w,y,b,S){for(var P=null,O=null,T=y,E=y=0,k=null;T!==null&&E<b.length;E++){T.index>E?(k=T,T=null):k=T.sibling;var I=p(w,T,b[E],S);if(I===null){T===null&&(T=k);break}t&&T&&I.alternate===null&&e(w,T),y=i(I,y,E),O===null?P=I:O.sibling=I,O=I,T=k}if(E===b.length)return n(w,T),gt&&na(w,E),P;if(T===null){for(;E<b.length;E++)T=h(w,b[E],S),T!==null&&(y=i(T,y,E),O===null?P=T:O.sibling=T,O=T);return gt&&na(w,E),P}for(T=r(w,T);E<b.length;E++)k=x(T,w,E,b[E],S),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?E:k.key),y=i(k,y,E),O===null?P=k:O.sibling=k,O=k);return t&&T.forEach(function(R){return e(w,R)}),gt&&na(w,E),P}function j(w,y,b,S){var P=Ml(b);if(typeof P!="function")throw Error(J(150));if(b=P.call(b),b==null)throw Error(J(151));for(var O=P=null,T=y,E=y=0,k=null,I=b.next();T!==null&&!I.done;E++,I=b.next()){T.index>E?(k=T,T=null):k=T.sibling;var R=p(w,T,I.value,S);if(R===null){T===null&&(T=k);break}t&&T&&R.alternate===null&&e(w,T),y=i(R,y,E),O===null?P=R:O.sibling=R,O=R,T=k}if(I.done)return n(w,T),gt&&na(w,E),P;if(T===null){for(;!I.done;E++,I=b.next())I=h(w,I.value,S),I!==null&&(y=i(I,y,E),O===null?P=I:O.sibling=I,O=I);return gt&&na(w,E),P}for(T=r(w,T);!I.done;E++,I=b.next())I=x(T,w,E,I.value,S),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?E:I.key),y=i(I,y,E),O===null?P=I:O.sibling=I,O=I);return t&&T.forEach(function(L){return e(w,L)}),gt&&na(w,E),P}function N(w,y,b,S){if(typeof b=="object"&&b!==null&&b.type===fo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ad:e:{for(var P=b.key,O=y;O!==null;){if(O.key===P){if(P=b.type,P===fo){if(O.tag===7){n(w,O.sibling),y=s(O,b.props.children),y.return=w,w=y;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ys&&j1(P)===O.type){n(w,O.sibling),y=s(O,b.props),y.ref=Ul(w,O,b),y.return=w,w=y;break e}n(w,O);break}else e(w,O);O=O.sibling}b.type===fo?(y=pa(b.props.children,w.mode,S,b.key),y.return=w,w=y):(S=Qd(b.type,b.key,b.props,null,w.mode,S),S.ref=Ul(w,y,b),S.return=w,w=S)}return o(w);case uo:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(w,y.sibling),y=s(y,b.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=Zm(b,w.mode,S),y.return=w,w=y}return o(w);case Ys:return O=b._init,N(w,y,O(b._payload),S)}if(Gl(b))return _(w,y,b,S);if(Ml(b))return j(w,y,b,S);xd(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,b),y.return=w,w=y):(n(w,y),y=Jm(b,w.mode,S),y.return=w,w=y),o(w)):n(w,y)}return N}var qo=cN(!0),uN=cN(!1),Nf=Vi(null),Ef=null,bo=null,cx=null;function ux(){cx=bo=Ef=null}function dx(t){var e=Nf.current;ft(Nf),t._currentValue=e}function l0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ao(t,e){Ef=t,cx=bo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qn=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(cx!==t)if(t={context:t,memoizedValue:e,next:null},bo===null){if(Ef===null)throw Error(J(308));bo=t,Ef.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var la=null;function fx(t){la===null?la=[t]:la.push(t)}function dN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,fx(e)):(n.next=s.next,s.next=n),e.interleaved=n,As(t,r)}function As(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xs=!1;function hx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,As(t,n)}return s=r.interleaved,s===null?(e.next=e,fx(r)):(e.next=s.next,s.next=e),r.interleaved=e,As(t,n)}function Bd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jg(t,n)}}function T1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jf(t,e,n,r){var s=t.updateQueue;Xs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,f=d=c=null,l=i;do{var p=l.lane,x=l.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,j=l;switch(p=e,x=n,j.tag){case 1:if(_=j.payload,typeof _=="function"){h=_.call(x,h,p);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=j.payload,p=typeof _=="function"?_.call(x,h,p):_,p==null)break e;h=Tt({},h,p);break e;case 2:Xs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=x,c=h):f=f.next=x,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ea|=o,t.lanes=o,t.memoizedState=h}}function S1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var du={},ss=Vi(du),Oc=Vi(du),Fc=Vi(du);function ca(t){if(t===du)throw Error(J(174));return t}function mx(t,e){switch(at(Fc,e),at(Oc,t),at(ss,du),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zp(e,t)}ft(ss),at(ss,e)}function Go(){ft(ss),ft(Oc),ft(Fc)}function hN(t){ca(Fc.current);var e=ca(ss.current),n=zp(e,t.type);e!==n&&(at(Oc,t),at(ss,n))}function px(t){Oc.current===t&&(ft(ss),ft(Oc))}var Nt=Vi(0);function Tf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qm=[];function gx(){for(var t=0;t<qm.length;t++)qm[t]._workInProgressVersionPrimary=null;qm.length=0}var Hd=Us.ReactCurrentDispatcher,Gm=Us.ReactCurrentBatchConfig,Na=0,jt=null,Gt=null,tn=null,Sf=!1,dc=!1,$c=0,kI=0;function xn(){throw Error(J(321))}function xx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fr(t[n],e[n]))return!1;return!0}function yx(t,e,n,r,s,i){if(Na=i,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hd.current=t===null||t.memoizedState===null?DI:LI,t=n(r,s),dc){i=0;do{if(dc=!1,$c=0,25<=i)throw Error(J(301));i+=1,tn=Gt=null,e.updateQueue=null,Hd.current=MI,t=n(r,s)}while(dc)}if(Hd.current=If,e=Gt!==null&&Gt.next!==null,Na=0,tn=Gt=jt=null,Sf=!1,e)throw Error(J(300));return t}function vx(){var t=$c!==0;return $c=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?jt.memoizedState=tn=t:tn=tn.next=t,tn}function Nr(){if(Gt===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var e=tn===null?jt.memoizedState:tn.next;if(e!==null)tn=e,Gt=t;else{if(t===null)throw Error(J(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},tn===null?jt.memoizedState=tn=t:tn=tn.next=t}return tn}function Vc(t,e){return typeof e=="function"?e(t):e}function Km(t){var e=Nr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var f=d.lane;if((Na&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,jt.lanes|=f,Ea|=f}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,Fr(r,e.memoizedState)||(qn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,jt.lanes|=i,Ea|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qm(t){var e=Nr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Fr(i,e.memoizedState)||(qn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function mN(){}function pN(t,e){var n=jt,r=Nr(),s=e(),i=!Fr(r.memoizedState,s);if(i&&(r.memoizedState=s,qn=!0),r=r.queue,bx(yN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||tn!==null&&tn.memoizedState.tag&1){if(n.flags|=2048,Uc(9,xN.bind(null,n,r,s,e),void 0,null),nn===null)throw Error(J(349));Na&30||gN(n,e,s)}return s}function gN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xN(t,e,n,r){e.value=n,e.getSnapshot=r,vN(e)&&bN(t)}function yN(t,e,n){return n(function(){vN(e)&&bN(t)})}function vN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fr(t,n)}catch{return!0}}function bN(t){var e=As(t,1);e!==null&&Or(e,t,1,-1)}function I1(t){var e=Kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:t},e.queue=t,t=t.dispatch=RI.bind(null,jt,t),[e.memoizedState,t]}function Uc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wN(){return Nr().memoizedState}function Wd(t,e,n,r){var s=Kr();jt.flags|=t,s.memoizedState=Uc(1|e,n,void 0,r===void 0?null:r)}function bh(t,e,n,r){var s=Nr();r=r===void 0?null:r;var i=void 0;if(Gt!==null){var o=Gt.memoizedState;if(i=o.destroy,r!==null&&xx(r,o.deps)){s.memoizedState=Uc(e,n,i,r);return}}jt.flags|=t,s.memoizedState=Uc(1|e,n,i,r)}function C1(t,e){return Wd(8390656,8,t,e)}function bx(t,e){return bh(2048,8,t,e)}function _N(t,e){return bh(4,2,t,e)}function NN(t,e){return bh(4,4,t,e)}function EN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jN(t,e,n){return n=n!=null?n.concat([t]):null,bh(4,4,EN.bind(null,e,t),n)}function wx(){}function TN(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function SN(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function IN(t,e,n){return Na&21?(Fr(n,e)||(n=R_(),jt.lanes|=n,Ea|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qn=!0),t.memoizedState=n)}function AI(t,e){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var r=Gm.transition;Gm.transition={};try{t(!1),e()}finally{Ye=n,Gm.transition=r}}function CN(){return Nr().memoizedState}function PI(t,e,n){var r=yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kN(t))AN(e,n);else if(n=dN(t,e,n,r),n!==null){var s=On();Or(n,t,r,s),PN(n,e,r)}}function RI(t,e,n){var r=yi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kN(t))AN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Fr(l,o)){var c=e.interleaved;c===null?(s.next=s,fx(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=dN(t,e,s,r),n!==null&&(s=On(),Or(n,t,r,s),PN(n,e,r))}}function kN(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function AN(t,e){dc=Sf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jg(t,n)}}var If={readContext:_r,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},DI={readContext:_r,useCallback:function(t,e){return Kr().memoizedState=[t,e===void 0?null:e],t},useContext:_r,useEffect:C1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wd(4194308,4,EN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wd(4,2,t,e)},useMemo:function(t,e){var n=Kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PI.bind(null,jt,t),[r.memoizedState,t]},useRef:function(t){var e=Kr();return t={current:t},e.memoizedState=t},useState:I1,useDebugValue:wx,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=I1(!1),e=t[0];return t=AI.bind(null,t[1]),Kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=jt,s=Kr();if(gt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),nn===null)throw Error(J(349));Na&30||gN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,C1(yN.bind(null,r,i,t),[t]),r.flags|=2048,Uc(9,xN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Kr(),e=nn.identifierPrefix;if(gt){var n=ws,r=bs;n=(r&~(1<<32-Mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$c++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LI={readContext:_r,useCallback:TN,useContext:_r,useEffect:bx,useImperativeHandle:jN,useInsertionEffect:_N,useLayoutEffect:NN,useMemo:SN,useReducer:Km,useRef:wN,useState:function(){return Km(Vc)},useDebugValue:wx,useDeferredValue:function(t){var e=Nr();return IN(e,Gt.memoizedState,t)},useTransition:function(){var t=Km(Vc)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:mN,useSyncExternalStore:pN,useId:CN,unstable_isNewReconciler:!1},MI={readContext:_r,useCallback:TN,useContext:_r,useEffect:bx,useImperativeHandle:jN,useInsertionEffect:_N,useLayoutEffect:NN,useMemo:SN,useReducer:Qm,useRef:wN,useState:function(){return Qm(Vc)},useDebugValue:wx,useDeferredValue:function(t){var e=Nr();return Gt===null?e.memoizedState=t:IN(e,Gt.memoizedState,t)},useTransition:function(){var t=Qm(Vc)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:mN,useSyncExternalStore:pN,useId:CN,unstable_isNewReconciler:!1};function Ar(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function c0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wh={isMounted:function(t){return(t=t._reactInternals)?$a(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=On(),s=yi(t),i=js(r,s);i.payload=e,n!=null&&(i.callback=n),e=gi(t,i,s),e!==null&&(Or(e,t,s,r),Bd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=On(),s=yi(t),i=js(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=gi(t,i,s),e!==null&&(Or(e,t,s,r),Bd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),r=yi(t),s=js(n,r);s.tag=2,e!=null&&(s.callback=e),e=gi(t,s,r),e!==null&&(Or(e,t,r,n),Bd(e,t,r))}};function k1(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Rc(n,r)||!Rc(s,i):!0}function RN(t,e,n){var r=!1,s=Ci,i=e.contextType;return typeof i=="object"&&i!==null?i=_r(i):(s=Kn(e)?wa:En.current,r=e.contextTypes,i=(r=r!=null)?Ho(t,s):Ci),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function A1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wh.enqueueReplaceState(e,e.state,null)}function u0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},hx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=_r(i):(i=Kn(e)?wa:En.current,s.context=Ho(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(c0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wh.enqueueReplaceState(s,s.state,null),jf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ko(t,e){try{var n="",r=e;do n+=uS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ym(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function d0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OI=typeof WeakMap=="function"?WeakMap:Map;function DN(t,e,n){n=js(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kf||(kf=!0,w0=r),d0(t,e)},n}function LN(t,e,n){n=js(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){d0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){d0(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function P1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OI;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=XI.bind(null,t,e,n),e.then(t,t))}function R1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function D1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=js(-1,1),e.tag=2,gi(n,e,1))),n.lanes|=1),t)}var FI=Us.ReactCurrentOwner,qn=!1;function An(t,e,n,r){e.child=t===null?uN(e,null,n,r):qo(e,t.child,n,r)}function L1(t,e,n,r,s){n=n.render;var i=e.ref;return Ao(e,s),r=yx(t,e,n,r,i,s),n=vx(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ps(t,e,s)):(gt&&n&&ax(e),e.flags|=1,An(t,e,r,s),e.child)}function M1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Cx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,MN(t,e,i,r,s)):(t=Qd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rc,n(o,r)&&t.ref===e.ref)return Ps(t,e,s)}return e.flags|=1,t=vi(i,r),t.ref=e.ref,t.return=e,e.child=t}function MN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Rc(i,r)&&t.ref===e.ref)if(qn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(qn=!0);else return e.lanes=t.lanes,Ps(t,e,s)}return f0(t,e,n,r,s)}function ON(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(_o,nr),nr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(_o,nr),nr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,at(_o,nr),nr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,at(_o,nr),nr|=r;return An(t,e,s,n),e.child}function FN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function f0(t,e,n,r,s){var i=Kn(n)?wa:En.current;return i=Ho(e,i),Ao(e,s),n=yx(t,e,n,r,i,s),r=vx(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ps(t,e,s)):(gt&&r&&ax(e),e.flags|=1,An(t,e,n,s),e.child)}function O1(t,e,n,r,s){if(Kn(n)){var i=!0;bf(e)}else i=!1;if(Ao(e,s),e.stateNode===null)qd(t,e),RN(e,n,r),u0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=_r(d):(d=Kn(n)?wa:En.current,d=Ho(e,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&A1(e,o,r,d),Xs=!1;var p=e.memoizedState;o.state=p,jf(e,r,o,s),c=e.memoizedState,l!==r||p!==c||Gn.current||Xs?(typeof f=="function"&&(c0(e,n,f,r),c=e.memoizedState),(l=Xs||k1(e,n,l,r,p,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fN(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Ar(e.type,l),o.props=d,h=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=_r(c):(c=Kn(n)?wa:En.current,c=Ho(e,c));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&A1(e,o,r,c),Xs=!1,p=e.memoizedState,o.state=p,jf(e,r,o,s);var _=e.memoizedState;l!==h||p!==_||Gn.current||Xs?(typeof x=="function"&&(c0(e,n,x,r),_=e.memoizedState),(d=Xs||k1(e,n,d,r,p,_,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return h0(t,e,n,r,i,s)}function h0(t,e,n,r,s,i){FN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&_1(e,n,!1),Ps(t,e,i);r=e.stateNode,FI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qo(e,t.child,null,i),e.child=qo(e,null,l,i)):An(t,e,l,i),e.memoizedState=r.state,s&&_1(e,n,!0),e.child}function $N(t){var e=t.stateNode;e.pendingContext?w1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&w1(t,e.context,!1),mx(t,e.containerInfo)}function F1(t,e,n,r,s){return Wo(),lx(s),e.flags|=256,An(t,e,n,r),e.child}var m0={dehydrated:null,treeContext:null,retryLane:0};function p0(t){return{baseLanes:t,cachePool:null,transitions:null}}function VN(t,e,n){var r=e.pendingProps,s=Nt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),at(Nt,s&1),t===null)return o0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Eh(o,r,0,null),t=pa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=p0(n),e.memoizedState=m0,t):_x(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $I(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=vi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=vi(l,i):(i=pa(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?p0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=m0,r}return i=t.child,t=i.sibling,r=vi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _x(t,e){return e=Eh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yd(t,e,n,r){return r!==null&&lx(r),qo(e,t.child,null,n),t=_x(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $I(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ym(Error(J(422))),yd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Eh({mode:"visible",children:r.children},s,0,null),i=pa(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&qo(e,t.child,null,o),e.child.memoizedState=p0(o),e.memoizedState=m0,i);if(!(e.mode&1))return yd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(J(419)),r=Ym(i,r,void 0),yd(t,e,o,r)}if(l=(o&t.childLanes)!==0,qn||l){if(r=nn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,As(t,s),Or(r,t,s,-1))}return Ix(),r=Ym(Error(J(421))),yd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=JI.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,sr=pi(s.nextSibling),or=e,gt=!0,Rr=null,t!==null&&(xr[yr++]=bs,xr[yr++]=ws,xr[yr++]=_a,bs=t.id,ws=t.overflow,_a=e),e=_x(e,r.children),e.flags|=4096,e)}function $1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),l0(t.return,e,n)}function Xm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function UN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(An(t,e,r.children,n),r=Nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$1(t,n,e);else if(t.tag===19)$1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(Nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Tf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Xm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Tf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Xm(e,!0,n,null,i);break;case"together":Xm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ps(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ea|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VI(t,e,n){switch(e.tag){case 3:$N(e),Wo();break;case 5:hN(e);break;case 1:Kn(e.type)&&bf(e);break;case 4:mx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;at(Nf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(Nt,Nt.current&1),e.flags|=128,null):n&e.child.childLanes?VN(t,e,n):(at(Nt,Nt.current&1),t=Ps(t,e,n),t!==null?t.sibling:null);at(Nt,Nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return UN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),at(Nt,Nt.current),r)break;return null;case 22:case 23:return e.lanes=0,ON(t,e,n)}return Ps(t,e,n)}var zN,g0,BN,HN;zN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};g0=function(){};BN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ca(ss.current);var i=null;switch(n){case"input":s=Fp(t,s),r=Fp(t,r),i=[];break;case"select":s=Tt({},s,{value:void 0}),r=Tt({},r,{value:void 0}),i=[];break;case"textarea":s=Up(t,s),r=Up(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yf)}Bp(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Tc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Tc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ct("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};HN=function(t,e,n,r){n!==r&&(e.flags|=4)};function zl(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UI(t,e,n){var r=e.pendingProps;switch(ox(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(e),null;case 1:return Kn(e.type)&&vf(),yn(e),null;case 3:return r=e.stateNode,Go(),ft(Gn),ft(En),gx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rr!==null&&(E0(Rr),Rr=null))),g0(t,e),yn(e),null;case 5:px(e);var s=ca(Fc.current);if(n=e.type,t!==null&&e.stateNode!=null)BN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return yn(e),null}if(t=ca(ss.current),gd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Yr]=e,r[Mc]=i,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(s=0;s<Ql.length;s++)ct(Ql[s],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":Kv(r,i),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ct("invalid",r);break;case"textarea":Yv(r,i),ct("invalid",r)}Bp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&pd(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&pd(r.textContent,l,t),s=["children",""+l]):Tc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ct("scroll",r)}switch(n){case"input":od(r),Qv(r,i,!0);break;case"textarea":od(r),Xv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=y_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yr]=e,t[Mc]=r,zN(t,e,!1,!1),e.stateNode=t;e:{switch(o=Hp(n,r),n){case"dialog":ct("cancel",t),ct("close",t),s=r;break;case"iframe":case"object":case"embed":ct("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ql.length;s++)ct(Ql[s],t);s=r;break;case"source":ct("error",t),s=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),s=r;break;case"details":ct("toggle",t),s=r;break;case"input":Kv(t,r),s=Fp(t,r),ct("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Tt({},r,{value:void 0}),ct("invalid",t);break;case"textarea":Yv(t,r),s=Up(t,r),ct("invalid",t);break;default:s=r}Bp(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?w_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&v_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Sc(t,c):typeof c=="number"&&Sc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Tc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ct("scroll",t):c!=null&&qg(t,i,c,o))}switch(n){case"input":od(t),Qv(t,r,!1);break;case"textarea":od(t),Xv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ii(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?So(t,!!r.multiple,i,!1):r.defaultValue!=null&&So(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=yf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yn(e),null;case 6:if(t&&e.stateNode!=null)HN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=ca(Fc.current),ca(ss.current),gd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yr]=e,(i=r.nodeValue!==n)&&(t=or,t!==null))switch(t.tag){case 3:pd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yr]=e,e.stateNode=r}return yn(e),null;case 13:if(ft(Nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&sr!==null&&e.mode&1&&!(e.flags&128))lN(),Wo(),e.flags|=98560,i=!1;else if(i=gd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(J(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[Yr]=e}else Wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yn(e),i=!1}else Rr!==null&&(E0(Rr),Rr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Nt.current&1?Kt===0&&(Kt=3):Ix())),e.updateQueue!==null&&(e.flags|=4),yn(e),null);case 4:return Go(),g0(t,e),t===null&&Dc(e.stateNode.containerInfo),yn(e),null;case 10:return dx(e.type._context),yn(e),null;case 17:return Kn(e.type)&&vf(),yn(e),null;case 19:if(ft(Nt),i=e.memoizedState,i===null)return yn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)zl(i,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tf(t),o!==null){for(e.flags|=128,zl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(Nt,Nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ft()>Qo&&(e.flags|=128,r=!0,zl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Tf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!gt)return yn(e),null}else 2*Ft()-i.renderingStartTime>Qo&&n!==1073741824&&(e.flags|=128,r=!0,zl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ft(),e.sibling=null,n=Nt.current,at(Nt,r?n&1|2:n&1),e):(yn(e),null);case 22:case 23:return Sx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nr&1073741824&&(yn(e),e.subtreeFlags&6&&(e.flags|=8192)):yn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function zI(t,e){switch(ox(e),e.tag){case 1:return Kn(e.type)&&vf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Go(),ft(Gn),ft(En),gx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return px(e),null;case 13:if(ft(Nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(Nt),null;case 4:return Go(),null;case 10:return dx(e.type._context),null;case 22:case 23:return Sx(),null;case 24:return null;default:return null}}var vd=!1,wn=!1,BI=typeof WeakSet=="function"?WeakSet:Set,de=null;function wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ct(t,e,r)}else n.current=null}function x0(t,e,n){try{n()}catch(r){Ct(t,e,r)}}var V1=!1;function HI(t,e){if(e0=pf,t=Q_(),ix(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,f=0,h=t,p=null;t:for(;;){for(var x;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)p=h,h=x;for(;;){if(h===t)break t;if(p===n&&++d===s&&(l=o),p===i&&++f===r&&(c=o),(x=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(t0={focusedElem:t,selectionRange:n},pf=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var j=_.memoizedProps,N=_.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?j:Ar(e.type,j),N);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(S){Ct(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return _=V1,V1=!1,_}function fc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&x0(e,n,i)}s=s.next}while(s!==r)}}function _h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function y0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WN(t){var e=t.alternate;e!==null&&(t.alternate=null,WN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yr],delete e[Mc],delete e[s0],delete e[TI],delete e[SI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qN(t){return t.tag===5||t.tag===3||t.tag===4}function U1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function v0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yf));else if(r!==4&&(t=t.child,t!==null))for(v0(t,e,n),t=t.sibling;t!==null;)v0(t,e,n),t=t.sibling}function b0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(b0(t,e,n),t=t.sibling;t!==null;)b0(t,e,n),t=t.sibling}var an=null,Pr=!1;function Gs(t,e,n){for(n=n.child;n!==null;)GN(t,e,n),n=n.sibling}function GN(t,e,n){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(mh,n)}catch{}switch(n.tag){case 5:wn||wo(n,e);case 6:var r=an,s=Pr;an=null,Gs(t,e,n),an=r,Pr=s,an!==null&&(Pr?(t=an,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):an.removeChild(n.stateNode));break;case 18:an!==null&&(Pr?(t=an,n=n.stateNode,t.nodeType===8?Hm(t.parentNode,n):t.nodeType===1&&Hm(t,n),Ac(t)):Hm(an,n.stateNode));break;case 4:r=an,s=Pr,an=n.stateNode.containerInfo,Pr=!0,Gs(t,e,n),an=r,Pr=s;break;case 0:case 11:case 14:case 15:if(!wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&x0(n,e,o),s=s.next}while(s!==r)}Gs(t,e,n);break;case 1:if(!wn&&(wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ct(n,e,l)}Gs(t,e,n);break;case 21:Gs(t,e,n);break;case 22:n.mode&1?(wn=(r=wn)||n.memoizedState!==null,Gs(t,e,n),wn=r):Gs(t,e,n);break;default:Gs(t,e,n)}}function z1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BI),e.forEach(function(r){var s=ZI.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:an=l.stateNode,Pr=!1;break e;case 3:an=l.stateNode.containerInfo,Pr=!0;break e;case 4:an=l.stateNode.containerInfo,Pr=!0;break e}l=l.return}if(an===null)throw Error(J(160));GN(i,o,s),an=null,Pr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ct(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KN(e,t),e=e.sibling}function KN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kr(e,t),qr(t),r&4){try{fc(3,t,t.return),_h(3,t)}catch(j){Ct(t,t.return,j)}try{fc(5,t,t.return)}catch(j){Ct(t,t.return,j)}}break;case 1:kr(e,t),qr(t),r&512&&n!==null&&wo(n,n.return);break;case 5:if(kr(e,t),qr(t),r&512&&n!==null&&wo(n,n.return),t.flags&32){var s=t.stateNode;try{Sc(s,"")}catch(j){Ct(t,t.return,j)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&g_(s,i),Hp(l,o);var d=Hp(l,i);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];f==="style"?w_(s,h):f==="dangerouslySetInnerHTML"?v_(s,h):f==="children"?Sc(s,h):qg(s,f,h,d)}switch(l){case"input":$p(s,i);break;case"textarea":x_(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?So(s,!!i.multiple,x,!1):p!==!!i.multiple&&(i.defaultValue!=null?So(s,!!i.multiple,i.defaultValue,!0):So(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mc]=i}catch(j){Ct(t,t.return,j)}}break;case 6:if(kr(e,t),qr(t),r&4){if(t.stateNode===null)throw Error(J(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(j){Ct(t,t.return,j)}}break;case 3:if(kr(e,t),qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ac(e.containerInfo)}catch(j){Ct(t,t.return,j)}break;case 4:kr(e,t),qr(t);break;case 13:kr(e,t),qr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jx=Ft())),r&4&&z1(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(wn=(d=wn)||f,kr(e,t),wn=d):kr(e,t),qr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(de=t,f=t.child;f!==null;){for(h=de=f;de!==null;){switch(p=de,x=p.child,p.tag){case 0:case 11:case 14:case 15:fc(4,p,p.return);break;case 1:wo(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(j){Ct(r,n,j)}}break;case 5:wo(p,p.return);break;case 22:if(p.memoizedState!==null){H1(h);continue}}x!==null?(x.return=p,de=x):H1(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=b_("display",o))}catch(j){Ct(t,t.return,j)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(j){Ct(t,t.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kr(e,t),qr(t),r&4&&z1(t);break;case 21:break;default:kr(e,t),qr(t)}}function qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qN(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sc(s,""),r.flags&=-33);var i=U1(t);b0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=U1(t);v0(t,l,o);break;default:throw Error(J(161))}}catch(c){Ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WI(t,e,n){de=t,QN(t)}function QN(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var s=de,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vd;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||wn;l=vd;var d=wn;if(vd=o,(wn=c)&&!d)for(de=s;de!==null;)o=de,c=o.child,o.tag===22&&o.memoizedState!==null?W1(s):c!==null?(c.return=o,de=c):W1(s);for(;i!==null;)de=i,QN(i),i=i.sibling;de=s,vd=l,wn=d}B1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,de=i):B1(t)}}function B1(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wn||_h(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ar(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&S1(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}S1(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Ac(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}wn||e.flags&512&&y0(e)}catch(p){Ct(e,e.return,p)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function H1(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function W1(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_h(4,e)}catch(c){Ct(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ct(e,s,c)}}var i=e.return;try{y0(e)}catch(c){Ct(e,i,c)}break;case 5:var o=e.return;try{y0(e)}catch(c){Ct(e,o,c)}}}catch(c){Ct(e,e.return,c)}if(e===t){de=null;break}var l=e.sibling;if(l!==null){l.return=e.return,de=l;break}de=e.return}}var qI=Math.ceil,Cf=Us.ReactCurrentDispatcher,Nx=Us.ReactCurrentOwner,br=Us.ReactCurrentBatchConfig,Be=0,nn=null,zt=null,un=0,nr=0,_o=Vi(0),Kt=0,zc=null,Ea=0,Nh=0,Ex=0,hc=null,Hn=null,jx=0,Qo=1/0,ys=null,kf=!1,w0=null,xi=null,bd=!1,li=null,Af=0,mc=0,_0=null,Gd=-1,Kd=0;function On(){return Be&6?Ft():Gd!==-1?Gd:Gd=Ft()}function yi(t){return t.mode&1?Be&2&&un!==0?un&-un:CI.transition!==null?(Kd===0&&(Kd=R_()),Kd):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:V_(t.type)),t):1}function Or(t,e,n,r){if(50<mc)throw mc=0,_0=null,Error(J(185));lu(t,n,r),(!(Be&2)||t!==nn)&&(t===nn&&(!(Be&2)&&(Nh|=n),Kt===4&&Zs(t,un)),Qn(t,r),n===1&&Be===0&&!(e.mode&1)&&(Qo=Ft()+500,vh&&Ui()))}function Qn(t,e){var n=t.callbackNode;CS(t,e);var r=mf(t,t===nn?un:0);if(r===0)n!==null&&e1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&e1(n),e===1)t.tag===0?II(q1.bind(null,t)):iN(q1.bind(null,t)),EI(function(){!(Be&6)&&Ui()}),n=null;else{switch(D_(r)){case 1:n=Xg;break;case 4:n=A_;break;case 16:n=hf;break;case 536870912:n=P_;break;default:n=hf}n=rE(n,YN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YN(t,e){if(Gd=-1,Kd=0,Be&6)throw Error(J(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var r=mf(t,t===nn?un:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pf(t,r);else{e=r;var s=Be;Be|=2;var i=JN();(nn!==t||un!==e)&&(ys=null,Qo=Ft()+500,ma(t,e));do try{QI();break}catch(l){XN(t,l)}while(!0);ux(),Cf.current=i,Be=s,zt!==null?e=0:(nn=null,un=0,e=Kt)}if(e!==0){if(e===2&&(s=Qp(t),s!==0&&(r=s,e=N0(t,s))),e===1)throw n=zc,ma(t,0),Zs(t,r),Qn(t,Ft()),n;if(e===6)Zs(t,r);else{if(s=t.current.alternate,!(r&30)&&!GI(s)&&(e=Pf(t,r),e===2&&(i=Qp(t),i!==0&&(r=i,e=N0(t,i))),e===1))throw n=zc,ma(t,0),Zs(t,r),Qn(t,Ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:ra(t,Hn,ys);break;case 3:if(Zs(t,r),(r&130023424)===r&&(e=jx+500-Ft(),10<e)){if(mf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){On(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=r0(ra.bind(null,t,Hn,ys),e);break}ra(t,Hn,ys);break;case 4:if(Zs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Mr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qI(r/1960))-r,10<r){t.timeoutHandle=r0(ra.bind(null,t,Hn,ys),r);break}ra(t,Hn,ys);break;case 5:ra(t,Hn,ys);break;default:throw Error(J(329))}}}return Qn(t,Ft()),t.callbackNode===n?YN.bind(null,t):null}function N0(t,e){var n=hc;return t.current.memoizedState.isDehydrated&&(ma(t,e).flags|=256),t=Pf(t,e),t!==2&&(e=Hn,Hn=n,e!==null&&E0(e)),t}function E0(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function GI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Fr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zs(t,e){for(e&=~Ex,e&=~Nh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mr(e),r=1<<n;t[n]=-1,e&=~r}}function q1(t){if(Be&6)throw Error(J(327));Po();var e=mf(t,0);if(!(e&1))return Qn(t,Ft()),null;var n=Pf(t,e);if(t.tag!==0&&n===2){var r=Qp(t);r!==0&&(e=r,n=N0(t,r))}if(n===1)throw n=zc,ma(t,0),Zs(t,e),Qn(t,Ft()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ra(t,Hn,ys),Qn(t,Ft()),null}function Tx(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(Qo=Ft()+500,vh&&Ui())}}function ja(t){li!==null&&li.tag===0&&!(Be&6)&&Po();var e=Be;Be|=1;var n=br.transition,r=Ye;try{if(br.transition=null,Ye=1,t)return t()}finally{Ye=r,br.transition=n,Be=e,!(Be&6)&&Ui()}}function Sx(){nr=_o.current,ft(_o)}function ma(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NI(n)),zt!==null)for(n=zt.return;n!==null;){var r=n;switch(ox(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vf();break;case 3:Go(),ft(Gn),ft(En),gx();break;case 5:px(r);break;case 4:Go();break;case 13:ft(Nt);break;case 19:ft(Nt);break;case 10:dx(r.type._context);break;case 22:case 23:Sx()}n=n.return}if(nn=t,zt=t=vi(t.current,null),un=nr=e,Kt=0,zc=null,Ex=Nh=Ea=0,Hn=hc=null,la!==null){for(e=0;e<la.length;e++)if(n=la[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}la=null}return t}function XN(t,e){do{var n=zt;try{if(ux(),Hd.current=If,Sf){for(var r=jt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sf=!1}if(Na=0,tn=Gt=jt=null,dc=!1,$c=0,Nx.current=null,n===null||n.return===null){Kt=1,zc=e,zt=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=un,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=R1(o);if(x!==null){x.flags&=-257,D1(x,o,l,i,e),x.mode&1&&P1(i,d,e),e=x,c=d;var _=e.updateQueue;if(_===null){var j=new Set;j.add(c),e.updateQueue=j}else _.add(c);break e}else{if(!(e&1)){P1(i,d,e),Ix();break e}c=Error(J(426))}}else if(gt&&l.mode&1){var N=R1(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),D1(N,o,l,i,e),lx(Ko(c,l));break e}}i=c=Ko(c,l),Kt!==4&&(Kt=2),hc===null?hc=[i]:hc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=DN(i,c,e);T1(i,w);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xi===null||!xi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=LN(i,l,e);T1(i,S);break e}}i=i.return}while(i!==null)}eE(n)}catch(P){e=P,zt===n&&n!==null&&(zt=n=n.return);continue}break}while(!0)}function JN(){var t=Cf.current;return Cf.current=If,t===null?If:t}function Ix(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),nn===null||!(Ea&268435455)&&!(Nh&268435455)||Zs(nn,un)}function Pf(t,e){var n=Be;Be|=2;var r=JN();(nn!==t||un!==e)&&(ys=null,ma(t,e));do try{KI();break}catch(s){XN(t,s)}while(!0);if(ux(),Be=n,Cf.current=r,zt!==null)throw Error(J(261));return nn=null,un=0,Kt}function KI(){for(;zt!==null;)ZN(zt)}function QI(){for(;zt!==null&&!bS();)ZN(zt)}function ZN(t){var e=nE(t.alternate,t,nr);t.memoizedProps=t.pendingProps,e===null?eE(t):zt=e,Nx.current=null}function eE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zI(n,e),n!==null){n.flags&=32767,zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kt=6,zt=null;return}}else if(n=UI(n,e,nr),n!==null){zt=n;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);Kt===0&&(Kt=5)}function ra(t,e,n){var r=Ye,s=br.transition;try{br.transition=null,Ye=1,YI(t,e,n,r)}finally{br.transition=s,Ye=r}return null}function YI(t,e,n,r){do Po();while(li!==null);if(Be&6)throw Error(J(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(kS(t,i),t===nn&&(zt=nn=null,un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bd||(bd=!0,rE(hf,function(){return Po(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=br.transition,br.transition=null;var o=Ye;Ye=1;var l=Be;Be|=4,Nx.current=null,HI(t,n),KN(n,t),gI(t0),pf=!!e0,t0=e0=null,t.current=n,WI(n),wS(),Be=l,Ye=o,br.transition=i}else t.current=n;if(bd&&(bd=!1,li=t,Af=s),i=t.pendingLanes,i===0&&(xi=null),ES(n.stateNode),Qn(t,Ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kf)throw kf=!1,t=w0,w0=null,t;return Af&1&&t.tag!==0&&Po(),i=t.pendingLanes,i&1?t===_0?mc++:(mc=0,_0=t):mc=0,Ui(),null}function Po(){if(li!==null){var t=D_(Af),e=br.transition,n=Ye;try{if(br.transition=null,Ye=16>t?16:t,li===null)var r=!1;else{if(t=li,li=null,Af=0,Be&6)throw Error(J(331));var s=Be;for(Be|=4,de=t.current;de!==null;){var i=de,o=i.child;if(de.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(de=d;de!==null;){var f=de;switch(f.tag){case 0:case 11:case 15:fc(8,f,i)}var h=f.child;if(h!==null)h.return=f,de=h;else for(;de!==null;){f=de;var p=f.sibling,x=f.return;if(WN(f),f===d){de=null;break}if(p!==null){p.return=x,de=p;break}de=x}}}var _=i.alternate;if(_!==null){var j=_.child;if(j!==null){_.child=null;do{var N=j.sibling;j.sibling=null,j=N}while(j!==null)}}de=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,de=o;else e:for(;de!==null;){if(i=de,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fc(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,de=w;break e}de=i.return}}var y=t.current;for(de=y;de!==null;){o=de;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,de=b;else e:for(o=y;de!==null;){if(l=de,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_h(9,l)}}catch(P){Ct(l,l.return,P)}if(l===o){de=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,de=S;break e}de=l.return}}if(Be=s,Ui(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(mh,t)}catch{}r=!0}return r}finally{Ye=n,br.transition=e}}return!1}function G1(t,e,n){e=Ko(n,e),e=DN(t,e,1),t=gi(t,e,1),e=On(),t!==null&&(lu(t,1,e),Qn(t,e))}function Ct(t,e,n){if(t.tag===3)G1(t,t,n);else for(;e!==null;){if(e.tag===3){G1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=Ko(n,t),t=LN(e,t,1),e=gi(e,t,1),t=On(),e!==null&&(lu(e,1,t),Qn(e,t));break}}e=e.return}}function XI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=On(),t.pingedLanes|=t.suspendedLanes&n,nn===t&&(un&n)===n&&(Kt===4||Kt===3&&(un&130023424)===un&&500>Ft()-jx?ma(t,0):Ex|=n),Qn(t,e)}function tE(t,e){e===0&&(t.mode&1?(e=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):e=1);var n=On();t=As(t,e),t!==null&&(lu(t,e,n),Qn(t,n))}function JI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tE(t,n)}function ZI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),tE(t,n)}var nE;nE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qn=!1,VI(t,e,n);qn=!!(t.flags&131072)}else qn=!1,gt&&e.flags&1048576&&aN(e,_f,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qd(t,e),t=e.pendingProps;var s=Ho(e,En.current);Ao(e,n),s=yx(null,e,r,t,s,n);var i=vx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kn(r)?(i=!0,bf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hx(e),s.updater=wh,e.stateNode=s,s._reactInternals=e,u0(e,r,t,n),e=h0(null,e,r,!0,i,n)):(e.tag=0,gt&&i&&ax(e),An(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=tC(r),t=Ar(r,t),s){case 0:e=f0(null,e,r,t,n);break e;case 1:e=O1(null,e,r,t,n);break e;case 11:e=L1(null,e,r,t,n);break e;case 14:e=M1(null,e,r,Ar(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ar(r,s),f0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ar(r,s),O1(t,e,r,s,n);case 3:e:{if($N(e),t===null)throw Error(J(387));r=e.pendingProps,i=e.memoizedState,s=i.element,fN(t,e),jf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ko(Error(J(423)),e),e=F1(t,e,r,n,s);break e}else if(r!==s){s=Ko(Error(J(424)),e),e=F1(t,e,r,n,s);break e}else for(sr=pi(e.stateNode.containerInfo.firstChild),or=e,gt=!0,Rr=null,n=uN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wo(),r===s){e=Ps(t,e,n);break e}An(t,e,r,n)}e=e.child}return e;case 5:return hN(e),t===null&&o0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,n0(r,s)?o=null:i!==null&&n0(r,i)&&(e.flags|=32),FN(t,e),An(t,e,o,n),e.child;case 6:return t===null&&o0(e),null;case 13:return VN(t,e,n);case 4:return mx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qo(e,null,r,n):An(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ar(r,s),L1(t,e,r,s,n);case 7:return An(t,e,e.pendingProps,n),e.child;case 8:return An(t,e,e.pendingProps.children,n),e.child;case 12:return An(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,at(Nf,r._currentValue),r._currentValue=o,i!==null)if(Fr(i.value,o)){if(i.children===s.children&&!Gn.current){e=Ps(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=js(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),l0(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),l0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}An(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ao(e,n),s=_r(s),r=r(s),e.flags|=1,An(t,e,r,n),e.child;case 14:return r=e.type,s=Ar(r,e.pendingProps),s=Ar(r.type,s),M1(t,e,r,s,n);case 15:return MN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ar(r,s),qd(t,e),e.tag=1,Kn(r)?(t=!0,bf(e)):t=!1,Ao(e,n),RN(e,r,s),u0(e,r,s,n),h0(null,e,r,!0,t,n);case 19:return UN(t,e,n);case 22:return ON(t,e,n)}throw Error(J(156,e.tag))};function rE(t,e){return k_(t,e)}function eC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(t,e,n,r){return new eC(t,e,n,r)}function Cx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tC(t){if(typeof t=="function")return Cx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kg)return 11;if(t===Qg)return 14}return 2}function vi(t,e){var n=t.alternate;return n===null?(n=vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Cx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fo:return pa(n.children,s,i,e);case Gg:o=8,s|=8;break;case Dp:return t=vr(12,n,e,s|2),t.elementType=Dp,t.lanes=i,t;case Lp:return t=vr(13,n,e,s),t.elementType=Lp,t.lanes=i,t;case Mp:return t=vr(19,n,e,s),t.elementType=Mp,t.lanes=i,t;case h_:return Eh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case d_:o=10;break e;case f_:o=9;break e;case Kg:o=11;break e;case Qg:o=14;break e;case Ys:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=vr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function pa(t,e,n,r){return t=vr(7,t,r,e),t.lanes=n,t}function Eh(t,e,n,r){return t=vr(22,t,r,e),t.elementType=h_,t.lanes=n,t.stateNode={isHidden:!1},t}function Jm(t,e,n){return t=vr(6,t,null,e),t.lanes=n,t}function Zm(t,e,n){return e=vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rm(0),this.expirationTimes=Rm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kx(t,e,n,r,s,i,o,l,c){return t=new nC(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=vr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hx(i),t}function rC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sE(t){if(!t)return Ci;t=t._reactInternals;e:{if($a(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Kn(n))return sN(t,n,e)}return e}function iE(t,e,n,r,s,i,o,l,c){return t=kx(n,r,!0,t,s,i,o,l,c),t.context=sE(null),n=t.current,r=On(),s=yi(n),i=js(r,s),i.callback=e??null,gi(n,i,s),t.current.lanes=s,lu(t,s,r),Qn(t,r),t}function jh(t,e,n,r){var s=e.current,i=On(),o=yi(s);return n=sE(n),e.context===null?e.context=n:e.pendingContext=n,e=js(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gi(s,e,o),t!==null&&(Or(t,s,o,i),Bd(t,s,o)),o}function Rf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function K1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ax(t,e){K1(t,e),(t=t.alternate)&&K1(t,e)}function sC(){return null}var aE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Px(t){this._internalRoot=t}Th.prototype.render=Px.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));jh(t,e,null,null)};Th.prototype.unmount=Px.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ja(function(){jh(null,t,null,null)}),e[ks]=null}};function Th(t){this._internalRoot=t}Th.prototype.unstable_scheduleHydration=function(t){if(t){var e=O_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Js.length&&e!==0&&e<Js[n].priority;n++);Js.splice(n,0,t),n===0&&$_(t)}};function Rx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Q1(){}function iC(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Rf(o);i.call(d)}}var o=iE(e,r,t,0,null,!1,!1,"",Q1);return t._reactRootContainer=o,t[ks]=o.current,Dc(t.nodeType===8?t.parentNode:t),ja(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Rf(c);l.call(d)}}var c=kx(t,0,!1,null,null,!1,!1,"",Q1);return t._reactRootContainer=c,t[ks]=c.current,Dc(t.nodeType===8?t.parentNode:t),ja(function(){jh(e,c,n,r)}),c}function Ih(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Rf(o);l.call(c)}}jh(e,o,t,s)}else o=iC(n,e,t,s,r);return Rf(o)}L_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kl(e.pendingLanes);n!==0&&(Jg(e,n|1),Qn(e,Ft()),!(Be&6)&&(Qo=Ft()+500,Ui()))}break;case 13:ja(function(){var r=As(t,1);if(r!==null){var s=On();Or(r,t,1,s)}}),Ax(t,1)}};Zg=function(t){if(t.tag===13){var e=As(t,134217728);if(e!==null){var n=On();Or(e,t,134217728,n)}Ax(t,134217728)}};M_=function(t){if(t.tag===13){var e=yi(t),n=As(t,e);if(n!==null){var r=On();Or(n,t,e,r)}Ax(t,e)}};O_=function(){return Ye};F_=function(t,e){var n=Ye;try{return Ye=t,e()}finally{Ye=n}};qp=function(t,e,n){switch(e){case"input":if($p(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=yh(r);if(!s)throw Error(J(90));p_(r),$p(r,s)}}}break;case"textarea":x_(t,n);break;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}};E_=Tx;j_=ja;var aC={usingClientEntryPoint:!1,Events:[uu,go,yh,__,N_,Tx]},Bl={findFiberByHostInstance:oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oC={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I_(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||sC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{mh=wd.inject(oC),rs=wd}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aC;dr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rx(e))throw Error(J(200));return rC(t,e,null,n)};dr.createRoot=function(t,e){if(!Rx(t))throw Error(J(299));var n=!1,r="",s=aE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=kx(t,1,!1,null,null,n,!1,r,s),t[ks]=e.current,Dc(t.nodeType===8?t.parentNode:t),new Px(e)};dr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=I_(e),t=t===null?null:t.stateNode,t};dr.flushSync=function(t){return ja(t)};dr.hydrate=function(t,e,n){if(!Sh(e))throw Error(J(200));return Ih(null,t,e,!0,n)};dr.hydrateRoot=function(t,e,n){if(!Rx(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=aE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=iE(e,null,t,1,n??null,s,!1,i,o),t[ks]=e.current,Dc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Th(e)};dr.render=function(t,e,n){if(!Sh(e))throw Error(J(200));return Ih(null,t,e,!1,n)};dr.unmountComponentAtNode=function(t){if(!Sh(t))throw Error(J(40));return t._reactRootContainer?(ja(function(){Ih(null,null,t,!1,function(){t._reactRootContainer=null,t[ks]=null})}),!0):!1};dr.unstable_batchedUpdates=Tx;dr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sh(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Ih(t,e,n,!1,r)};dr.version="18.3.1-next-f1338f8080-20240426";function oE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oE)}catch(t){console.error(t)}}oE(),o_.exports=dr;var vt=o_.exports,Y1=vt;Pp.createRoot=Y1.createRoot,Pp.hydrateRoot=Y1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(this,arguments)}var ci;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ci||(ci={}));const X1="popstate";function lC(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return j0("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Df(s)}return uC(e,n,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cC(){return Math.random().toString(36).substr(2,8)}function J1(t,e){return{usr:t.state,key:t.key,idx:e}}function j0(t,e,n,r){return n===void 0&&(n=null),Bc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ul(e):e,{state:n,key:e&&e.key||r||cC()})}function Df(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ul(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=ci.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(Bc({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=ci.Pop;let N=f(),w=N==null?null:N-d;d=N,c&&c({action:l,location:j.location,delta:w})}function p(N,w){l=ci.Push;let y=j0(j.location,N,w);d=f()+1;let b=J1(y,d),S=j.createHref(y);try{o.pushState(b,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(S)}i&&c&&c({action:l,location:j.location,delta:1})}function x(N,w){l=ci.Replace;let y=j0(j.location,N,w);d=f();let b=J1(y,d),S=j.createHref(y);o.replaceState(b,"",S),i&&c&&c({action:l,location:j.location,delta:0})}function _(N){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof N=="string"?N:Df(N);return y=y.replace(/ $/,"%20"),$t(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let j={get action(){return l},get location(){return t(s,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(X1,h),c=N,()=>{s.removeEventListener(X1,h),c=null}},createHref(N){return e(s,N)},createURL:_,encodeLocation(N){let w=_(N);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:x,go(N){return o.go(N)}};return j}var Z1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Z1||(Z1={}));function dC(t,e,n){return n===void 0&&(n="/"),fC(t,e,n)}function fC(t,e,n,r){let s=typeof e=="string"?ul(e):e,i=Dx(s.pathname||"/",n);if(i==null)return null;let o=cE(t);hC(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=jC(i);l=_C(o[c],d)}return l}function cE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&($t(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=bi([r,c.relativePath]),f=n.concat(c);i.children&&i.children.length>0&&($t(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),cE(i.children,e,f,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:bC(d,i.index),routesMeta:f})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of uE(i.path))s(i,o,c)}),e}function uE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=uE(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function hC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mC=/^:[\w-]+$/,pC=3,gC=2,xC=1,yC=10,vC=-2,eb=t=>t==="*";function bC(t,e){let n=t.split("/"),r=n.length;return n.some(eb)&&(r+=vC),e&&(r+=gC),n.filter(s=>!eb(s)).reduce((s,i)=>s+(mC.test(i)?pC:i===""?xC:yC),r)}function wC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function _C(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",h=NC({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),p=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:bi([i,h.pathname]),pathnameBase:CC(bi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=bi([i,h.pathnameBase]))}return o}function NC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,f,h)=>{let{paramName:p,isOptional:x}=f;if(p==="*"){let j=l[h]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const _=l[h];return x&&!_?d[p]=void 0:d[p]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function EC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function jC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Dx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function TC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ul(t):t;return{pathname:n?n.startsWith("/")?n:SC(n,e):e,search:kC(r),hash:AC(s)}}function SC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ep(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lx(t,e){let n=IC(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mx(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ul(t):(s=Bc({},t),$t(!s.pathname||!s.pathname.includes("?"),ep("?","pathname","search",s)),$t(!s.pathname||!s.pathname.includes("#"),ep("#","pathname","hash",s)),$t(!s.search||!s.search.includes("#"),ep("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?e[h]:"/"}let c=TC(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const bi=t=>t.join("/").replace(/\/\/+/g,"/"),CC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dE=["post","put","patch","delete"];new Set(dE);const RC=["get",...dE];new Set(RC);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}const Ox=m.createContext(null),DC=m.createContext(null),zi=m.createContext(null),Ch=m.createContext(null),Bi=m.createContext({outlet:null,matches:[],isDataRoute:!1}),fE=m.createContext(null);function LC(t,e){let{relative:n}=e===void 0?{}:e;dl()||$t(!1);let{basename:r,navigator:s}=m.useContext(zi),{hash:i,pathname:o,search:l}=mE(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:bi([r,o])),s.createHref({pathname:c,search:l,hash:i})}function dl(){return m.useContext(Ch)!=null}function Va(){return dl()||$t(!1),m.useContext(Ch).location}function hE(t){m.useContext(zi).static||m.useLayoutEffect(t)}function fu(){let{isDataRoute:t}=m.useContext(Bi);return t?KC():MC()}function MC(){dl()||$t(!1);let t=m.useContext(Ox),{basename:e,future:n,navigator:r}=m.useContext(zi),{matches:s}=m.useContext(Bi),{pathname:i}=Va(),o=JSON.stringify(Lx(s,n.v7_relativeSplatPath)),l=m.useRef(!1);return hE(()=>{l.current=!0}),m.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=Mx(d,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:bi([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,i,t])}function mE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(zi),{matches:s}=m.useContext(Bi),{pathname:i}=Va(),o=JSON.stringify(Lx(s,r.v7_relativeSplatPath));return m.useMemo(()=>Mx(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function OC(t,e){return FC(t,e)}function FC(t,e,n,r){dl()||$t(!1);let{navigator:s,static:i}=m.useContext(zi),{matches:o}=m.useContext(Bi),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=Va(),h;if(e){var p;let w=typeof e=="string"?ul(e):e;d==="/"||(p=w.pathname)!=null&&p.startsWith(d)||$t(!1),h=w}else h=f;let x=h.pathname||"/",_=x;if(d!=="/"){let w=d.replace(/^\//,"").split("/");_="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=dC(t,{pathname:_}),N=BC(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:bi([d,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:bi([d,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&N?m.createElement(Ch.Provider,{value:{location:Hc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ci.Pop}},N):N}function $C(){let t=GC(),e=PC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const VC=m.createElement($C,null);class UC extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Bi.Provider,{value:this.props.routeContext},m.createElement(fE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zC(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Ox);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Bi.Provider,{value:e},r)}function BC(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||$t(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:p,errors:x}=n,_=h.route.loader&&p[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||_){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,p)=>{let x,_=!1,j=null,N=null;n&&(x=l&&h.route.id?l[h.route.id]:void 0,j=h.route.errorElement||VC,c&&(d<0&&p===0?(QC("route-fallback"),_=!0,N=null):d===p&&(_=!0,N=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),y=()=>{let b;return x?b=j:_?b=N:h.route.Component?b=m.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=f,m.createElement(zC,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?m.createElement(UC,{location:n.location,revalidation:n.revalidation,component:j,error:x,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var pE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pE||{}),gE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gE||{});function HC(t){let e=m.useContext(Ox);return e||$t(!1),e}function WC(t){let e=m.useContext(DC);return e||$t(!1),e}function qC(t){let e=m.useContext(Bi);return e||$t(!1),e}function xE(t){let e=qC(),n=e.matches[e.matches.length-1];return n.route.id||$t(!1),n.route.id}function GC(){var t;let e=m.useContext(fE),n=WC(),r=xE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KC(){let{router:t}=HC(pE.UseNavigateStable),e=xE(gE.UseNavigateStable),n=m.useRef(!1);return hE(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Hc({fromRouteId:e},i)))},[t,e])}const tb={};function QC(t,e,n){tb[t]||(tb[t]=!0)}function YC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function nb(t){let{to:e,replace:n,state:r,relative:s}=t;dl()||$t(!1);let{future:i,static:o}=m.useContext(zi),{matches:l}=m.useContext(Bi),{pathname:c}=Va(),d=fu(),f=Mx(e,Lx(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(f);return m.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:s}),[d,h,s,n,r]),null}function kn(t){$t(!1)}function XC(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ci.Pop,navigator:i,static:o=!1,future:l}=t;dl()&&$t(!1);let c=e.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:i,static:o,future:Hc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=ul(r));let{pathname:f="/",search:h="",hash:p="",state:x=null,key:_="default"}=r,j=m.useMemo(()=>{let N=Dx(f,c);return N==null?null:{location:{pathname:N,search:h,hash:p,state:x,key:_},navigationType:s}},[c,f,h,p,x,_,s]);return j==null?null:m.createElement(zi.Provider,{value:d},m.createElement(Ch.Provider,{children:n,value:j}))}function JC(t){let{children:e,location:n}=t;return OC(T0(e),n)}new Promise(()=>{});function T0(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,T0(r.props.children,i));return}r.type!==kn&&$t(!1),!r.props.index||!r.props.children||$t(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=T0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S0.apply(this,arguments)}function ZC(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ek(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tk(t,e){return t.button===0&&(!e||e==="_self")&&!ek(t)}const nk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rk="6";try{window.__reactRouterVersion=rk}catch{}const sk="startTransition",rb=cf[sk];function ik(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=lC({window:s,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=m.useCallback(h=>{d&&rb?rb(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>o.listen(f),[o,f]),m.useEffect(()=>YC(r),[r]),m.createElement(XC,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const ak=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ok=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:h}=e,p=ZC(e,nk),{basename:x}=m.useContext(zi),_,j=!1;if(typeof d=="string"&&ok.test(d)&&(_=d,ak))try{let b=new URL(window.location.href),S=d.startsWith("//")?new URL(b.protocol+d):new URL(d),P=Dx(S.pathname,x);S.origin===b.origin&&P!=null?d=P+S.search+S.hash:j=!0}catch{}let N=LC(d,{relative:s}),w=lk(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:h});function y(b){r&&r(b),b.defaultPrevented||w(b)}return m.createElement("a",S0({},p,{href:_||N,onClick:j||i?r:y,ref:n,target:c}))});var sb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sb||(sb={}));var ib;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ib||(ib={}));function lk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=fu(),d=Va(),f=mE(t,{relative:o});return m.useCallback(h=>{if(tk(h,n)){h.preventDefault();let p=r!==void 0?r:Df(d)===Df(f);c(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,f,r,s,n,t,i,o,l])}var ab={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ck=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,f=i>>2,h=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,x=d&63;c||(x=64,o||(p=64)),r.push(n[f],n[h],n[p],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ck(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||h==null)throw new uk;const p=i<<2|l>>4;if(r.push(p),d!==64){const x=l<<4&240|d>>2;if(r.push(x),h!==64){const _=d<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dk=function(t){const e=yE(t);return vE.encodeByteArray(e,!0)},Lf=function(t){return dk(t).replace(/\./g,"")},bE=function(t){try{return vE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=()=>fk().__FIREBASE_DEFAULTS__,mk=()=>{if(typeof process>"u"||typeof ab>"u")return;const t=ab.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bE(t[1]);return e&&JSON.parse(e)},kh=()=>{try{return hk()||mk()||pk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wE=t=>{var e,n;return(n=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Fx=t=>{const e=wE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_E=()=>{var t;return(t=kh())===null||t===void 0?void 0:t.config},NE=t=>{var e;return(e=kh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lf(JSON.stringify(n)),Lf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function yk(){var t;const e=(t=kh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _k(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Nk(){return!yk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ek(){try{return typeof indexedDB=="object"}catch{return!1}}function jk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="FirebaseError";class Br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Tk,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Sk(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Br(s,l,r)}}function Sk(t,e){return t.replace(Ik,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Ik=/\{\$([^}]+)}/g;function Ck(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(ob(i)&&ob(o)){if(!Mf(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ob(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Xl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kk(t,e){const n=new Ak(t,e);return n.subscribe.bind(n)}class Ak{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Pk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=tp),s.error===void 0&&(s.error=tp),s.complete===void 0&&(s.complete=tp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t){return t&&t._delegate?t._delegate:t}class Rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lk(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Dk(t){return t===sa?void 0:t}function Lk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Rk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const Ok={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},Fk=$e.INFO,$k={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},Vk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=$k[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $x{constructor(e){this.name=e,this._logLevel=Fk,this._logHandler=Vk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ok[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const Uk=(t,e)=>e.some(n=>t instanceof n);let lb,cb;function zk(){return lb||(lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bk(){return cb||(cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,I0=new WeakMap,TE=new WeakMap,np=new WeakMap,Vx=new WeakMap;function Hk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(wi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jE.set(n,t)}).catch(()=>{}),Vx.set(e,t),e}function Wk(t){if(I0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});I0.set(t,e)}let C0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return I0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qk(t){C0=t(C0)}function Gk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rp(this),e,...n);return TE.set(r,e.sort?e.sort():[e]),wi(r)}:Bk().includes(t)?function(...e){return t.apply(rp(this),e),wi(jE.get(this))}:function(...e){return wi(t.apply(rp(this),e))}}function Kk(t){return typeof t=="function"?Gk(t):(t instanceof IDBTransaction&&Wk(t),Uk(t,zk())?new Proxy(t,C0):t)}function wi(t){if(t instanceof IDBRequest)return Hk(t);if(np.has(t))return np.get(t);const e=Kk(t);return e!==t&&(np.set(t,e),Vx.set(e,t)),e}const rp=t=>Vx.get(t);function Qk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=wi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(wi(o.result),c.oldVersion,c.newVersion,wi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const Yk=["get","getKey","getAll","getAllKeys","count"],Xk=["put","add","delete","clear"],sp=new Map;function ub(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sp.get(e))return sp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Xk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Yk.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return sp.set(e,i),i}qk(t=>({...t,get:(e,n,r)=>ub(e,n)||t.get(e,n,r),has:(e,n)=>!!ub(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Zk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const k0="@firebase/app",db="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new $x("@firebase/app"),e6="@firebase/app-compat",t6="@firebase/analytics-compat",n6="@firebase/analytics",r6="@firebase/app-check-compat",s6="@firebase/app-check",i6="@firebase/auth",a6="@firebase/auth-compat",o6="@firebase/database",l6="@firebase/data-connect",c6="@firebase/database-compat",u6="@firebase/functions",d6="@firebase/functions-compat",f6="@firebase/installations",h6="@firebase/installations-compat",m6="@firebase/messaging",p6="@firebase/messaging-compat",g6="@firebase/performance",x6="@firebase/performance-compat",y6="@firebase/remote-config",v6="@firebase/remote-config-compat",b6="@firebase/storage",w6="@firebase/storage-compat",_6="@firebase/firestore",N6="@firebase/vertexai-preview",E6="@firebase/firestore-compat",j6="firebase",T6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="[DEFAULT]",S6={[k0]:"fire-core",[e6]:"fire-core-compat",[n6]:"fire-analytics",[t6]:"fire-analytics-compat",[s6]:"fire-app-check",[r6]:"fire-app-check-compat",[i6]:"fire-auth",[a6]:"fire-auth-compat",[o6]:"fire-rtdb",[l6]:"fire-data-connect",[c6]:"fire-rtdb-compat",[u6]:"fire-fn",[d6]:"fire-fn-compat",[f6]:"fire-iid",[h6]:"fire-iid-compat",[m6]:"fire-fcm",[p6]:"fire-fcm-compat",[g6]:"fire-perf",[x6]:"fire-perf-compat",[y6]:"fire-rc",[v6]:"fire-rc-compat",[b6]:"fire-gcs",[w6]:"fire-gcs-compat",[_6]:"fire-fst",[E6]:"fire-fst-compat",[N6]:"fire-vertex","fire-js":"fire-js",[j6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,I6=new Map,P0=new Map;function fb(t,e){try{t.container.addComponent(e)}catch(n){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ki(t){const e=t.name;if(P0.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;P0.set(e,t);for(const n of Of.values())fb(n,t);for(const n of I6.values())fb(n,t);return!0}function pu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new hu("app","Firebase",C6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=T6;function SE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:A0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw _i.create("bad-app-name",{appName:String(s)});if(n||(n=_E()),!n)throw _i.create("no-options");const i=Of.get(s);if(i){if(Mf(n,i.options)&&Mf(r,i.config))return i;throw _i.create("duplicate-app",{appName:s})}const o=new Mk(s);for(const c of P0.values())o.addComponent(c);const l=new k6(n,r,o);return Of.set(s,l),l}function Ah(t=A0){const e=Of.get(t);if(!e&&t===A0&&_E())return SE();if(!e)throw _i.create("no-app",{appName:t});return e}function wr(t,e,n){var r;let s=(r=S6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ds.warn(l.join(" "));return}ki(new Rs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="firebase-heartbeat-database",P6=1,Wc="firebase-heartbeat-store";let ip=null;function IE(){return ip||(ip=Qk(A6,P6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw _i.create("idb-open",{originalErrorMessage:t.message})})),ip}async function R6(t){try{const n=(await IE()).transaction(Wc),r=await n.objectStore(Wc).get(CE(t));return await n.done,r}catch(e){if(e instanceof Br)Ds.warn(e.message);else{const n=_i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ds.warn(n.message)}}}async function hb(t,e){try{const r=(await IE()).transaction(Wc,"readwrite");await r.objectStore(Wc).put(e,CE(t)),await r.done}catch(n){if(n instanceof Br)Ds.warn(n.message);else{const r=_i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ds.warn(r.message)}}}function CE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=1024,L6=30*24*60*60*1e3;class M6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=L6}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mb(),{heartbeatsToSend:r,unsentEntries:s}=O6(this._heartbeatsCache.heartbeats),i=Lf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ds.warn(n),""}}}function mb(){return new Date().toISOString().substring(0,10)}function O6(t,e=D6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),pb(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),pb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class F6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ek()?jk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pb(t){return Lf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t){ki(new Rs("platform-logger",e=>new Jk(e),"PRIVATE")),ki(new Rs("heartbeat",e=>new M6(e),"PRIVATE")),wr(k0,db,t),wr(k0,db,"esm2017"),wr("fire-js","")}$6("");function Ux(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function kE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V6=kE,AE=new hu("auth","Firebase",kE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new $x("@firebase/auth");function U6(t,...e){Ff.logLevel<=$e.WARN&&Ff.warn(`Auth (${Ua}): ${t}`,...e)}function Yd(t,...e){Ff.logLevel<=$e.ERROR&&Ff.error(`Auth (${Ua}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,...e){throw zx(t,...e)}function is(t,...e){return zx(t,...e)}function PE(t,e,n){const r=Object.assign(Object.assign({},V6()),{[e]:n});return new hu("auth","Firebase",r).create(e,{appName:t.name})}function Ts(t){return PE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AE.create(t,...e)}function Te(t,e,...n){if(!t)throw zx(e,...n)}function _s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yd(e),new Error(e)}function Ls(t,e){t||_s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function z6(){return gb()==="http:"||gb()==="https:"}function gb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z6()||bk()||"connection"in navigator)?navigator.onLine:!0}function H6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=xk()||wk()}get(){return B6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new gu(3e4,6e4);function Hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wi(t,e,n,r,s={}){return DE(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=mu(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return vk()||(d.referrerPolicy="no-referrer"),RE.fetch()(LE(t,t.config.apiHost,n,l),d)})}async function DE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},W6),e);try{const s=new K6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw _d(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw _d(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw _d(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw PE(t,f,d);$r(t,f)}}catch(s){if(s instanceof Br)throw s;$r(t,"network-request-failed",{message:String(s)})}}async function xu(t,e,n,r,s={}){const i=await Wi(t,e,n,r,s);return"mfaPendingCredential"in i&&$r(t,"multi-factor-auth-required",{_serverResponse:i}),i}function LE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Bx(t.config,s):`${t.config.apiScheme}://${s}`}function G6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(is(this.auth,"network-request-failed")),q6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _d(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=is(t,e,r);return s.customData._tokenResponse=n,s}function xb(t){return t!==void 0&&t.enterprise!==void 0}class Q6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return G6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Y6(t,e){return Wi(t,"GET","/v2/recaptchaConfig",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e){return Wi(t,"POST","/v1/accounts:delete",e)}async function ME(t,e){return Wi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J6(t,e=!1){const n=rt(t),r=await n.getIdToken(e),s=Hx(r);Te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:pc(ap(s.auth_time)),issuedAtTime:pc(ap(s.iat)),expirationTime:pc(ap(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ap(t){return Number(t)*1e3}function Hx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yd("JWT malformed, contained fewer than 3 sections"),null;try{const s=bE(n);return s?JSON.parse(s):(Yd("Failed to decode base64 JWT payload"),null)}catch(s){return Yd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function yb(t){const e=Hx(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Br&&Z6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pc(this.lastLoginAt),this.creationTime=pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(t){var e;const n=t.auth,r=await t.getIdToken(),s=await qc(t,ME(n,{idToken:r}));Te(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?OE(i.providerUserInfo):[],l=nA(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),f=c?d:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new D0(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function tA(t){const e=rt(t);await $f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nA(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function OE(t){return t.map(e=>{var{providerId:n}=e,r=Ux(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(t,e){const n=await DE(t,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=LE(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",RE.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sA(t,e){return Wi(t,"POST","/v2/accounts:revokeToken",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=yb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await rA(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ro;return r&&(Te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Te(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return _s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ux(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new D0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await qc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J6(this,e)}reload(){return tA(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $f(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xr(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await qc(this,X6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,d,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,j=(l=n.tenantId)!==null&&l!==void 0?l:void 0,N=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:S,isAnonymous:P,providerData:O,stsTokenManager:T}=n;Te(b&&T,e,"internal-error");const E=Ro.fromJSON(this.name,T);Te(typeof b=="string",e,"internal-error"),Ks(h,e.name),Ks(p,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof P=="boolean",e,"internal-error"),Ks(x,e.name),Ks(_,e.name),Ks(j,e.name),Ks(N,e.name),Ks(w,e.name),Ks(y,e.name);const k=new Ns({uid:b,auth:e,email:p,emailVerified:S,displayName:h,isAnonymous:P,photoURL:_,phoneNumber:x,tenantId:j,stsTokenManager:E,createdAt:w,lastLoginAt:y});return O&&Array.isArray(O)&&(k.providerData=O.map(I=>Object.assign({},I))),N&&(k._redirectEventId=N),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ro;s.updateFromServerResponse(n);const i=new Ns({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await $f(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Te(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?OE(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Ro;l.updateFromIdToken(r);const c=new Ns({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new D0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new Map;function Es(t){Ls(t instanceof Function,"Expected a class definition");let e=vb.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FE.type="NONE";const bb=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e,n){return`firebase:${t}:${e}:${n}`}class Do{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Xd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Xd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Do(Es(bb),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Es(bb);const o=Xd(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){const h=Ns._fromJSON(e,f);d!==i&&(l=h),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Do(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Do(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HE(e))return"Blackberry";if(WE(e))return"Webos";if(VE(e))return"Safari";if((e.includes("chrome/")||UE(e))&&!e.includes("edge/"))return"Chrome";if(BE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $E(t=jn()){return/firefox\//i.test(t)}function VE(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UE(t=jn()){return/crios\//i.test(t)}function zE(t=jn()){return/iemobile/i.test(t)}function BE(t=jn()){return/android/i.test(t)}function HE(t=jn()){return/blackberry/i.test(t)}function WE(t=jn()){return/webos/i.test(t)}function Wx(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iA(t=jn()){var e;return Wx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aA(){return _k()&&document.documentMode===10}function qE(t=jn()){return Wx(t)||BE(t)||WE(t)||HE(t)||/windows phone/i.test(t)||zE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t,e=[]){let n;switch(t){case"Browser":n=wb(jn());break;case"Worker":n=`${wb(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(t,e={}){return Wi(t,"GET","/v2/passwordPolicy",Hi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=6;class uA{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:cA,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _b(this),this.idTokenSubscription=new _b(this),this.beforeStateQueue=new oA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Es(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ME(this,{idToken:e}),r=await Ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $f(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xr(this.app))return Promise.reject(Ts(this));const n=e?rt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xr(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xr(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lA(this),n=new uA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Es(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&U6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function za(t){return rt(t)}class _b{constructor(e){this.auth=e,this.observer=null,this.addObserver=kk(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fA(t){Ph=t}function KE(t){return Ph.loadJS(t)}function hA(){return Ph.recaptchaEnterpriseScript}function mA(){return Ph.gapiScript}function pA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const gA="recaptcha-enterprise",xA="NO_RECAPTCHA";class yA{constructor(e){this.type=gA,this.auth=za(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{Y6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Q6(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;xb(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(xA)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&xb(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=hA();c.length!==0&&(c+=l),KE(c).then(()=>{s(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function Nb(t,e,n,r=!1){const s=new yA(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function L0(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Nb(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Nb(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e){const n=pu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Mf(i,e??{}))return s;$r(s,"already-initialized")}return n.initialize({options:e})}function bA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wA(t,e,n){const r=za(t);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=QE(e),{host:o,port:l}=_A(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),NA()}function QE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _A(t){const e=QE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Eb(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Eb(o)}}}function Eb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,n){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function EA(t,e){return Wi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(t,e){return xu(t,"POST","/v1/accounts:signInWithPassword",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}async function SA(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends qx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Gc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return L0(e,n,"signInWithPassword",jA);case"emailLink":return TA(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return L0(e,r,"signUpPassword",EA);case"emailLink":return SA(e,{idToken:n,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e){return xu(t,"POST","/v1/accounts:signInWithIdp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="http://localhost";class Ta extends qx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ux(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ta(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:IA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kA(t){const e=Yl(Xl(t)).link,n=e?Yl(Xl(e)).deep_link_id:null,r=Yl(Xl(t)).deep_link_id;return(r?Yl(Xl(r)).link:null)||r||n||e||t}class Gx{constructor(e){var n,r,s,i,o,l;const c=Yl(Xl(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,h=CA((s=c.mode)!==null&&s!==void 0?s:null);Te(d&&f&&h,"argument-error"),this.apiKey=d,this.operation=h,this.code=f,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=kA(e);try{return new Gx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,n){return Gc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gx.parseLink(n);return Te(r,"argument-error"),Gc._fromEmailAndCode(e,r.code,r.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends YE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends yu{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ta._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ti.credential(n,r)}catch{return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com";ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends yu{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends yu{constructor(){super("twitter.com")}static credential(e,n){return Ta._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.TWITTER_SIGN_IN_METHOD="twitter.com";ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(t,e){return xu(t,"POST","/v1/accounts:signUp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ns._fromIdTokenResponse(e,r,s),o=jb(r);return new Sa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jb(r);return new Sa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends Br{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Vf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Vf(e,n,r,s)}}function XE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Vf._fromErrorAndOperation(t,i,e,r):i})}async function PA(t,e,n=!1){const r=await qc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(t,e,n=!1){const{auth:r}=t;if(Xr(r.app))return Promise.reject(Ts(r));const s="reauthenticate";try{const i=await qc(t,XE(r,s,e,t),n);Te(i.idToken,r,"internal-error");const o=Hx(i.idToken);Te(o,r,"internal-error");const{sub:l}=o;return Te(t.uid===l,r,"user-mismatch"),Sa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&$r(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(t,e,n=!1){if(Xr(t.app))return Promise.reject(Ts(t));const r="signIn",s=await XE(t,r,e),i=await Sa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function DA(t,e){return JE(za(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(t){const e=za(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LA(t,e,n){if(Xr(t.app))return Promise.reject(Ts(t));const r=za(t),o=await L0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AA).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&ZE(t),c}),l=await Sa._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function Uf(t,e,n){return Xr(t.app)?Promise.reject(Ts(t)):DA(rt(t),fl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ZE(t),r})}function MA(t,e,n,r){return rt(t).onIdTokenChanged(e,n,r)}function OA(t,e,n){return rt(t).beforeAuthStateChanged(e,n)}function FA(t,e,n,r){return rt(t).onAuthStateChanged(e,n,r)}function $A(t){return rt(t).signOut()}const zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zf,"1"),this.storage.removeItem(zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=1e3,UA=10;class t4 extends e4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);aA()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,UA):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t4.type="LOCAL";const zA=t4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4 extends e4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n4.type="SESSION";const r4=n4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Rh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await BA(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=Kx("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(f),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return window}function WA(t){as().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}async function qA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KA(){return s4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="firebaseLocalStorageDb",QA=1,Bf="firebaseLocalStorage",a4="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(t,e){return t.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function YA(){const t=indexedDB.deleteDatabase(i4);return new vu(t).toPromise()}function M0(){const t=indexedDB.open(i4,QA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bf,{keyPath:a4})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bf)?e(r):(r.close(),await YA(),e(await M0()))})})}async function Tb(t,e,n){const r=Dh(t,!0).put({[a4]:e,value:n});return new vu(r).toPromise()}async function XA(t,e){const n=Dh(t,!1).get(e),r=await new vu(n).toPromise();return r===void 0?null:r.value}function Sb(t,e){const n=Dh(t,!0).delete(e);return new vu(n).toPromise()}const JA=800,ZA=3;class o4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(KA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qA(),!this.activeServiceWorker)return;this.sender=new HA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M0();return await Tb(e,zf,"1"),await Sb(e,zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Dh(s,!1).getAll();return new vu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o4.type="LOCAL";const eP=o4;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e){return e?Es(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx extends qx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nP(t){return JE(t.auth,new Qx(t),t.bypassAuthState)}function rP(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),RA(n,new Qx(t),t.bypassAuthState)}async function sP(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),PA(n,new Qx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nP;case"linkViaPopup":case"linkViaRedirect":return sP;case"reauthViaPopup":case"reauthViaRedirect":return rP;default:$r(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new gu(2e3,1e4);class No extends l4{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=Kx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iP.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="pendingRedirect",Jd=new Map;class oP extends l4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jd.get(this.auth._key());if(!e){try{const r=await lP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jd.set(this.auth._key(),e)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lP(t,e){const n=dP(e),r=uP(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function cP(t,e){Jd.set(t._key(),e)}function uP(t){return Es(t._redirectPersistence)}function dP(t){return Xd(aP,t.config.apiKey,t.name)}async function fP(t,e,n=!1){if(Xr(t.app))return Promise.reject(Ts(t));const r=za(t),s=tP(r,e),o=await new oP(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=10*60*1e3;class mP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!c4(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(is(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ib(e))}saveEventToCache(e){this.cachedEventUids.add(Ib(e)),this.lastProcessedEventTime=Date.now()}}function Ib(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function c4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e={}){return Wi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yP=/^https?/;async function vP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gP(t);for(const n of e)try{if(bP(n))return}catch{}$r(t,"unauthorized-domain")}function bP(t){const e=R0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yP.test(n))return!1;if(xP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new gu(3e4,6e4);function Cb(){const t=as().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _P(t){return new Promise((e,n)=>{var r,s,i;function o(){Cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cb(),n(is(t,"network-request-failed"))},timeout:wP.get()})}if(!((s=(r=as().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=as().gapi)===null||i===void 0)&&i.load)o();else{const l=pA("iframefcb");return as()[l]=()=>{gapi.load?o():n(is(t,"network-request-failed"))},KE(`${mA()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Zd=null,e})}let Zd=null;function NP(t){return Zd=Zd||_P(t),Zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new gu(5e3,15e3),jP="__/auth/iframe",TP="emulator/auth/iframe",SP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CP(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bx(e,TP):`https://${t.config.authDomain}/${jP}`,r={apiKey:e.apiKey,appName:t.name,v:Ua},s=IP.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${mu(r).slice(1)}`}async function kP(t){const e=await NP(t),n=as().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:CP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=is(t,"network-request-failed"),l=as().setTimeout(()=>{i(o)},EP.get());function c(){as().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PP=500,RP=600,DP="_blank",LP="http://localhost";class kb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MP(t,e,n,r=PP,s=RP){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},AP),{width:r.toString(),height:s.toString(),top:i,left:o}),d=jn().toLowerCase();n&&(l=UE(d)?DP:n),$E(d)&&(e=e||LP,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[x,_])=>`${p}${x}=${_},`,"");if(iA(d)&&l!=="_self")return OP(e||"",l),new kb(null);const h=window.open(e||"",l,f);Te(h,t,"popup-blocked");try{h.focus()}catch{}return new kb(h)}function OP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="__/auth/handler",$P="emulator/auth/handler",VP=encodeURIComponent("fac");async function Ab(t,e,n,r,s,i){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ua,eventId:s};if(e instanceof YE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ck(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof yu){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${VP}=${encodeURIComponent(c)}`:"";return`${UP(t)}?${mu(l).slice(1)}${d}`}function UP({config:t}){return t.emulator?Bx(t,$P):`https://${t.authDomain}/${FP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class zP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r4,this._completeRedirectFn=fP,this._overrideRedirectResult=cP}async _openPopup(e,n,r,s){var i;Ls((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Ab(e,n,r,R0(),s);return MP(e,o,Kx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Ab(e,n,r,R0(),s);return WA(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ls(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kP(e),r=new mP(e);return n.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(op,{type:op},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[op];o!==void 0&&n(!!o),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qE()||VE()||Wx()}}const BP=zP;var Pb="@firebase/auth",Rb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qP(t){ki(new Rs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GE(t)},d=new dA(r,s,i,c);return bA(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ki(new Rs("auth-internal",e=>{const n=za(e.getProvider("auth").getImmediate());return(r=>new HP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(Pb,Rb,WP(t)),wr(Pb,Rb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=5*60,KP=NE("authIdTokenMaxAge")||GP;let Db=null;const QP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KP)return;const s=n==null?void 0:n.token;Db!==s&&(Db=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function YP(t=Ah()){const e=pu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vA(t,{popupRedirectResolver:BP,persistence:[eP,zA,r4]}),r=NE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=QP(i.toString());OA(n,o,()=>o(n.currentUser)),MA(n,l=>o(l))}}const s=wE("auth");return s&&wA(n,`http://${s}`),n}function XP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=is("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",XP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qP("Browser");var JP="firebase",ZP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(JP,ZP,"app");var Lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ga,u4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function k(){}k.prototype=E.prototype,T.D=E.prototype,T.prototype=new k,T.prototype.constructor=T,T.C=function(I,R,L){for(var A=Array(arguments.length-2),me=2;me<arguments.length;me++)A[me-2]=arguments[me];return E.prototype[R].apply(I,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,E,k){k||(k=0);var I=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)I[R]=E.charCodeAt(k++)|E.charCodeAt(k++)<<8|E.charCodeAt(k++)<<16|E.charCodeAt(k++)<<24;else for(R=0;16>R;++R)I[R]=E[k++]|E[k++]<<8|E[k++]<<16|E[k++]<<24;E=T.g[0],k=T.g[1],R=T.g[2];var L=T.g[3],A=E+(L^k&(R^L))+I[0]+3614090360&4294967295;E=k+(A<<7&4294967295|A>>>25),A=L+(R^E&(k^R))+I[1]+3905402710&4294967295,L=E+(A<<12&4294967295|A>>>20),A=R+(k^L&(E^k))+I[2]+606105819&4294967295,R=L+(A<<17&4294967295|A>>>15),A=k+(E^R&(L^E))+I[3]+3250441966&4294967295,k=R+(A<<22&4294967295|A>>>10),A=E+(L^k&(R^L))+I[4]+4118548399&4294967295,E=k+(A<<7&4294967295|A>>>25),A=L+(R^E&(k^R))+I[5]+1200080426&4294967295,L=E+(A<<12&4294967295|A>>>20),A=R+(k^L&(E^k))+I[6]+2821735955&4294967295,R=L+(A<<17&4294967295|A>>>15),A=k+(E^R&(L^E))+I[7]+4249261313&4294967295,k=R+(A<<22&4294967295|A>>>10),A=E+(L^k&(R^L))+I[8]+1770035416&4294967295,E=k+(A<<7&4294967295|A>>>25),A=L+(R^E&(k^R))+I[9]+2336552879&4294967295,L=E+(A<<12&4294967295|A>>>20),A=R+(k^L&(E^k))+I[10]+4294925233&4294967295,R=L+(A<<17&4294967295|A>>>15),A=k+(E^R&(L^E))+I[11]+2304563134&4294967295,k=R+(A<<22&4294967295|A>>>10),A=E+(L^k&(R^L))+I[12]+1804603682&4294967295,E=k+(A<<7&4294967295|A>>>25),A=L+(R^E&(k^R))+I[13]+4254626195&4294967295,L=E+(A<<12&4294967295|A>>>20),A=R+(k^L&(E^k))+I[14]+2792965006&4294967295,R=L+(A<<17&4294967295|A>>>15),A=k+(E^R&(L^E))+I[15]+1236535329&4294967295,k=R+(A<<22&4294967295|A>>>10),A=E+(R^L&(k^R))+I[1]+4129170786&4294967295,E=k+(A<<5&4294967295|A>>>27),A=L+(k^R&(E^k))+I[6]+3225465664&4294967295,L=E+(A<<9&4294967295|A>>>23),A=R+(E^k&(L^E))+I[11]+643717713&4294967295,R=L+(A<<14&4294967295|A>>>18),A=k+(L^E&(R^L))+I[0]+3921069994&4294967295,k=R+(A<<20&4294967295|A>>>12),A=E+(R^L&(k^R))+I[5]+3593408605&4294967295,E=k+(A<<5&4294967295|A>>>27),A=L+(k^R&(E^k))+I[10]+38016083&4294967295,L=E+(A<<9&4294967295|A>>>23),A=R+(E^k&(L^E))+I[15]+3634488961&4294967295,R=L+(A<<14&4294967295|A>>>18),A=k+(L^E&(R^L))+I[4]+3889429448&4294967295,k=R+(A<<20&4294967295|A>>>12),A=E+(R^L&(k^R))+I[9]+568446438&4294967295,E=k+(A<<5&4294967295|A>>>27),A=L+(k^R&(E^k))+I[14]+3275163606&4294967295,L=E+(A<<9&4294967295|A>>>23),A=R+(E^k&(L^E))+I[3]+4107603335&4294967295,R=L+(A<<14&4294967295|A>>>18),A=k+(L^E&(R^L))+I[8]+1163531501&4294967295,k=R+(A<<20&4294967295|A>>>12),A=E+(R^L&(k^R))+I[13]+2850285829&4294967295,E=k+(A<<5&4294967295|A>>>27),A=L+(k^R&(E^k))+I[2]+4243563512&4294967295,L=E+(A<<9&4294967295|A>>>23),A=R+(E^k&(L^E))+I[7]+1735328473&4294967295,R=L+(A<<14&4294967295|A>>>18),A=k+(L^E&(R^L))+I[12]+2368359562&4294967295,k=R+(A<<20&4294967295|A>>>12),A=E+(k^R^L)+I[5]+4294588738&4294967295,E=k+(A<<4&4294967295|A>>>28),A=L+(E^k^R)+I[8]+2272392833&4294967295,L=E+(A<<11&4294967295|A>>>21),A=R+(L^E^k)+I[11]+1839030562&4294967295,R=L+(A<<16&4294967295|A>>>16),A=k+(R^L^E)+I[14]+4259657740&4294967295,k=R+(A<<23&4294967295|A>>>9),A=E+(k^R^L)+I[1]+2763975236&4294967295,E=k+(A<<4&4294967295|A>>>28),A=L+(E^k^R)+I[4]+1272893353&4294967295,L=E+(A<<11&4294967295|A>>>21),A=R+(L^E^k)+I[7]+4139469664&4294967295,R=L+(A<<16&4294967295|A>>>16),A=k+(R^L^E)+I[10]+3200236656&4294967295,k=R+(A<<23&4294967295|A>>>9),A=E+(k^R^L)+I[13]+681279174&4294967295,E=k+(A<<4&4294967295|A>>>28),A=L+(E^k^R)+I[0]+3936430074&4294967295,L=E+(A<<11&4294967295|A>>>21),A=R+(L^E^k)+I[3]+3572445317&4294967295,R=L+(A<<16&4294967295|A>>>16),A=k+(R^L^E)+I[6]+76029189&4294967295,k=R+(A<<23&4294967295|A>>>9),A=E+(k^R^L)+I[9]+3654602809&4294967295,E=k+(A<<4&4294967295|A>>>28),A=L+(E^k^R)+I[12]+3873151461&4294967295,L=E+(A<<11&4294967295|A>>>21),A=R+(L^E^k)+I[15]+530742520&4294967295,R=L+(A<<16&4294967295|A>>>16),A=k+(R^L^E)+I[2]+3299628645&4294967295,k=R+(A<<23&4294967295|A>>>9),A=E+(R^(k|~L))+I[0]+4096336452&4294967295,E=k+(A<<6&4294967295|A>>>26),A=L+(k^(E|~R))+I[7]+1126891415&4294967295,L=E+(A<<10&4294967295|A>>>22),A=R+(E^(L|~k))+I[14]+2878612391&4294967295,R=L+(A<<15&4294967295|A>>>17),A=k+(L^(R|~E))+I[5]+4237533241&4294967295,k=R+(A<<21&4294967295|A>>>11),A=E+(R^(k|~L))+I[12]+1700485571&4294967295,E=k+(A<<6&4294967295|A>>>26),A=L+(k^(E|~R))+I[3]+2399980690&4294967295,L=E+(A<<10&4294967295|A>>>22),A=R+(E^(L|~k))+I[10]+4293915773&4294967295,R=L+(A<<15&4294967295|A>>>17),A=k+(L^(R|~E))+I[1]+2240044497&4294967295,k=R+(A<<21&4294967295|A>>>11),A=E+(R^(k|~L))+I[8]+1873313359&4294967295,E=k+(A<<6&4294967295|A>>>26),A=L+(k^(E|~R))+I[15]+4264355552&4294967295,L=E+(A<<10&4294967295|A>>>22),A=R+(E^(L|~k))+I[6]+2734768916&4294967295,R=L+(A<<15&4294967295|A>>>17),A=k+(L^(R|~E))+I[13]+1309151649&4294967295,k=R+(A<<21&4294967295|A>>>11),A=E+(R^(k|~L))+I[4]+4149444226&4294967295,E=k+(A<<6&4294967295|A>>>26),A=L+(k^(E|~R))+I[11]+3174756917&4294967295,L=E+(A<<10&4294967295|A>>>22),A=R+(E^(L|~k))+I[2]+718787259&4294967295,R=L+(A<<15&4294967295|A>>>17),A=k+(L^(R|~E))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+L&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var k=E-this.blockSize,I=this.B,R=this.h,L=0;L<E;){if(R==0)for(;L<=k;)s(this,T,L),L+=this.blockSize;if(typeof T=="string"){for(;L<E;)if(I[R++]=T.charCodeAt(L++),R==this.blockSize){s(this,I),R=0;break}}else for(;L<E;)if(I[R++]=T[L++],R==this.blockSize){s(this,I),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var k=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=k&255,k/=256;for(this.u(T),T=Array(16),E=k=0;4>E;++E)for(var I=0;32>I;I+=8)T[k++]=this.g[E]>>>I&255;return T};function i(T,E){var k=l;return Object.prototype.hasOwnProperty.call(k,T)?k[T]:k[T]=E(T)}function o(T,E){this.h=E;for(var k=[],I=!0,R=T.length-1;0<=R;R--){var L=T[R]|0;I&&L==E||(k[R]=L,I=!1)}this.g=k}var l={};function c(T){return-128<=T&&128>T?i(T,function(E){return new o([E|0],0>E?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return N(d(-T));for(var E=[],k=1,I=0;T>=k;I++)E[I]=T/k|0,k*=4294967296;return new o(E,0)}function f(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return N(f(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(E,8)),I=h,R=0;R<T.length;R+=8){var L=Math.min(8,T.length-R),A=parseInt(T.substring(R,R+L),E);8>L?(L=d(Math.pow(E,L)),I=I.j(L).add(d(A))):(I=I.j(k),I=I.add(d(A)))}return I}var h=c(0),p=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(j(this))return-N(this).m();for(var T=0,E=1,k=0;k<this.g.length;k++){var I=this.i(k);T+=(0<=I?I:4294967296+I)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(j(this))return"-"+N(this).toString(T);for(var E=d(Math.pow(T,6)),k=this,I="";;){var R=S(k,E).g;k=w(k,R.j(E));var L=((0<k.g.length?k.g[0]:k.h)>>>0).toString(T);if(k=R,_(k))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function j(T){return T.h==-1}t.l=function(T){return T=w(this,T),j(T)?-1:_(T)?0:1};function N(T){for(var E=T.g.length,k=[],I=0;I<E;I++)k[I]=~T.g[I];return new o(k,~T.h).add(p)}t.abs=function(){return j(this)?N(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),k=[],I=0,R=0;R<=E;R++){var L=I+(this.i(R)&65535)+(T.i(R)&65535),A=(L>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);I=A>>>16,L&=65535,A&=65535,k[R]=A<<16|L}return new o(k,k[k.length-1]&-2147483648?-1:0)};function w(T,E){return T.add(N(E))}t.j=function(T){if(_(this)||_(T))return h;if(j(this))return j(T)?N(this).j(N(T)):N(N(this).j(T));if(j(T))return N(this.j(N(T)));if(0>this.l(x)&&0>T.l(x))return d(this.m()*T.m());for(var E=this.g.length+T.g.length,k=[],I=0;I<2*E;I++)k[I]=0;for(I=0;I<this.g.length;I++)for(var R=0;R<T.g.length;R++){var L=this.i(I)>>>16,A=this.i(I)&65535,me=T.i(R)>>>16,pe=T.i(R)&65535;k[2*I+2*R]+=A*pe,y(k,2*I+2*R),k[2*I+2*R+1]+=L*pe,y(k,2*I+2*R+1),k[2*I+2*R+1]+=A*me,y(k,2*I+2*R+1),k[2*I+2*R+2]+=L*me,y(k,2*I+2*R+2)}for(I=0;I<E;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=E;I<2*E;I++)k[I]=0;return new o(k,0)};function y(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function b(T,E){this.g=T,this.h=E}function S(T,E){if(_(E))throw Error("division by zero");if(_(T))return new b(h,h);if(j(T))return E=S(N(T),E),new b(N(E.g),N(E.h));if(j(E))return E=S(T,N(E)),new b(N(E.g),E.h);if(30<T.g.length){if(j(T)||j(E))throw Error("slowDivide_ only works with positive integers.");for(var k=p,I=E;0>=I.l(T);)k=P(k),I=P(I);var R=O(k,1),L=O(I,1);for(I=O(I,2),k=O(k,2);!_(I);){var A=L.add(I);0>=A.l(T)&&(R=R.add(k),L=A),I=O(I,1),k=O(k,1)}return E=w(T,R.j(E)),new b(R,E)}for(R=h;0<=T.l(E);){for(k=Math.max(1,Math.floor(T.m()/E.m())),I=Math.ceil(Math.log(k)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=d(k),A=L.j(E);j(A)||0<A.l(T);)k-=I,L=d(k),A=L.j(E);_(L)&&(L=p),R=R.add(L),T=w(T,A)}return new b(R,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),k=[],I=0;I<E;I++)k[I]=this.i(I)&T.i(I);return new o(k,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),k=[],I=0;I<E;I++)k[I]=this.i(I)|T.i(I);return new o(k,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),k=[],I=0;I<E;I++)k[I]=this.i(I)^T.i(I);return new o(k,this.h^T.h)};function P(T){for(var E=T.g.length+1,k=[],I=0;I<E;I++)k[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(k,T.h)}function O(T,E){var k=E>>5;E%=32;for(var I=T.g.length-k,R=[],L=0;L<I;L++)R[L]=0<E?T.i(L+k)>>>E|T.i(L+k+1)<<32-E:T.i(L+k);return new o(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,ga=o}).apply(typeof Lb<"u"?Lb:typeof self<"u"?self:typeof window<"u"?window:{});var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d4,Jl,f4,ef,O0,h4,m4,p4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nd=="object"&&Nd];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var v=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var U=u[C];if(!(U in v))break e;v=v[U]}u=u[u.length-1],C=v[u],g=g(C),g!=C&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var v=0,C=!1,U={next:function(){if(!C&&v<u.length){var B=v++;return{value:g(B,u[B]),done:!1}}return C=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function d(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function f(u,g,v){return u.call.apply(u.bind,arguments)}function h(u,g,v){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,C),u.apply(g,U)}}return function(){return u.apply(g,arguments)}}function p(u,g,v){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,p.apply(null,arguments)}function x(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function _(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(C,U,B){for(var re=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)re[nt-2]=arguments[nt];return g.prototype[U].apply(C,re)}}function j(u){const g=u.length;if(0<g){const v=Array(g);for(let C=0;C<g;C++)v[C]=u[C];return v}return[]}function N(u,g){for(let v=1;v<arguments.length;v++){const C=arguments[v];if(c(C)){const U=u.length||0,B=C.length||0;u.length=U+B;for(let re=0;re<B;re++)u[U+re]=C[re]}else u.push(C)}}class w{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function y(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function S(u){return S[" "](u),u}S[" "]=function(){};var P=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(u,g,v){for(const C in u)g.call(v,u[C],C,u)}function T(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function E(u){const g={};for(const v in u)g[v]=u[v];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,g){let v,C;for(let U=1;U<arguments.length;U++){C=arguments[U];for(v in C)u[v]=C[v];for(let B=0;B<k.length;B++)v=k[B],Object.prototype.hasOwnProperty.call(C,v)&&(u[v]=C[v])}}function R(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function L(u){l.setTimeout(()=>{throw u},0)}function A(){var u=V;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class me{constructor(){this.h=this.g=null}add(g,v){const C=pe.get();C.set(g,v),this.h?this.h.next=C:this.g=C,this.h=C}}var pe=new w(()=>new ke,u=>u.reset());class ke{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,D=!1,V=new me,q=()=>{const u=l.Promise.resolve(void 0);ie=()=>{u.then(ae)}};var ae=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){L(v)}var g=pe;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}D=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};l.addEventListener("test",v,g),l.removeEventListener("test",v,g)}catch{}return u}();function Ve(u,g){if(Q.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(P){e:{try{S(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ge[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ve.aa.h.call(this)}}_(Ve,Q);var Ge={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),bt=0;function Xt(u,g,v,C,U){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!C,this.ha=U,this.key=++bt,this.da=this.fa=!1}function Yn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Jt(u){this.src=u,this.g={},this.h=0}Jt.prototype.add=function(u,g,v,C,U){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var re=Bn(u,g,C,U);return-1<re?(g=u[re],v||(g.fa=!1)):(g=new Xt(g,this.src,B,!!C,U),g.fa=v,u.push(g)),g};function Xn(u,g){var v=g.type;if(v in u.g){var C=u.g[v],U=Array.prototype.indexOf.call(C,g,void 0),B;(B=0<=U)&&Array.prototype.splice.call(C,U,1),B&&(Yn(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Bn(u,g,v,C){for(var U=0;U<u.length;++U){var B=u[U];if(!B.da&&B.listener==g&&B.capture==!!v&&B.ha==C)return U}return-1}var Wt="closure_lm_"+(1e6*Math.random()|0),Sn={};function H(u,g,v,C,U){if(Array.isArray(g)){for(var B=0;B<g.length;B++)H(u,g[B],v,C,U);return null}return v=Jn(v),u&&u[tt]?u.K(g,v,d(C)?!!C.capture:!1,U):se(u,g,v,!1,C,U)}function se(u,g,v,C,U,B){if(!g)throw Error("Invalid event type");var re=d(U)?!!U.capture:!!U,nt=pt(u);if(nt||(u[Wt]=nt=new Jt(u)),v=nt.add(g,v,C,re,B),v.proxy)return v;if(C=oe(),v.proxy=C,C.src=u,C.listener=v,u.addEventListener)ve||(U=re),U===void 0&&(U=!1),u.addEventListener(g.toString(),C,U);else if(u.attachEvent)u.attachEvent(ye(g.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oe(){function u(v){return g.call(u.src,u.listener,v)}const g=fe;return u}function Ie(u,g,v,C,U){if(Array.isArray(g))for(var B=0;B<g.length;B++)Ie(u,g[B],v,C,U);else C=d(C)?!!C.capture:!!C,v=Jn(v),u&&u[tt]?(u=u.i,g=String(g).toString(),g in u.g&&(B=u.g[g],v=Bn(B,v,C,U),-1<v&&(Yn(B[v]),Array.prototype.splice.call(B,v,1),B.length==0&&(delete u.g[g],u.h--)))):u&&(u=pt(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Bn(g,v,C,U)),(v=-1<u?g[u]:null)&&ge(v))}function ge(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[tt])Xn(g.i,u);else{var v=u.type,C=u.proxy;g.removeEventListener?g.removeEventListener(v,C,u.capture):g.detachEvent?g.detachEvent(ye(v),C):g.addListener&&g.removeListener&&g.removeListener(C),(v=pt(g))?(Xn(v,u),v.h==0&&(v.src=null,g[Wt]=null)):Yn(u)}}}function ye(u){return u in Sn?Sn[u]:Sn[u]="on"+u}function fe(u,g){if(u.da)u=!0;else{g=new Ve(g,this);var v=u.listener,C=u.ha||u.src;u.fa&&ge(u),u=v.call(C,g)}return u}function pt(u){return u=u[Wt],u instanceof Jt?u:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jn(u){return typeof u=="function"?u:(u[mn]||(u[mn]=function(g){return u.handleEvent(g)}),u[mn])}function wt(){Z.call(this),this.i=new Jt(this),this.M=this,this.F=null}_(wt,Z),wt.prototype[tt]=!0,wt.prototype.removeEventListener=function(u,g,v,C){Ie(this,u,g,v,C)};function st(u,g){var v,C=u.F;if(C)for(v=[];C;C=C.F)v.push(C);if(u=u.M,C=g.type||g,typeof g=="string")g=new Q(g,u);else if(g instanceof Q)g.target=g.target||u;else{var U=g;g=new Q(C,u),I(g,U)}if(U=!0,v)for(var B=v.length-1;0<=B;B--){var re=g.g=v[B];U=ps(re,C,!0,g)&&U}if(re=g.g=u,U=ps(re,C,!0,g)&&U,U=ps(re,C,!1,g)&&U,v)for(B=0;B<v.length;B++)re=g.g=v[B],U=ps(re,C,!1,g)&&U}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],C=0;C<v.length;C++)Yn(v[C]);delete u.g[g],u.h--}}this.F=null},wt.prototype.K=function(u,g,v,C){return this.i.add(String(u),g,!1,v,C)},wt.prototype.L=function(u,g,v,C){return this.i.add(String(u),g,!0,v,C)};function ps(u,g,v,C){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,B=0;B<g.length;++B){var re=g[B];if(re&&!re.da&&re.capture==v){var nt=re.listener,sn=re.ha||re.src;re.fa&&Xn(u.i,re),U=nt.call(sn,C)!==!1&&U}}return U&&!C.defaultPrevented}function gs(u,g,v){if(typeof u=="function")v&&(u=p(u,v));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:l.setTimeout(u,g||0)}function Tr(u){u.g=gs(()=>{u.g=null,u.i&&(u.i=!1,Tr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Hr extends Z{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(u){Z.call(this),this.h=u,this.g={}}_(Zn,Z);var Bs=[];function Hs(u){O(u.g,function(g,v){this.g.hasOwnProperty(v)&&ge(g)},u),u.g={}}Zn.prototype.N=function(){Zn.aa.N.call(this),Hs(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ee=l.JSON.stringify,ue=l.JSON.parse,Ee=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function je(){}je.prototype.h=null;function Dt(u){return u.h||(u.h=u.i())}function it(){}var qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Re(){Q.call(this,"d")}_(Re,Q);function qe(){Q.call(this,"c")}_(qe,Q);var ot={},Lt=null;function z(){return Lt=Lt||new wt}ot.La="serverreachability";function le(u){Q.call(this,ot.La,u)}_(le,Q);function De(u){const g=z();st(g,new le(g))}ot.STAT_EVENT="statevent";function Ke(u,g){Q.call(this,ot.STAT_EVENT,u),this.stat=g}_(Ke,Q);function ze(u){const g=z();st(g,new Ke(g,u))}ot.Ma="timingevent";function mr(u,g){Q.call(this,ot.Ma,u),this.size=g}_(mr,Q);function In(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},g)}function pr(){this.g=!0}pr.prototype.xa=function(){this.g=!1};function Yi(u,g,v,C,U,B){u.info(function(){if(u.g)if(B)for(var re="",nt=B.split("&"),sn=0;sn<nt.length;sn++){var He=nt[sn].split("=");if(1<He.length){var pn=He[0];He=He[1];var gn=pn.split("_");re=2<=gn.length&&gn[1]=="type"?re+(pn+"="+He+"&"):re+(pn+"=redacted&")}}else re=null;else re=B;return"XMLHTTP REQ ("+C+") [attempt "+U+"]: "+g+`
`+v+`
`+re})}function Qa(u,g,v,C,U,B,re){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+U+"]: "+g+`
`+v+`
`+B+" "+re})}function Sr(u,g,v,C){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+zu(u,v)+(C?" "+C:"")})}function bm(u,g){u.info(function(){return"TIMEOUT: "+g})}pr.prototype.info=function(){};function zu(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var C=v[u];if(!(2>C.length)){var U=C[1];if(Array.isArray(U)&&!(1>U.length)){var B=U[0];if(B!="noop"&&B!="stop"&&B!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return ee(v)}catch{return g}}var Ya={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xa;function Xi(){}_(Xi,je),Xi.prototype.g=function(){return new XMLHttpRequest},Xi.prototype.i=function(){return{}},Xa=new Xi;function Ir(u,g,v,C){this.j=u,this.i=g,this.l=v,this.R=C||1,this.U=new Zn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hu}function Hu(){this.i=null,this.g="",this.h=!1}var Wu={},_l={};function Ja(u,g,v){u.L=1,u.v=Yu(Je(g)),u.m=v,u.P=!0,Nl(u,null)}function Nl(u,g){u.F=Date.now(),Ji(u),u.A=Je(u.v);var v=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),bv(v.i,"t",C),u.C=0,v=u.j.J,u.h=new Hu,u.g=Fv(u.j,v?g:null,!u.m),0<u.O&&(u.M=new Hr(p(u.Y,u,u.g),u.O)),g=u.U,v=u.g,C=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Bs[0]=U.toString()),U=Bs);for(var B=0;B<U.length;B++){var re=H(v,U[B],C||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),De(),Yi(u.i,u.u,u.A,u.l,u.R,u.m)}Ir.prototype.ca=function(u){u=u.target;const g=this.M;g&&xs(u)==3?g.j():this.Y(u)},Ir.prototype.Y=function(u){try{if(u==this.g)e:{const gn=xs(this.g);var g=this.g.Ba();const ro=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||Sv(this.g)))){this.J||gn!=4||g==7||(g==8||0>=ro?De(3):De(2)),jl(this);var v=this.g.Z();this.X=v;t:if(qu(this)){var C=Sv(this.g);u="";var U=C.length,B=xs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),Zi(this);var re="";break t}this.h.i=new l.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,u+=this.h.i.decode(C[g],{stream:!(B&&g==U-1)});C.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,Qa(this.i,this.u,this.A,this.l,this.R,gn,v),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,sn=this.g;if((nt=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(nt)){var He=nt;break t}}He=null}if(v=He)Sr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tl(this,v);else{this.o=!1,this.s=3,ze(12),Wr(this),Zi(this);break e}}if(this.P){v=!0;let Cr;for(;!this.J&&this.C<re.length;)if(Cr=wm(this,re),Cr==_l){gn==4&&(this.s=4,ze(14),v=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==Wu){this.s=4,ze(15),Sr(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else Sr(this.i,this.l,Cr,null),Tl(this,Cr);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||re.length!=0||this.h.h||(this.s=1,ze(16),v=!1),this.o=this.o&&v,!v)Sr(this.i,this.l,re,"[Invalid Chunked Response]"),Wr(this),Zi(this);else if(0<re.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Tm(pn),pn.M=!0,ze(11))}}else Sr(this.i,this.l,re,null),Tl(this,re);gn==4&&Wr(this),this.o&&!this.J&&(gn==4?Dv(this.j,this):(this.o=!1,Ji(this)))}else D5(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,ze(12)):(this.s=0,ze(13)),Wr(this),Zi(this)}}}catch{}finally{}};function qu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function wm(u,g){var v=u.C,C=g.indexOf(`
`,v);return C==-1?_l:(v=Number(g.substring(v,C)),isNaN(v)?Wu:(C+=1,C+v>g.length?_l:(g=g.slice(C,C+v),u.C=C+v,g)))}Ir.prototype.cancel=function(){this.J=!0,Wr(this)};function Ji(u){u.S=Date.now()+u.I,El(u,u.I)}function El(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=In(p(u.ba,u),g)}function jl(u){u.B&&(l.clearTimeout(u.B),u.B=null)}Ir.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(bm(this.i,this.A),this.L!=2&&(De(),ze(17)),Wr(this),this.s=2,Zi(this)):El(this,this.S-u)};function Zi(u){u.j.G==0||u.J||Dv(u.j,u)}function Wr(u){jl(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Hs(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Tl(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||Za(v.h,u))){if(!u.K&&Za(v.h,u)&&v.G==3){try{var C=v.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var U=C;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)nd(v),ed(v);else break e;jm(v),ze(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=In(p(v.Za,v),6e3));if(1>=Ku(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ea(v,11)}else if((u.K||v.g==u)&&nd(v),!y(g))for(U=v.Da.g.parse(g),g=0;g<U.length;g++){let He=U[g];if(v.T=He[0],He=He[1],v.G==2)if(He[0]=="c"){v.K=He[1],v.ia=He[2];const pn=He[3];pn!=null&&(v.la=pn,v.j.info("VER="+v.la));const gn=He[4];gn!=null&&(v.Aa=gn,v.j.info("SVER="+v.Aa));const ro=He[5];ro!=null&&typeof ro=="number"&&0<ro&&(C=1.5*ro,v.L=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const Cr=u.g;if(Cr){const sd=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sd){var B=C.h;B.g||sd.indexOf("spdy")==-1&&sd.indexOf("quic")==-1&&sd.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(eo(B,B.h),B.h=null))}if(C.D){const Sm=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sm&&(C.ya=Sm,lt(C.I,C.D,Sm))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),C=v;var re=u;if(C.qa=Ov(C,C.J?C.ia:null,C.W),re.K){Il(C.h,re);var nt=re,sn=C.L;sn&&(nt.I=sn),nt.B&&(jl(nt),Ji(nt)),C.g=re}else Pv(C);0<v.i.length&&td(v)}else He[0]!="stop"&&He[0]!="close"||ea(v,7);else v.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ea(v,7):Em(v):He[0]!="noop"&&v.l&&v.l.ta(He),v.v=0)}}De(4)}catch{}}var _m=class{constructor(u,g){this.g=u,this.map=g}};function Sl(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gu(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ku(u){return u.h?1:u.g?u.g.size:0}function Za(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function eo(u,g){u.g?u.g.add(g):u.h=g}function Il(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Sl.prototype.cancel=function(){if(this.i=F(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function F(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return j(u.i)}function $(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var g=[],v=u.length,C=0;C<v;C++)g.push(u[C]);return g}g=[],v=0;for(C in u)g[v++]=u[C];return g}function W(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const C in u)g[v++]=C;return g}}}function K(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=W(u),C=$(u),U=C.length,B=0;B<U;B++)g.call(void 0,C[B],v&&v[B],u)}var ne=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _e(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var C=u[v].indexOf("="),U=null;if(0<=C){var B=u[v].substring(0,C);U=u[v].substring(C+1)}else B=u[v];g(B,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Le(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Le){this.h=u.h,Vt(this,u.j),this.o=u.o,this.g=u.g,rn(this,u.s),this.l=u.l;var g=u.i,v=new Al;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Qu(this,v),this.m=u.m}else u&&(g=String(u).match(ne))?(this.h=!1,Vt(this,g[1]||"",!0),this.o=Cl(g[2]||""),this.g=Cl(g[3]||"",!0),rn(this,g[4]),this.l=Cl(g[5]||"",!0),Qu(this,g[6]||"",!0),this.m=Cl(g[7]||"")):(this.h=!1,this.i=new Al(null,this.h))}Le.prototype.toString=function(){var u=[],g=this.j;g&&u.push(kl(g,xv,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(kl(g,xv,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(kl(v,v.charAt(0)=="/"?E5:N5,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",kl(v,T5)),u.join("")};function Je(u){return new Le(u)}function Vt(u,g,v){u.j=v?Cl(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function rn(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Qu(u,g,v){g instanceof Al?(u.i=g,S5(u.i,u.h)):(v||(g=kl(g,j5)),u.i=new Al(g,u.h))}function lt(u,g,v){u.i.set(g,v)}function Yu(u){return lt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Cl(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function kl(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,_5),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _5(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xv=/[#\/\?@]/g,N5=/[#\?:]/g,E5=/[#\?]/g,j5=/[#\?@]/g,T5=/#/g;function Al(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ws(u){u.g||(u.g=new Map,u.h=0,u.i&&_e(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}t=Al.prototype,t.add=function(u,g){Ws(this),this.i=null,u=to(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function yv(u,g){Ws(u),g=to(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function vv(u,g){return Ws(u),g=to(u,g),u.g.has(g)}t.forEach=function(u,g){Ws(this),this.g.forEach(function(v,C){v.forEach(function(U){u.call(g,U,C,this)},this)},this)},t.na=function(){Ws(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let C=0;C<g.length;C++){const U=u[C];for(let B=0;B<U.length;B++)v.push(g[C])}return v},t.V=function(u){Ws(this);let g=[];if(typeof u=="string")vv(this,u)&&(g=g.concat(this.g.get(to(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},t.set=function(u,g){return Ws(this),this.i=null,u=to(this,u),vv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function bv(u,g,v){yv(u,g),0<v.length&&(u.i=null,u.g.set(to(u,g),j(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var C=g[v];const B=encodeURIComponent(String(C)),re=this.V(C);for(C=0;C<re.length;C++){var U=B;re[C]!==""&&(U+="="+encodeURIComponent(String(re[C]))),u.push(U)}}return this.i=u.join("&")};function to(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function S5(u,g){g&&!u.j&&(Ws(u),u.i=null,u.g.forEach(function(v,C){var U=C.toLowerCase();C!=U&&(yv(this,C),bv(this,U,v))},u)),u.j=g}function I5(u,g){const v=new pr;if(l.Image){const C=new Image;C.onload=x(qs,v,"TestLoadImage: loaded",!0,g,C),C.onerror=x(qs,v,"TestLoadImage: error",!1,g,C),C.onabort=x(qs,v,"TestLoadImage: abort",!1,g,C),C.ontimeout=x(qs,v,"TestLoadImage: timeout",!1,g,C),l.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else g(!1)}function C5(u,g){const v=new pr,C=new AbortController,U=setTimeout(()=>{C.abort(),qs(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:C.signal}).then(B=>{clearTimeout(U),B.ok?qs(v,"TestPingServer: ok",!0,g):qs(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),qs(v,"TestPingServer: error",!1,g)})}function qs(u,g,v,C,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),C(v)}catch{}}function k5(){this.g=new Ee}function A5(u,g,v){const C=v||"";try{K(u,function(U,B){let re=U;d(U)&&(re=ee(U)),g.push(C+B+"="+encodeURIComponent(re))})}catch(U){throw g.push(C+"type="+encodeURIComponent("_badmap")),U}}function Xu(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Xu,je),Xu.prototype.g=function(){return new Ju(this.l,this.j)},Xu.prototype.i=function(u){return function(){return u}}({});function Ju(u,g){wt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ju,wt),t=Ju.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Rl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||l).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function wv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Pl(this):Rl(this),this.readyState==3&&wv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Pl(this))},t.Qa=function(u){this.g&&(this.response=u,Pl(this))},t.ga=function(){this.g&&Pl(this)};function Pl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Rl(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function Rl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _v(u){let g="";return O(u,function(v,C){g+=C,g+=":",g+=v,g+=`\r
`}),g}function Nm(u,g,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=_v(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):lt(u,g,v))}function It(u){wt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(It,wt);var P5=/^https?$/i,R5=["POST","PUT"];t=It.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xa.g(),this.v=this.o?Dt(this.o):Dt(Xa),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(B){Nv(this,B);return}if(u=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var U in C)v.set(U,C[U]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const B of C.keys())v.set(B,C.get(B));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(R5,g,void 0))||C||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,re]of v)this.g.setRequestHeader(B,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tv(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){Nv(this,B)}};function Nv(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Ev(u),Zu(u)}function Ev(u){u.A||(u.A=!0,st(u,"complete"),st(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,st(this,"complete"),st(this,"abort"),Zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zu(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jv(this):this.bb())},t.bb=function(){jv(this)};function jv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||xs(u)!=4||u.Z()!=2)){if(u.u&&xs(u)==4)gs(u.Ea,0,u);else if(st(u,"readystatechange"),xs(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var C;if(C=re===0){var U=String(u.D).match(ne)[1]||null;!U&&l.self&&l.self.location&&(U=l.self.location.protocol.slice(0,-1)),C=!P5.test(U?U.toLowerCase():"")}v=C}if(v)st(u,"complete"),st(u,"success");else{u.m=6;try{var B=2<xs(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Ev(u)}}finally{Zu(u)}}}}function Zu(u,g){if(u.g){Tv(u);const v=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||st(u,"ready");try{v.onreadystatechange=C}catch{}}}function Tv(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function xs(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<xs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),ue(g)}};function Sv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function D5(u){const g={};u=(u.g&&2<=xs(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(y(u[C]))continue;var v=R(u[C]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=g[U]||[];g[U]=B,B.push(v)}T(g,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dl(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Iv(u){this.Aa=0,this.i=[],this.j=new pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dl("baseRetryDelayMs",5e3,u),this.cb=Dl("retryDelaySeedMs",1e4,u),this.Wa=Dl("forwardChannelMaxRetries",2,u),this.wa=Dl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Sl(u&&u.concurrentRequestLimit),this.Da=new k5,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Iv.prototype,t.la=8,t.G=1,t.connect=function(u,g,v,C){ze(0),this.W=u,this.H=g||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.I=Ov(this,null,this.W),td(this)};function Em(u){if(Cv(u),u.G==3){var g=u.U++,v=Je(u.I);if(lt(v,"SID",u.K),lt(v,"RID",g),lt(v,"TYPE","terminate"),Ll(u,v),g=new Ir(u,u.j,g),g.L=2,g.v=Yu(Je(v)),v=!1,l.navigator&&l.navigator.sendBeacon)try{v=l.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&l.Image&&(new Image().src=g.v,v=!0),v||(g.g=Fv(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ji(g)}Mv(u)}function ed(u){u.g&&(Tm(u),u.g.cancel(),u.g=null)}function Cv(u){ed(u),u.u&&(l.clearTimeout(u.u),u.u=null),nd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function td(u){if(!Gu(u.h)&&!u.s){u.s=!0;var g=u.Ga;ie||q(),D||(ie(),D=!0),V.add(g,u),u.B=0}}function L5(u,g){return Ku(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=In(p(u.Ga,u,g),Lv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ir(this,this.j,u);let B=this.o;if(this.S&&(B?(B=E(B),I(B,this.S)):B=this.S),this.m!==null||this.O||(U.H=B,B=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Av(this,U,g),v=Je(this.I),lt(v,"RID",u),lt(v,"CVER",22),this.D&&lt(v,"X-HTTP-Session-Id",this.D),Ll(this,v),B&&(this.O?g="headers="+encodeURIComponent(String(_v(B)))+"&"+g:this.m&&Nm(v,this.m,B)),eo(this.h,U),this.Ua&&lt(v,"TYPE","init"),this.P?(lt(v,"$req",g),lt(v,"SID","null"),U.T=!0,Ja(U,v,null)):Ja(U,v,g),this.G=2}}else this.G==3&&(u?kv(this,u):this.i.length==0||Gu(this.h)||kv(this))};function kv(u,g){var v;g?v=g.l:v=u.U++;const C=Je(u.I);lt(C,"SID",u.K),lt(C,"RID",v),lt(C,"AID",u.T),Ll(u,C),u.m&&u.o&&Nm(C,u.m,u.o),v=new Ir(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Av(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),eo(u.h,v),Ja(v,C,g)}function Ll(u,g){u.H&&O(u.H,function(v,C){lt(g,C,v)}),u.l&&K({},function(v,C){lt(g,C,v)})}function Av(u,g,v){v=Math.min(u.i.length,v);var C=u.l?p(u.l.Na,u.l,u):null;e:{var U=u.i;let B=-1;for(;;){const re=["count="+v];B==-1?0<v?(B=U[0].g,re.push("ofs="+B)):B=0:re.push("ofs="+B);let nt=!0;for(let sn=0;sn<v;sn++){let He=U[sn].g;const pn=U[sn].map;if(He-=B,0>He)B=Math.max(0,U[sn].g-100),nt=!1;else try{A5(pn,re,"req"+He+"_")}catch{C&&C(pn)}}if(nt){C=re.join("&");break e}}}return u=u.i.splice(0,v),g.D=u,C}function Pv(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ie||q(),D||(ie(),D=!0),V.add(g,u),u.v=0}}function jm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=In(p(u.Fa,u),Lv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Rv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=In(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ze(10),ed(this),Rv(this))};function Tm(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function Rv(u){u.g=new Ir(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Je(u.qa);lt(g,"RID","rpc"),lt(g,"SID",u.K),lt(g,"AID",u.T),lt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&lt(g,"TO",u.ja),lt(g,"TYPE","xmlhttp"),Ll(u,g),u.m&&u.o&&Nm(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Yu(Je(g)),v.m=null,v.P=!0,Nl(v,u)}t.Za=function(){this.C!=null&&(this.C=null,ed(this),jm(this),ze(19))};function nd(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function Dv(u,g){var v=null;if(u.g==g){nd(u),Tm(u),u.g=null;var C=2}else if(Za(u.h,g))v=g.D,Il(u.h,g),C=1;else return;if(u.G!=0){if(g.o)if(C==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var U=u.B;C=z(),st(C,new mr(C,v)),td(u)}else Pv(u);else if(U=g.s,U==3||U==0&&0<g.X||!(C==1&&L5(u,g)||C==2&&jm(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),U){case 1:ea(u,5);break;case 4:ea(u,10);break;case 3:ea(u,6);break;default:ea(u,2)}}}function Lv(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function ea(u,g){if(u.j.info("Error code "+g),g==2){var v=p(u.fb,u),C=u.Xa;const U=!C;C=new Le(C||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Vt(C,"https"),Yu(C),U?I5(C.toString(),v):C5(C.toString(),v)}else ze(2);u.G=0,u.l&&u.l.sa(g),Mv(u),Cv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function Mv(u){if(u.G=0,u.ka=[],u.l){const g=F(u.h);(g.length!=0||u.i.length!=0)&&(N(u.ka,g),N(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function Ov(u,g,v){var C=v instanceof Le?Je(v):new Le(v);if(C.g!="")g&&(C.g=g+"."+C.g),rn(C,C.s);else{var U=l.location;C=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var B=new Le(null);C&&Vt(B,C),g&&(B.g=g),U&&rn(B,U),v&&(B.l=v),C=B}return v=u.D,g=u.ya,v&&g&&lt(C,v,g),lt(C,"VER",u.la),Ll(u,C),C}function Fv(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new It(new Xu({eb:v})):new It(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $v(){}t=$v.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rd(){}rd.prototype.g=function(u,g){return new er(u,g)};function er(u,g){wt.call(this),this.g=new Iv(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!y(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!y(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new no(this)}_(er,wt),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){Em(this.g)},er.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ee(u),u=v);g.i.push(new _m(g.Ya++,u)),g.G==3&&td(g)},er.prototype.N=function(){this.g.l=null,delete this.j,Em(this.g),delete this.g,er.aa.N.call(this)};function Vv(u){Re.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}_(Vv,Re);function Uv(){qe.call(this),this.status=1}_(Uv,qe);function no(u){this.g=u}_(no,$v),no.prototype.ua=function(){st(this.g,"a")},no.prototype.ta=function(u){st(this.g,new Vv(u))},no.prototype.sa=function(u){st(this.g,new Uv)},no.prototype.ra=function(){st(this.g,"b")},rd.prototype.createWebChannel=rd.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,p4=function(){return new rd},m4=function(){return z()},h4=ot,O0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ya.NO_ERROR=0,Ya.TIMEOUT=8,Ya.HTTP_ERROR=6,ef=Ya,Bu.COMPLETE="complete",f4=Bu,it.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Jl=it,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,d4=It}).apply(typeof Nd<"u"?Nd:typeof self<"u"?self:typeof window<"u"?window:{});const Mb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new $x("@firebase/firestore");function Hl(){return Ia.logLevel}function he(t,...e){if(Ia.logLevel<=$e.DEBUG){const n=e.map(Yx);Ia.debug(`Firestore (${hl}): ${t}`,...n)}}function Ms(t,...e){if(Ia.logLevel<=$e.ERROR){const n=e.map(Yx);Ia.error(`Firestore (${hl}): ${t}`,...n)}}function Yo(t,...e){if(Ia.logLevel<=$e.WARN){const n=e.map(Yx);Ia.warn(`Firestore (${hl}): ${t}`,...n)}}function Yx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: `+t;throw Ms(e),new Error(e)}function Xe(t,e){t||Ce()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bn.UNAUTHENTICATED))}shutdown(){}}class tR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nR{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ss,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ss)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new g4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new bn(e)}}class rR{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new rR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Xe(this.o===void 0);const r=i=>{i.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new iR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=oR(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function Xo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Qt(0,0))}static max(){return new Ae(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ut extends Kc{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const lR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Kc{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return lR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new cn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ce(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ce(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ut.fromString(e))}static fromName(e){return new we(ut.fromString(e).popFirst(5))}static empty(){return new we(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ut(e.slice()))}}function cR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new Ai(s,we.empty(),e)}function uR(t){return new Ai(t.readTime,t.key,-1)}class Ai{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ai(Ae.min(),we.empty(),-1)}static max(){return new Ai(Ae.max(),we.empty(),-1)}}function dR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==fR)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(s=>s?Y.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(f=>{o[d]=f,++l,l===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new Y((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function mR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xx.oe=-1;function Lh(t){return t==null}function Hf(t){return t===0&&1/t==-1/0}function pR(t){return typeof t=="number"&&Number.isInteger(t)&&!Hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??on.RED,this.left=s??on.EMPTY,this.right=i??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new on(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return on.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,r,s,i){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(e){return new Fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class Fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new ir([])}unionWith(e){let n=new dn(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new v4("Invalid base64 string: "+i):i}}(e);return new hn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const gR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=gR.exec(t);if(Xe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ca(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zx(t){const e=t.mapValue.fields.__previous_value__;return Jx(e)?Zx(e):e}function Qc(t){const e=Pi(t.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n,r,s,i,o,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class Yc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd={mapValue:{}};function ka(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jx(t)?4:vR(t)?9007199254740991:yR(t)?10:11:Ce()}function ds(t,e){if(t===e)return!0;const n=ka(t);if(n!==ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qc(t).isEqual(Qc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Pi(s.timestampValue),l=Pi(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ca(s.bytesValue).isEqual(Ca(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Mt(s.geoPointValue.latitude)===Mt(i.geoPointValue.latitude)&&Mt(s.geoPointValue.longitude)===Mt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Mt(s.integerValue)===Mt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Mt(s.doubleValue),l=Mt(i.doubleValue);return o===l?Hf(o)===Hf(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Ob(o)!==Ob(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ds(o[c],l[c])))return!1;return!0}(t,e);default:return Ce()}}function Xc(t,e){return(t.values||[]).find(n=>ds(n,e))!==void 0}function Jo(t,e){if(t===e)return 0;const n=ka(t),r=ka(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Mt(i.integerValue||i.doubleValue),c=Mt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return $b(t.timestampValue,e.timestampValue);case 4:return $b(Qc(t),Qc(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Ca(i),c=Ca(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=We(l[d],c[d]);if(f!==0)return f}return We(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=We(Mt(i.latitude),Mt(o.latitude));return l!==0?l:We(Mt(i.longitude),Mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Vb(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,d,f;const h=i.fields||{},p=o.fields||{},x=(l=h.value)===null||l===void 0?void 0:l.arrayValue,_=(c=p.value)===null||c===void 0?void 0:c.arrayValue,j=We(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0);return j!==0?j:Vb(x,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===jd.mapValue&&o===jd.mapValue)return 0;if(i===jd.mapValue)return 1;if(o===jd.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){const p=We(c[h],f[h]);if(p!==0)return p;const x=Jo(l[c[h]],d[f[h]]);if(x!==0)return x}return We(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function $b(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Pi(t),r=Pi(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function Vb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Jo(n[s],r[s]);if(i)return i}return We(n.length,r.length)}function Zo(t){return F0(t)}function F0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ca(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=F0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${F0(n.fields[o])}`;return s+"}"}(t.mapValue):Ce()}function Ub(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $0(t){return!!t&&"integerValue"in t}function ey(t){return!!t&&"arrayValue"in t}function zb(t){return!!t&&"nullValue"in t}function Bb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tf(t){return!!t&&"mapValue"in t}function yR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function gc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(n)}setAll(e){let n=cn.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=gc(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];tf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ba(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Wn(gc(this.value))}}function b4(t){const e=[];return Ba(t.fields,(n,r)=>{const s=new cn([n]);if(tf(r)){const i=b4(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new _n(e,0,Ae.min(),Ae.min(),Ae.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,s){return new _n(e,1,n,Ae.min(),r,s,0)}static newNoDocument(e,n){return new _n(e,2,n,Ae.min(),Ae.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Ae.min(),Ae.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n){this.position=e,this.inclusive=n}}function Hb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=we.comparator(we.fromName(o.referenceValue),n.key):r=Jo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ds(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function bR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{}class Bt extends w4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _R(e,n,r):n==="array-contains"?new jR(e,r):n==="in"?new TR(e,r):n==="not-in"?new SR(e,r):n==="array-contains-any"?new IR(e,r):new Bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NR(e,r):new ER(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jo(n,this.value)):n!==null&&ka(this.value)===ka(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends w4{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Vr(e,n)}matches(e){return _4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _4(t){return t.op==="and"}function N4(t){return wR(t)&&_4(t)}function wR(t){for(const e of t.filters)if(e instanceof Vr)return!1;return!0}function V0(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+Zo(t.value);if(N4(t))return t.filters.map(e=>V0(e)).join(",");{const e=t.filters.map(n=>V0(n)).join(",");return`${t.op}(${e})`}}function E4(t,e){return t instanceof Bt?function(r,s){return s instanceof Bt&&r.op===s.op&&r.field.isEqual(s.field)&&ds(r.value,s.value)}(t,e):t instanceof Vr?function(r,s){return s instanceof Vr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&E4(o,s.filters[l]),!0):!1}(t,e):void Ce()}function j4(t){return t instanceof Bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`}(t):t instanceof Vr?function(n){return n.op.toString()+" {"+n.getFilters().map(j4).join(" ,")+"}"}(t):"Filter"}class _R extends Bt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class NR extends Bt{constructor(e,n){super(e,"in",n),this.keys=T4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ER extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=T4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function T4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class jR extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ey(n)&&Xc(n.arrayValue,this.value)}}class TR extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class SR extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xc(this.value.arrayValue,n)}}class IR extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function qb(t,e=null,n=[],r=[],s=null,i=null,o=null){return new CR(t,e,n,r,s,i,o)}function ty(t){const e=Pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>V0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zo(r)).join(",")),e.ue=n}return e.ue}function ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!E4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wb(t.startAt,e.startAt)&&Wb(t.endAt,e.endAt)}function U0(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kR(t,e,n,r,s,i,o,l){return new ml(t,e,n,r,s,i,o,l)}function ry(t){return new ml(t)}function Gb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function S4(t){return t.collectionGroup!==null}function xc(t){const e=Pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new dn(cn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Jc(i,r))}),n.has(cn.keyField().canonicalString())||e.ce.push(new Jc(cn.keyField(),r))}return e.ce}function os(t){const e=Pe(t);return e.le||(e.le=AR(e,xc(t))),e.le}function AR(t,e){if(t.limitType==="F")return qb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Jc(s.field,i)});const n=t.endAt?new Wf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wf(t.startAt.position,t.startAt.inclusive):null;return qb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function z0(t,e){const n=t.filters.concat([e]);return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qf(t,e,n){return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mh(t,e){return ny(os(t),os(e))&&t.limitType===e.limitType}function I4(t){return`${ty(os(t))}|lt:${t.limitType}`}function oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>j4(s)).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Zo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Zo(s)).join(",")),`Target(${r})`}(os(t))}; limitType=${t.limitType})`}function Oh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):we.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=Hb(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,xc(r),s)||r.endAt&&!function(o,l,c){const d=Hb(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,xc(r),s))}(t,e)}function PR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function C4(t){return(e,n)=>{let r=!1;for(const s of xc(t)){const i=RR(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function RR(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?Jo(c,d):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return y4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new St(we.comparator);function Os(){return DR}const k4=new St(we.comparator);function Zl(...t){let e=k4;for(const n of t)e=e.insert(n.key,n);return e}function A4(t){let e=k4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ua(){return yc()}function P4(){return yc()}function yc(){return new pl(t=>t.toString(),(t,e)=>t.isEqual(e))}const LR=new St(we.comparator),MR=new dn(we.comparator);function Fe(...t){let e=MR;for(const n of t)e=e.add(n);return e}const OR=new dn(We);function FR(){return OR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function R4(t){return{integerValue:""+t}}function $R(t,e){return pR(e)?R4(e):sy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function VR(t,e,n){return t instanceof Gf?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Jx(i)&&(i=Zx(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Zc?L4(t,e):t instanceof eu?M4(t,e):function(s,i){const o=D4(s,i),l=Kb(o)+Kb(s.Pe);return $0(o)&&$0(s.Pe)?R4(l):sy(s.serializer,l)}(t,e)}function UR(t,e,n){return t instanceof Zc?L4(t,e):t instanceof eu?M4(t,e):n}function D4(t,e){return t instanceof Kf?function(r){return $0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Gf extends Fh{}class Zc extends Fh{constructor(e){super(),this.elements=e}}function L4(t,e){const n=O4(e);for(const r of t.elements)n.some(s=>ds(s,r))||n.push(r);return{arrayValue:{values:n}}}class eu extends Fh{constructor(e){super(),this.elements=e}}function M4(t,e){let n=O4(e);for(const r of t.elements)n=n.filter(s=>!ds(s,r));return{arrayValue:{values:n}}}class Kf extends Fh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Kb(t){return Mt(t.integerValue||t.doubleValue)}function O4(t){return ey(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zR(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Zc&&s instanceof Zc||r instanceof eu&&s instanceof eu?Xo(r.elements,s.elements,ds):r instanceof Kf&&s instanceof Kf?ds(r.Pe,s.Pe):r instanceof Gf&&s instanceof Gf}(t.transform,e.transform)}class BR{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $h{}function F4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vh(t.key,Fn.none()):new _u(t.key,t.data,Fn.none());{const n=t.data,r=Wn.empty();let s=new dn(cn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new qi(t.key,r,new ir(s.toArray()),Fn.none())}}function HR(t,e,n){t instanceof _u?function(s,i,o){const l=s.value.clone(),c=Yb(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof qi?function(s,i,o){if(!nf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Yb(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll($4(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vc(t,e,n,r){return t instanceof _u?function(i,o,l,c){if(!nf(i.precondition,o))return l;const d=i.value.clone(),f=Xb(i.fieldTransforms,c,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof qi?function(i,o,l,c){if(!nf(i.precondition,o))return l;const d=Xb(i.fieldTransforms,c,o),f=o.data;return f.setAll($4(i)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,l){return nf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function WR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=D4(r.transform,s||null);i!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,i))}return n||null}function Qb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xo(r,s,(i,o)=>zR(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends $h{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qi extends $h{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function $4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Yb(t,e,n){const r=new Map;Xe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,UR(o,l,n[s]))}return r}function Xb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,VR(i,o,e))}return r}class Vh extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qR extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&HR(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P4();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=F4(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(n,r)=>Qb(n,r))&&Xo(this.baseMutations,e.baseMutations,(n,r)=>Qb(n,r))}}class iy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Xe(e.mutations.length===r.length);let s=function(){return LR}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new iy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ue;function YR(t){switch(t){default:return Ce();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function V4(t){if(t===void 0)return Ms("GRPC error has no .code"),G.UNKNOWN;switch(t){case Ut.OK:return G.OK;case Ut.CANCELLED:return G.CANCELLED;case Ut.UNKNOWN:return G.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return G.INTERNAL;case Ut.UNAVAILABLE:return G.UNAVAILABLE;case Ut.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Ut.NOT_FOUND:return G.NOT_FOUND;case Ut.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Ut.ABORTED:return G.ABORTED;case Ut.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Ut.DATA_LOSS:return G.DATA_LOSS;default:return Ce()}}(Ue=Ut||(Ut={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new ga([4294967295,4294967295],0);function Jb(t){const e=XR().encode(t),n=new u4;return n.update(e),new Uint8Array(n.digest())}function Zb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ga([n,r],0),new ga([s,i],0)]}class ay{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(r<0)throw new ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ga.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ga.fromNumber(r)));return s.compare(JR)===1&&(s=new ga([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Jb(e),[r,s]=Zb(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ay(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Jb(e),[r,s]=Zb(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uh(Ae.min(),s,new St(We),Os(),Fe())}}class Nu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nu(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class U4{constructor(e,n){this.targetId=e,this.me=n}}class z4{constructor(e,n,r=hn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class e2{constructor(){this.fe=0,this.ge=n2(),this.pe=hn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),n=Fe(),r=Fe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce()}}),new Nu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=n2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ZR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Os(),this.qe=t2(),this.Qe=new St(We)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(U0(i))if(r===0){const o=new we(i.path);this.Ue(n,o,_n.newNoDocument(o,Ae.min()))}else Xe(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Ca(r).toUint8Array()}catch(c){if(c instanceof v4)return Yo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new ay(o,s,i)}catch(c){return Yo(c instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&U0(l.target)){const c=new we(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,_n.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Fe();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Uh(e,n,this.Qe,this.ke,r);return this.ke=Os(),this.qe=t2(),this.Qe=new St(We),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new e2,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dn(We),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new e2),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function t2(){return new St(we.comparator)}function n2(){return new St(we.comparator)}const e8={asc:"ASCENDING",desc:"DESCENDING"},t8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n8={and:"AND",or:"OR"};class r8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B0(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function Qf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function s8(t,e){return Qf(t,e.toTimestamp())}function ls(t){return Xe(!!t),Ae.fromTimestamp(function(n){const r=Pi(n);return new Qt(r.seconds,r.nanos)}(t))}function oy(t,e){return H0(t,e).canonicalString()}function H0(t,e){const n=function(s){return new ut(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function H4(t){const e=ut.fromString(t);return Xe(Q4(e)),e}function W0(t,e){return oy(t.databaseId,e.path)}function lp(t,e){const n=H4(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(q4(n))}function W4(t,e){return oy(t.databaseId,e)}function i8(t){const e=H4(t);return e.length===4?ut.emptyPath():q4(e)}function q0(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function q4(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function r2(t,e,n){return{name:W0(t,e),fields:n.value.mapValue.fields}}function a8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(Xe(f===void 0||typeof f=="string"),hn.fromBase64String(f||"")):(Xe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),hn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const f=d.code===void 0?G.UNKNOWN:V4(d.code);return new ce(f,d.message||"")}(o);n=new z4(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=lp(t,r.document.name),i=ls(r.document.updateTime),o=r.document.createTime?ls(r.document.createTime):Ae.min(),l=new Wn({mapValue:{fields:r.document.fields}}),c=_n.newFoundDocument(s,i,o,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new rf(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=lp(t,r.document),i=r.readTime?ls(r.readTime):Ae.min(),o=_n.newNoDocument(s,i),l=r.removedTargetIds||[];n=new rf([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=lp(t,r.document),i=r.removedTargetIds||[];n=new rf([],i,s,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new QR(s,i),l=r.targetId;n=new U4(l,o)}}return n}function o8(t,e){let n;if(e instanceof _u)n={update:r2(t,e.key,e.value)};else if(e instanceof Vh)n={delete:W0(t,e.key)};else if(e instanceof qi)n={update:r2(t,e.key,e.data),updateMask:g8(e.fieldMask)};else{if(!(e instanceof qR))return Ce();n={verify:W0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Gf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Zc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof eu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Kf)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:s8(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ce()}(t,e.precondition)),n}function l8(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ls(s.updateTime):ls(i);return o.isEqual(Ae.min())&&(o=ls(i)),new BR(o,s.transformResults||[])}(n,e))):[]}function c8(t,e){return{documents:[W4(t,e.path)]}}function u8(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=W4(t,s);const i=function(d){if(d.length!==0)return K4(Vr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(f=>function(p){return{field:lo(p.field),direction:h8(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=B0(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function d8(t){let e=i8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Xe(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(h){const p=G4(h);return p instanceof Vr&&N4(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(_){return new Jc(co(_.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,Lh(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(h){const p=!!h.before,x=h.values||[];return new Wf(x,p)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const p=!h.before,x=h.values||[];return new Wf(x,p)}(n.endAt)),kR(e,s,o,i,l,"F",c,d)}function f8(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function G4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=co(n.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=co(n.unaryFilter.field);return Bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=co(n.unaryFilter.field);return Bt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=co(n.unaryFilter.field);return Bt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return Bt.create(co(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vr.create(n.compositeFilter.filters.map(r=>G4(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function h8(t){return e8[t]}function m8(t){return t8[t]}function p8(t){return n8[t]}function lo(t){return{fieldPath:t.canonicalString()}}function co(t){return cn.fromServerFormat(t.fieldPath)}function K4(t){return t instanceof Bt?function(n){if(n.op==="=="){if(Bb(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(zb(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bb(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(zb(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:m8(n.op),value:n.value}}}(t):t instanceof Vr?function(n){const r=n.getFilters().map(s=>K4(s));return r.length===1?r[0]:{compositeFilter:{op:p8(n.op),filters:r}}}(t):Ce()}function g8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Q4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r,s,i=Ae.min(),o=Ae.min(),l=hn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e){this.ct=e}}function y8(t){const e=d8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this.un=new b8}addToCollectionParentIndex(e,n){return this.un.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Ai.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class b8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new dn(ut.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new dn(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new el(0)}static kn(){return new el(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.changes=new pl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&vc(r.mutation,s,ir.empty(),Qt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Fe()){const s=ua();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Zl();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ua();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Fe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Os();const o=yc(),l=function(){return yc()}();return n.forEach((c,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof qi)?i=i.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),vc(f.mutation,d,f.mutation.getFieldMask(),Qt.now())):o.set(d.key,ir.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var h;return l.set(d,new _8(f,(h=o.get(d))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=yc();let s=new St((o,l)=>o-l),i=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||ir.empty();f=l.applyToLocalView(d,f),r.set(c,f);const h=(s.get(l.batchId)||Fe()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,h=P4();f.forEach(p=>{if(!i.has(p)){const x=F4(n.get(p),r.get(p));x!==null&&h.set(p,x),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return Y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):S4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Y.resolve(ua());let l=-1,c=i;return o.next(d=>Y.forEach(d,(f,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(f)?Y.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{c=c.insert(f,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Fe())).next(f=>({batchId:l,changes:A4(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let s=Zl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Zl();return this.indexManager.getCollectionParents(e,i).next(l=>Y.forEach(l,c=>{const d=function(h,p){return new ml(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(f=>{f.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,_n.newInvalidDocument(f)))});let l=Zl();return o.forEach((c,d)=>{const f=i.get(c);f!==void 0&&vc(f.mutation,d,ir.empty(),Qt.now()),Oh(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Y.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ls(s.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:y8(s.bundledQuery),readTime:ls(s.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(){this.overlays=new St(we.comparator),this.Ir=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ua();return Y.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const s=ua(),i=n.length+1,o=new we(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new St((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=ua(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=ua(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=s)););return Y.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KR(n,r));let i=this.Ir.get(n);i===void 0&&(i=Fe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.Tr=new dn(en.Er),this.dr=new dn(en.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new en(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new en(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new we(new ut([])),r=new en(n,e),s=new en(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new we(new ut([])),r=new en(n,e),s=new en(n,e+1);let i=Fe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new en(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return we.comparator(e.key,n.key)||We(e.wr,n.wr)}static Ar(e,n){return We(e.wr,n.wr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new dn(en.Er)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GR(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new en(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,n){return Y.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Y.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),s=new en(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),Y.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(We);return n.forEach(s=>{const i=new en(s,0),o=new en(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),Y.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;we.isDocumentKey(i)||(i=i.child(""));const o=new en(new we(i),0);let l=new dn(We);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.wr)),!0)},o),Y.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Y.forEach(n.mutations,s=>{const i=new en(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new en(n,0),s=this.br.firstAfterOrEqual(r);return Y.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e){this.Mr=e,this.docs=function(){return new St(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let r=Os();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():_n.newInvalidDocument(s))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Os();const o=n.path,l=new we(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||dR(uR(f),r)<=0||(s.has(f.key)||Oh(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return Y.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ce()}Or(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C8(this)}getSize(e){return Y.resolve(this.size)}}class C8 extends w8{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e){this.persistence=e,this.Nr=new pl(n=>ty(n),ny),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ly,this.targetCount=0,this.kr=el.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new el(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Kn(n),Y.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),Y.waitFor(i).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Y.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Xx(0),this.Kr=!1,this.Kr=!0,this.$r=new T8,this.referenceDelegate=e(this),this.Ur=new k8(this),this.indexManager=new v8,this.remoteDocumentCache=function(s){return new I8(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new x8(n),this.Gr=new E8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new S8(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new P8(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Y.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class P8 extends hR{constructor(e){super(),this.currentSequenceNumber=e}}class cy{constructor(e){this.persistence=e,this.Jr=new ly,this.Yr=null}static Zr(e){return new cy(e)}get Xr(){if(this.Yr)return this.Yr;throw Ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,r=>{const s=we.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Y.or([()=>Y.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Fe(),s=Fe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new uy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Nk()?8:mR(jn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new R8;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Hl()<=$e.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(Hl()<=$e.DEBUG&&he("QueryEngine","Query:",oo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Hl()<=$e.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,os(n))):Y.resolve())}Yi(e,n){if(Gb(n))return Y.resolve(null);let r=os(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=qf(n,null,"F"),r=os(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Fe(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,l);return this.ns(n,d,o,c.readTime)?this.Yi(e,qf(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,s){return Gb(n)||s.isEqual(Ae.min())?Y.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Y.resolve(null):(Hl()<=$e.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),oo(n)),this.rs(e,o,n,cR(s,-1)).next(l=>l))})}ts(e,n){let r=new dn(C4(e));return n.forEach((s,i)=>{Oh(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Hl()<=$e.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",oo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ai.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new St(We),this._s=new pl(i=>ty(i),ny),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function M8(t,e,n,r){return new L8(t,e,n,r)}async function Y4(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=Fe();for(const d of s){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of i){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:l}))})})}function O8(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,f){const h=d.batch,p=h.keys();let x=Y.resolve();return p.forEach(_=>{x=x.next(()=>f.getEntry(c,_)).next(j=>{const N=d.docVersions.get(_);Xe(N!==null),j.version.compareTo(N)<0&&(h.applyToRemoteDocument(j,d),j.isValidDocument()&&(j.setReadTime(d.commitVersion),f.addEntry(j)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Fe();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function X4(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function F8(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((f,h)=>{const p=s.get(h);if(!p)return;l.push(n.Ur.removeMatchingKeys(i,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,f.addedDocuments,h)));let x=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?x=x.withResumeToken(hn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):f.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(f.resumeToken,r)),s=s.insert(h,x),function(j,N,w){return j.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,x,f)&&l.push(n.Ur.updateTargetData(i,x))});let c=Os(),d=Fe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),l.push($8(i,o,e.documentUpdates).next(f=>{c=f.Ps,d=f.Is})),!r.isEqual(Ae.min())){const f=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(f)}return Y.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.os=s,i))}function $8(t,e,n){let r=Fe(),s=Fe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Os();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ae.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):he("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function V8(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U8(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Y.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new ui(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function G0(t,e,n){const r=Pe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!wu(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function s2(t,e,n){const r=Pe(t);let s=Ae.min(),i=Fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,f){const h=Pe(c),p=h._s.get(f);return p!==void 0?Y.resolve(h.os.get(p)):h.Ur.getTargetData(d,f)}(r,o,os(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Ae.min(),n?i:Fe())).next(l=>(z8(r,PR(e),l),{documents:l,Ts:i})))}function z8(t,e,n){let r=t.us.get(e)||Ae.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class i2{constructor(){this.activeTargetIds=FR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B8{constructor(){this.so=new i2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new i2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td=null;function cp(){return Td===null?Td=function(){return 268435456+Math.round(2147483648*Math.random())}():Td++,"0x"+Td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class G8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=cp(),c=this.xo(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(n,c,d,s).then(f=>(he("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Yo("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",s),f})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=W8[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=cp();return new Promise((o,l)=>{const c=new d4;c.setWithCredentials(!0),c.listenOnce(f4.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ef.NO_ERROR:const f=c.getResponseJson();he(vn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),o(f);break;case ef.TIMEOUT:he(vn,`RPC '${e}' ${i} timed out`),l(new ce(G.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const h=c.getStatus();if(he(vn,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const x=p==null?void 0:p.error;if(x&&x.status&&x.message){const _=function(N){const w=N.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(w)>=0?w:G.UNKNOWN}(x.status);l(new ce(_,x.message))}else l(new ce(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ce(G.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{he(vn,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);he(vn,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=cp(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=p4(),l=m4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=i.join("");he(vn,`Creating RPC '${e}' stream ${s}: ${f}`,c);const h=o.createWebChannel(f,c);let p=!1,x=!1;const _=new q8({Io:N=>{x?he(vn,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(p||(he(vn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),he(vn,`RPC '${e}' stream ${s} sending:`,N),h.send(N))},To:()=>h.close()}),j=(N,w,y)=>{N.listen(w,b=>{try{y(b)}catch(S){setTimeout(()=>{throw S},0)}})};return j(h,Jl.EventType.OPEN,()=>{x||(he(vn,`RPC '${e}' stream ${s} transport opened.`),_.yo())}),j(h,Jl.EventType.CLOSE,()=>{x||(x=!0,he(vn,`RPC '${e}' stream ${s} transport closed`),_.So())}),j(h,Jl.EventType.ERROR,N=>{x||(x=!0,Yo(vn,`RPC '${e}' stream ${s} transport errored:`,N),_.So(new ce(G.UNAVAILABLE,"The operation could not be completed")))}),j(h,Jl.EventType.MESSAGE,N=>{var w;if(!x){const y=N.data[0];Xe(!!y);const b=y,S=b.error||((w=b[0])===null||w===void 0?void 0:w.error);if(S){he(vn,`RPC '${e}' stream ${s} received error:`,S);const P=S.status;let O=function(k){const I=Ut[k];if(I!==void 0)return V4(I)}(P),T=S.message;O===void 0&&(O=G.INTERNAL,T="Unknown error status: "+P+" with message "+S.message),x=!0,_.So(new ce(O,T)),h.close()}else he(vn,`RPC '${e}' stream ${s} received:`,y),_.bo(y)}}),j(l,h4.STAT_EVENT,N=>{N.stat===O0.PROXY?he(vn,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===O0.NOPROXY&&he(vn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){return new r8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,r,s,i,o,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new J4(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Ms(n.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ce(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K8 extends Z4{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=a8(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ae.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ae.min():o.readTime?ls(o.readTime):Ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=q0(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=U0(c)?{documents:c8(i,c)}:{query:u8(i,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=B4(i,o.resumeToken);const d=B0(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ae.min())>0){l.readTime=Qf(i,o.snapshotVersion.toTimestamp());const d=B0(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=f8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=q0(this.serializer),n.removeTarget=e,this.a_(n)}}class Q8 extends Z4{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=l8(e.writeResults,e.commitTime),r=ls(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=q0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>o8(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ce(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,H0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(G.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,H0(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(G.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class X8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ms(n),this.D_=!1):he("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ha(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=Pe(c);d.L_.add(4),await Eu(d),d.q_.set("Unknown"),d.L_.delete(4),await Bh(d)}(this))})}),this.q_=new X8(r,s)}}async function Bh(t){if(Ha(t))for(const e of t.B_)await e(!0)}async function Eu(t){for(const e of t.B_)await e(!1)}function e3(t,e){const n=Pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),my(n)?hy(n):gl(n).r_()&&fy(n,e))}function dy(t,e){const n=Pe(t),r=gl(n);n.N_.delete(e),r.r_()&&t3(n,e),n.N_.size===0&&(r.r_()?r.o_():Ha(n)&&n.q_.set("Unknown"))}function fy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(t).A_(e)}function t3(t,e){t.Q_.xe(e),gl(t).R_(e)}function hy(t){t.Q_=new ZR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.q_.v_()}function my(t){return Ha(t)&&!gl(t).n_()&&t.N_.size>0}function Ha(t){return Pe(t).L_.size===0}function n3(t){t.Q_=void 0}async function Z8(t){t.q_.set("Online")}async function e7(t){t.N_.forEach((e,n)=>{fy(t,e)})}async function t7(t,e){n3(t),my(t)?(t.q_.M_(e),hy(t)):t.q_.set("Unknown")}async function n7(t,e,n){if(t.q_.set("Online"),e instanceof z4&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yf(t,r)}else if(e instanceof rf?t.Q_.Ke(e):e instanceof U4?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ae.min()))try{const r=await X4(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.N_.get(d);f&&i.N_.set(d,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const f=i.N_.get(c);if(!f)return;i.N_.set(c,f.withResumeToken(hn.EMPTY_BYTE_STRING,f.snapshotVersion)),t3(i,c);const h=new ui(f.target,c,d,f.sequenceNumber);fy(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await Yf(t,r)}}async function Yf(t,e,n){if(!wu(e))throw e;t.L_.add(1),await Eu(t),t.q_.set("Offline"),n||(n=()=>X4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Bh(t)})}function r3(t,e){return e().catch(n=>Yf(t,n,e))}async function Hh(t){const e=Pe(t),n=Ri(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;r7(e);)try{const s=await V8(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,s7(e,s)}catch(s){await Yf(e,s)}s3(e)&&i3(e)}function r7(t){return Ha(t)&&t.O_.length<10}function s7(t,e){t.O_.push(e);const n=Ri(t);n.r_()&&n.V_&&n.m_(e.mutations)}function s3(t){return Ha(t)&&!Ri(t).n_()&&t.O_.length>0}function i3(t){Ri(t).start()}async function i7(t){Ri(t).p_()}async function a7(t){const e=Ri(t);for(const n of t.O_)e.m_(n.mutations)}async function o7(t,e,n){const r=t.O_.shift(),s=iy.from(r,e,n);await r3(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Hh(t)}async function l7(t,e){e&&Ri(t).V_&&await async function(r,s){if(function(o){return YR(o)&&o!==G.ABORTED}(s.code)){const i=r.O_.shift();Ri(r).s_(),await r3(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Hh(r)}}(t,e),s3(t)&&i3(t)}async function o2(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Ha(n);n.L_.add(3),await Eu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Bh(n)}async function c7(t,e){const n=Pe(t);e?(n.L_.delete(2),await Bh(n)):e||(n.L_.add(2),await Eu(n),n.q_.set("Unknown"))}function gl(t){return t.K_||(t.K_=function(n,r,s){const i=Pe(n);return i.w_(),new K8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Z8.bind(null,t),Ro:e7.bind(null,t),mo:t7.bind(null,t),d_:n7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),my(t)?hy(t):t.q_.set("Unknown")):(await t.K_.stop(),n3(t))})),t.K_}function Ri(t){return t.U_||(t.U_=function(n,r,s){const i=Pe(n);return i.w_(),new Q8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:i7.bind(null,t),mo:l7.bind(null,t),f_:a7.bind(null,t),g_:o7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Hh(t)):(await t.U_.stop(),t.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new py(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gy(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),wu(t))return new ce(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new Mo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.W_=new St(we.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class tl{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new tl(e,n,Mo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class d7{constructor(){this.queries=c2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Pe(n),i=s.queries;s.queries=c2(),i.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new ce(G.ABORTED,"Firestore shutting down"))}}function c2(){return new pl(t=>I4(t),Mh)}async function a3(t,e){const n=Pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new u7,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=gy(o,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&xy(n)}async function o3(t,e){const n=Pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function f7(t,e){const n=Pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&xy(n)}function h7(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function xy(t){t.Y_.forEach(e=>{e.next()})}var K0,u2;(u2=K0||(K0={})).ea="default",u2.Cache="cache";class l3{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==K0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.key=e}}class u3{constructor(e){this.key=e}}class m7{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fe(),this.mutatedKeys=Fe(),this.Aa=C4(e),this.Ra=new Mo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new l2,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,h)=>{const p=s.get(f),x=Oh(this.query,h)?h:null,_=!!p&&this.mutatedKeys.has(p.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;p&&x?p.data.isEqual(x.data)?_!==j&&(r.track({type:3,doc:x}),N=!0):this.ga(p,x)||(r.track({type:2,doc:x}),N=!0,(c&&this.Aa(x,c)>0||d&&this.Aa(x,d)<0)&&(l=!0)):!p&&x?(r.track({type:0,doc:x}),N=!0):p&&!x&&(r.track({type:1,doc:p}),N=!0,(c||d)&&(l=!0)),N&&(x?(o=o.add(x),i=j?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,h)=>function(x,_){const j=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return j(x)-j(_)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,o.length!==0||d?{snapshot:new tl(this.query,e.Ra,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new l2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new u3(r))}),this.da.forEach(r=>{e.has(r)||n.push(new c3(r))}),n}ba(e){this.Ta=e.Ts,this.da=Fe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return tl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class p7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class g7{constructor(e){this.key=e,this.va=!1}}class x7{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new pl(l=>I4(l),Mh),this.Ma=new Map,this.xa=new Set,this.Oa=new St(we.comparator),this.Na=new Map,this.La=new ly,this.Ba={},this.ka=new Map,this.qa=el.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function y7(t,e,n=!0){const r=g3(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await d3(r,e,n,!0),s}async function v7(t,e){const n=g3(t);await d3(n,e,!0,!1)}async function d3(t,e,n,r){const s=await U8(t.localStore,os(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await b7(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&e3(t.remoteStore,s),l}async function b7(t,e,n,r,s){t.Ka=(h,p,x)=>async function(j,N,w,y){let b=N.view.ma(w);b.ns&&(b=await s2(j.localStore,N.query,!1).then(({documents:T})=>N.view.ma(T,b)));const S=y&&y.targetChanges.get(N.targetId),P=y&&y.targetMismatches.get(N.targetId)!=null,O=N.view.applyChanges(b,j.isPrimaryClient,S,P);return f2(j,N.targetId,O.wa),O.snapshot}(t,h,p,x);const i=await s2(t.localStore,e,!0),o=new m7(e,i.Ts),l=o.ma(i.documents),c=Nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);f2(t,n,d.wa);const f=new p7(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function w7(t,e,n){const r=Pe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Mh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await G0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&dy(r.remoteStore,s.targetId),Q0(r,s.targetId)}).catch(bu)):(Q0(r,s.targetId),await G0(r.localStore,s.targetId,!0))}async function _7(t,e){const n=Pe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dy(n.remoteStore,r.targetId))}async function N7(t,e,n){const r=k7(t);try{const s=await function(o,l){const c=Pe(o),d=Qt.now(),f=l.reduce((x,_)=>x.add(_.key),Fe());let h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let _=Os(),j=Fe();return c.cs.getEntries(x,f).next(N=>{_=N,_.forEach((w,y)=>{y.isValidDocument()||(j=j.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,_)).next(N=>{h=N;const w=[];for(const y of l){const b=WR(y,h.get(y.key).overlayedDocument);b!=null&&w.push(new qi(y.key,b,b4(b.value.mapValue),Fn.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,w,l)}).next(N=>{p=N;const w=N.applyToLocalDocumentSet(h,j);return c.documentOverlayCache.saveOverlays(x,N.batchId,w)})}).then(()=>({batchId:p.batchId,changes:A4(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Ba[o.currentUser.toKey()];d||(d=new St(We)),d=d.insert(l,c),o.Ba[o.currentUser.toKey()]=d}(r,s.batchId,n),await ju(r,s.changes),await Hh(r.remoteStore)}catch(s){const i=gy(s,"Failed to persist write");n.reject(i)}}async function f3(t,e){const n=Pe(t);try{const r=await F8(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Xe(o.va):s.removedDocuments.size>0&&(Xe(o.va),o.va=!1))}),await ju(n,r,e)}catch(r){await bu(r)}}function d2(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Pe(o);c.onlineState=l;let d=!1;c.queries.forEach((f,h)=>{for(const p of h.j_)p.Z_(l)&&(d=!0)}),d&&xy(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E7(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new St(we.comparator);o=o.insert(i,_n.newNoDocument(i,Ae.min()));const l=Fe().add(i),c=new Uh(Ae.min(),new Map,new St(We),o,l);await f3(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),yy(r)}else await G0(r.localStore,e,!1).then(()=>Q0(r,e,n)).catch(bu)}async function j7(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await O8(n.localStore,e);m3(n,r,null),h3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ju(n,s)}catch(s){await bu(s)}}async function T7(t,e,n){const r=Pe(t);try{const s=await function(o,l){const c=Pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next(h=>(Xe(h!==null),f=h.keys(),c.mutationQueue.removeMutationBatch(d,h))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);m3(r,e,n),h3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ju(r,s)}catch(s){await bu(s)}}function h3(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function m3(t,e,n){const r=Pe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Q0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||p3(t,r)})}function p3(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(dy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),yy(t))}function f2(t,e,n){for(const r of n)r instanceof c3?(t.La.addReference(r.key,e),S7(t,r)):r instanceof u3?(he("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||p3(t,r.key)):Ce()}function S7(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(he("SyncEngine","New document in limbo: "+n),t.xa.add(r),yy(t))}function yy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new we(ut.fromString(e)),r=t.qa.next();t.Na.set(r,new g7(n)),t.Oa=t.Oa.insert(n,r),e3(t.remoteStore,new ui(os(ry(n.path)),r,"TargetPurposeLimboResolution",Xx.oe))}}async function ju(t,e,n){const r=Pe(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const h=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(d){s.push(d);const h=uy.Wi(c.targetId,d);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,d){const f=Pe(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Y.forEach(d,p=>Y.forEach(p.$i,x=>f.persistence.referenceDelegate.addReference(h,p.targetId,x)).next(()=>Y.forEach(p.Ui,x=>f.persistence.referenceDelegate.removeReference(h,p.targetId,x)))))}catch(h){if(!wu(h))throw h;he("LocalStore","Failed to update sequence numbers: "+h)}for(const h of d){const p=h.targetId;if(!h.fromCache){const x=f.os.get(p),_=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(_);f.os=f.os.insert(p,j)}}}(r.localStore,i))}async function I7(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await Y4(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new ce(G.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ju(n,r.hs)}}function C7(t,e){const n=Pe(t),r=n.Na.get(e);if(r&&r.va)return Fe().add(r.key);{let s=Fe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function g3(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=f3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E7.bind(null,e),e.Ca.d_=f7.bind(null,e.eventManager),e.Ca.$a=h7.bind(null,e.eventManager),e}function k7(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T7.bind(null,e),e}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return M8(this.persistence,new D8,e.initialUser,this.serializer)}Ga(e){return new A8(cy.Zr,this.serializer)}Wa(e){return new B8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class Y0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=I7.bind(null,this.syncEngine),await c7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d7}()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),r=function(i){return new G8(i)}(e.databaseInfo);return function(i,o,l,c){return new Y8(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new J8(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>d2(this.syncEngine,n,0),function(){return a2.D()?new a2:new H8}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,f){const h=new x7(s,i,o,l,c,d);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Pe(s);he("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Eu(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Y0.provider={build:()=>new Y0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=bn.UNAUTHENTICATED,this.clientId=x4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{he("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(he("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dp(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Y4(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function h2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P7(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>o2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>o2(e.remoteStore,s)),t._onlineComponents=e}async function P7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===G.FAILED_PRECONDITION||s.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await dp(t,new Xf)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await dp(t,new Xf);return t._offlineComponents}async function y3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await h2(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await h2(t,new Y0))),t._onlineComponents}function R7(t){return y3(t).then(e=>e.syncEngine)}async function v3(t){const e=await y3(t),n=e.eventManager;return n.onListen=y7.bind(null,e.syncEngine),n.onUnlisten=w7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=v7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_7.bind(null,e.syncEngine),n}function D7(t,e,n={}){const r=new Ss;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const f=new x3({next:p=>{f.Za(),o.enqueueAndForget(()=>o3(i,h));const x=p.docs.has(l);!x&&p.fromCache?d.reject(new ce(G.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&p.fromCache&&c&&c.source==="server"?d.reject(new ce(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),h=new l3(ry(l.path),f,{includeMetadataChanges:!0,_a:!0});return a3(i,h)}(await v3(t),t.asyncQueue,e,n,r)),r.promise}function L7(t,e,n={}){const r=new Ss;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const f=new x3({next:p=>{f.Za(),o.enqueueAndForget(()=>o3(i,h)),p.fromCache&&c.source==="server"?d.reject(new ce(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),h=new l3(l,f,{includeMetadataChanges:!0,_a:!0});return a3(i,h)}(await v3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t,e,n){if(!n)throw new ce(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M7(t,e,n,r){if(e===!0&&r===!0)throw new ce(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function p2(t){if(!we.isDocumentKey(t))throw new ce(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g2(t){if(we.isDocumentKey(t))throw new ce(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(t);throw new ce(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eR;switch(r.type){case"firstParty":return new sR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=m2.get(n);r&&(he("ComponentProvider","Removing Datastore"),m2.delete(n),r.terminate())}(this),Promise.resolve()}}function O7(t,e,n,r={}){var s;const i=(t=Er(t,qh))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=bn.MOCK_USER;else{l=EE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ce(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new bn(d)}t._authCredentials=new tR(new g4(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class $n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class Ni extends Gi{constructor(e,n,r){super(e,n,ry(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new we(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function kt(t,e,...n){if(t=rt(t),w3("collection","path",e),t instanceof qh){const r=ut.fromString(e,...n);return g2(r),new Ni(t,null,r)}{if(!(t instanceof $n||t instanceof Ni))throw new ce(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return g2(r),new Ni(t.firestore,null,r)}}function Qe(t,e,...n){if(t=rt(t),arguments.length===1&&(e=x4.newId()),w3("doc","path",e),t instanceof qh){const r=ut.fromString(e,...n);return p2(r),new $n(t,null,new we(r))}{if(!(t instanceof $n||t instanceof Ni))throw new ce(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return p2(r),new $n(t.firestore,t instanceof Ni?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new J4(this,"async_queue_retry"),this.Vu=()=>{const r=up();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ss;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wu(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Ms("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=py.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Ki extends qh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new y2,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y2(e),this._firestoreClient=void 0,await e}}}function F7(t,e){const n=typeof t=="object"?t:Ah(),r=typeof t=="string"?t:"(default)",s=pu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Fx("firestore");i&&O7(s,...i)}return s}function Gh(t){if(t._terminated)throw new ce(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$7(t),t._firestoreClient}function $7(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,f){return new xR(l,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,b3(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new A7(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nl(hn.fromBase64String(e))}catch(n){throw new ce(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nl(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=/^__.*__$/;class U7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class _3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function N3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class _y{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(N3(this.Cu)&&V7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class z7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zh(e)}Qu(e,n,r,s=!1){return new _y({Cu:e,methodName:n,qu:r,path:cn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(t){const e=t._freezeSettings(),n=zh(t._databaseId);return new z7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ny(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Ey("Data must be an object, but it was:",o,r);const l=T3(r,o);let c,d;if(i.merge)c=new ir(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const h of i.mergeFields){const p=X0(e,h,n);if(!o.contains(p))throw new ce(G.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);I3(f,p)||f.push(p)}c=new ir(f),d=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,d=o.fieldTransforms;return new U7(new Wn(l),c,d)}class Kh extends vy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function E3(t,e,n,r){const s=t.Qu(1,e,n);Ey("Data must be an object, but it was:",s,r);const i=[],o=Wn.empty();Ba(r,(c,d)=>{const f=jy(e,c,n);d=rt(d);const h=s.Nu(f);if(d instanceof Kh)i.push(f);else{const p=Iu(d,h);p!=null&&(i.push(f),o.set(f,p))}});const l=new ir(i);return new _3(o,l,s.fieldTransforms)}function j3(t,e,n,r,s,i){const o=t.Qu(1,e,n),l=[X0(e,r,n)],c=[s];if(i.length%2!=0)throw new ce(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(X0(e,i[p])),c.push(i[p+1]);const d=[],f=Wn.empty();for(let p=l.length-1;p>=0;--p)if(!I3(d,l[p])){const x=l[p];let _=c[p];_=rt(_);const j=o.Nu(x);if(_ instanceof Kh)d.push(x);else{const N=Iu(_,j);N!=null&&(d.push(x),f.set(x,N))}}const h=new ir(d);return new _3(f,h,o.fieldTransforms)}function B7(t,e,n,r=!1){return Iu(n,t.Qu(r?4:3,e))}function Iu(t,e){if(S3(t=rt(t)))return Ey("Unsupported field value:",e,t),T3(t,e);if(t instanceof vy)return function(r,s){if(!N3(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Iu(l,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $R(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Qt.fromDate(r);return{timestampValue:Qf(s.serializer,i)}}if(r instanceof Qt){const i=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qf(s.serializer,i)}}if(r instanceof by)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nl)return{bytesValue:B4(s.serializer,r._byteString)};if(r instanceof $n){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:oy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof wy)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return sy(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Wh(r)}`)}(t,e)}function T3(t,e){const n={};return y4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(t,(r,s)=>{const i=Iu(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function S3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof by||t instanceof nl||t instanceof $n||t instanceof vy||t instanceof wy)}function Ey(t,e,n){if(!S3(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Wh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function X0(t,e,n){if((e=rt(e))instanceof Tu)return e._internalPath;if(typeof e=="string")return jy(t,e);throw Jf("Field path arguments must be of type string or ",t,!1,void 0,n)}const H7=new RegExp("[~\\*/\\[\\]]");function jy(t,e,n){if(e.search(H7)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tu(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ce(G.INVALID_ARGUMENT,l+t+c)}function I3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W7 extends C3{data(){return super.data()}}function Qh(t,e){return typeof e=="string"?jy(t,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ty{}class Sy extends Ty{}function Jr(t,e,...n){let r=[];e instanceof Ty&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Iy).length,l=i.filter(c=>c instanceof Yh).length;if(o>1||o>0&&l>0)throw new ce(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Yh extends Sy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yh(e,n,r)}_apply(e){const n=this._parse(e);return k3(e._query,n),new Gi(e.firestore,e.converter,z0(e._query,n))}_parse(e){const n=Su(e.firestore);return function(i,o,l,c,d,f,h){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ce(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){b2(h,f);const x=[];for(const _ of h)x.push(v2(c,i,_));p={arrayValue:{values:x}}}else p=v2(c,i,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||b2(h,f),p=B7(l,o,h,f==="in"||f==="not-in");return Bt.create(d,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sd(t,e,n){const r=e,s=Qh("where",t);return Yh._create(s,r,n)}class Iy extends Ty{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)k3(o,c),o=z0(o,c)}(e._query,n),new Gi(e.firestore,e.converter,z0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cy extends Sy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Cy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ce(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ce(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jc(i,o)}(e._query,this._field,this._direction);return new Gi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ml(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Zf(t,e="asc"){const n=e,r=Qh("orderBy",t);return Cy._create(r,n)}class ky extends Sy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ky(e,n,r)}_apply(e){return new Gi(e.firestore,e.converter,qf(e._query,this._limit,this._limitType))}}function G7(t){return ky._create("limit",t,"F")}function v2(t,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new ce(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S4(e)&&n.indexOf("/")!==-1)throw new ce(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!we.isDocumentKey(r))throw new ce(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ub(t,new we(r))}if(n instanceof $n)return Ub(t,n._key);throw new ce(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function b2(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k3(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class K7{convertValue(e,n="none"){switch(ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ba(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Mt(o.doubleValue));return new wy(i)}convertGeoPoint(e){return new by(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const n=Pi(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);Xe(Q4(r));const s=new Yc(r.get(1),r.get(3)),i=new we(r.popFirst(5));return s.isEqual(n)||Ms(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class A3 extends C3{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sf extends A3{data(e={}){return super.data(e)}}class Q7{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new tc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sf(this._firestore,this._userDataWriter,r.key,r,new tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new sf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new tc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new sf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new tc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:Y7(l.type),doc:c,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Y7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){t=Er(t,$n);const e=Er(t.firestore,Ki);return D7(Gh(e),t._key).then(n=>X7(e,t,n))}class P3 extends K7{constructor(e){super(),this.firestore=e}convertBytes(e){return new nl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function Rn(t){t=Er(t,Gi);const e=Er(t.firestore,Ki),n=Gh(e),r=new P3(e);return q7(t._query),L7(n,t._query).then(s=>new Q7(e,r,t,s))}function R3(t,e,n){t=Er(t,$n);const r=Er(t.firestore,Ki),s=Ay(t.converter,e,n);return ku(r,[Ny(Su(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Fn.none())])}function rr(t,e,n,...r){t=Er(t,$n);const s=Er(t.firestore,Ki),i=Su(s);let o;return o=typeof(e=rt(e))=="string"||e instanceof Tu?j3(i,"updateDoc",t._key,e,n,r):E3(i,"updateDoc",t._key,e),ku(s,[o.toMutation(t._key,Fn.exists(!0))])}function Ei(t){return ku(Er(t.firestore,Ki),[new Vh(t._key,Fn.none())])}function Wa(t,e){const n=Er(t.firestore,Ki),r=Qe(t),s=Ay(t.converter,e);return ku(n,[Ny(Su(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Fn.exists(!1))]).then(()=>r)}function ku(t,e){return function(r,s){const i=new Ss;return r.asyncQueue.enqueueAndForget(async()=>N7(await R7(r),s,i)),i.promise}(Gh(t),e)}function X7(t,e,n){const r=n.docs.get(e._key),s=new P3(t);return new A3(t,s,e._key,r,new tc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Su(e)}set(e,n,r){this._verifyNotCommitted();const s=fp(e,this._firestore),i=Ay(s.converter,n,r),o=Ny(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Fn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=fp(e,this._firestore);let o;return o=typeof(n=rt(n))=="string"||n instanceof Tu?j3(this._dataReader,"WriteBatch.update",i._key,n,r,s):E3(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,Fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=fp(e,this._firestore);return this._mutations=this._mutations.concat(new Vh(n._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fp(t,e){if((t=rt(t)).firestore!==e)throw new ce(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){return Gh(t=Er(t,Ki)),new J7(t,e=>ku(t,e))}(function(e,n=!0){(function(s){hl=s})(Ua),ki(new Rs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Ki(new nR(r.getProvider("auth-internal")),new aR(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ce(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(d.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),wr(Mb,"4.7.3",e),wr(Mb,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="firebasestorage.googleapis.com",L3="storageBucket",Z7=2*60*1e3,eD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt extends Br{constructor(e,n,r=0){super(hp(e),`Firebase Storage: ${n} (${hp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function hp(t){return"storage/"+t}function Py(){const t="An unknown error occurred, please check the error payload for server response.";return new Pt(At.UNKNOWN,t)}function tD(t){return new Pt(At.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function nD(t){return new Pt(At.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pt(At.UNAUTHENTICATED,t)}function sD(){return new Pt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function iD(t){return new Pt(At.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function aD(){return new Pt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oD(){return new Pt(At.CANCELED,"User canceled the upload/download.")}function lD(t){return new Pt(At.INVALID_URL,"Invalid URL '"+t+"'.")}function cD(t){return new Pt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uD(){return new Pt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+L3+"' property when initializing the app?")}function dD(){return new Pt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fD(){return new Pt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hD(t){return new Pt(At.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function J0(t){return new Pt(At.INVALID_ARGUMENT,t)}function M3(){return new Pt(At.APP_DELETED,"The Firebase app was deleted.")}function mD(t){return new Pt(At.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bc(t,e){return new Pt(At.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wl(t){throw new Pt(At.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ar.makeFromUrl(e,n)}catch{return new ar(e,"")}if(r.path==="")return r;throw cD(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(S){S.path_=decodeURIComponent(S.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",x=new RegExp(`^https?://${h}/${f}/b/${s}/o${p}`,"i"),_={bucket:1,path:3},j=n===D3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",w=new RegExp(`^https?://${j}/${s}/${N}`,"i"),b=[{regex:l,indices:c,postModify:i},{regex:x,indices:_,postModify:d},{regex:w,indices:{bucket:1,path:2},postModify:d}];for(let S=0;S<b.length;S++){const P=b[S],O=P.regex.exec(e);if(O){const T=O[P.indices.bucket];let E=O[P.indices.path];E||(E=""),r=new ar(T,E),P.postModify(r);break}}if(r==null)throw lD(e);return r}}class pD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let d=!1;function f(...N){d||(d=!0,e.apply(null,N))}function h(N){s=setTimeout(()=>{s=null,t(x,c())},N)}function p(){i&&clearTimeout(i)}function x(N,...w){if(d){p();return}if(N){p(),f.call(null,N,...w);return}if(c()||o){p(),f.call(null,N,...w);return}r<64&&(r*=2);let b;l===1?(l=2,b=0):b=(r+Math.random())*1e3,h(b)}let _=!1;function j(N){_||(_=!0,p(),!d&&(s!==null?(N||(l=2),clearTimeout(s),h(0)):N||(l=1)))}return h(0),i=setTimeout(()=>{o=!0,j(!0)},n),j}function xD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){return t!==void 0}function vD(t){return typeof t=="object"&&!Array.isArray(t)}function Ry(t){return typeof t=="string"||t instanceof String}function _2(t){return Dy()&&t instanceof Blob}function Dy(){return typeof Blob<"u"}function N2(t,e,n,r){if(r<e)throw J0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw J0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function O3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var xa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xa||(xa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,r,s,i,o,l,c,d,f,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,_)=>{this.resolve_=x,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Id(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===xa.NO_ERROR,c=i.getStatus();if(!l||bD(c,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===xa.ABORT;r(!1,new Id(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Id(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());yD(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=Py();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?M3():oD();o(c)}else{const c=aD();o(c)}};this.canceled_?n(!1,new Id(!1,null,!0)):this.backoffId_=gD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Id{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _D(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ND(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ED(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function TD(t,e,n,r,s,i,o=!0){const l=O3(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return ED(d,e),_D(d,n),ND(d,i),jD(d,r),new wD(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ID(...t){const e=SD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Dy())return new Blob(t);throw new Pt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function CD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){if(typeof atob>"u")throw hD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mp{constructor(e,n){this.data=e,this.contentType=n||null}}function AD(t,e){switch(t){case Zr.RAW:return new mp(F3(e));case Zr.BASE64:case Zr.BASE64URL:return new mp($3(t,e));case Zr.DATA_URL:return new mp(RD(e),DD(e))}throw Py()}function F3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function PD(t){let e;try{e=decodeURIComponent(t)}catch{throw bc(Zr.DATA_URL,"Malformed data URL.")}return F3(e)}function $3(t,e){switch(t){case Zr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw bc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Zr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw bc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kD(e)}catch(s){throw s.message.includes("polyfill")?s:bc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class V3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw bc(Zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=LD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function RD(t){const e=new V3(t);return e.base64?$3(Zr.BASE64,e.rest):PD(e.rest)}function DD(t){return new V3(t).contentType}function LD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){let r=0,s="";_2(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(_2(this.data_)){const r=this.data_,s=CD(r,e,n);return s===null?null:new si(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new si(r,!0)}}static getBlob(...e){if(Dy()){const n=e.map(r=>r instanceof si?r.data_:r);return new si(ID.apply(null,n))}else{const n=e.map(o=>Ry(o)?AD(Zr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new si(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t){let e;try{e=JSON.parse(t)}catch{return null}return vD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function z3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t,e){return e}class Cn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||FD}}let Cd=null;function $D(t){return!Ry(t)||t.length<2?t:z3(t)}function B3(){if(Cd)return Cd;const t=[];t.push(new Cn("bucket")),t.push(new Cn("generation")),t.push(new Cn("metageneration")),t.push(new Cn("name","fullPath",!0));function e(i,o){return $D(o)}const n=new Cn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Cn("size");return s.xform=r,t.push(s),t.push(new Cn("timeCreated")),t.push(new Cn("updated")),t.push(new Cn("md5Hash",null,!0)),t.push(new Cn("cacheControl",null,!0)),t.push(new Cn("contentDisposition",null,!0)),t.push(new Cn("contentEncoding",null,!0)),t.push(new Cn("contentLanguage",null,!0)),t.push(new Cn("contentType",null,!0)),t.push(new Cn("metadata","customMetadata",!0)),Cd=t,Cd}function VD(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new ar(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function UD(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return VD(r,t),r}function H3(t,e,n){const r=U3(e);return r===null?null:UD(t,r,n)}function zD(t,e,n,r){const s=U3(e);if(s===null||!Ry(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(d=>{const f=t.bucket,h=t.fullPath,p="/b/"+o(f)+"/o/"+o(h),x=Ly(p,n,r),_=O3({alt:"media",token:d});return x+_})[0]}function BD(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class W3{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){if(!t)throw Py()}function HD(t,e){function n(r,s){const i=H3(t,s,e);return q3(i!==null),i}return n}function WD(t,e){function n(r,s){const i=H3(t,s,e);return q3(i!==null),zD(i,s,t.host,t._protocol)}return n}function G3(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=sD():s=rD():n.getStatus()===402?s=nD(t.bucket):n.getStatus()===403?s=iD(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function qD(t){const e=G3(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=tD(t.path)),i.serverResponse=s.serverResponse,i}return n}function GD(t,e,n){const r=e.fullServerUrl(),s=Ly(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new W3(s,i,WD(t,n),o);return l.errorHandler=qD(e),l}function KD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function QD(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=KD(null,e)),r}function YD(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let b="";for(let S=0;S<2;S++)b=b+Math.random().toString().slice(2);return b}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=QD(e,r,s),f=BD(d,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+c+"--",x=si.getBlob(h,r,p);if(x===null)throw dD();const _={name:d.fullPath},j=Ly(i,t.host,t._protocol),N="POST",w=t.maxUploadRetryTime,y=new W3(j,N,HD(t,n),w);return y.urlParams=_,y.headers=o,y.body=x.uploadData(),y.errorHandler=G3(e),y}class XD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Wl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class JD extends XD{initXhr(){this.xhr_.responseType="text"}}function K3(){return new JD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this._service=e,n instanceof ar?this._location=n:this._location=ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Aa(e,n)}get root(){const e=new ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return z3(this._location.path)}get storage(){return this._service}get parent(){const e=MD(this._location.path);if(e===null)return null;const n=new ar(this._location.bucket,e);return new Aa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mD(e)}}function ZD(t,e,n){t._throwIfRoot("uploadBytes");const r=YD(t.storage,t._location,B3(),new si(e,!0),n);return t.storage.makeRequestWithTokens(r,K3).then(s=>({metadata:s,ref:t}))}function e9(t){t._throwIfRoot("getDownloadURL");const e=GD(t.storage,t._location,B3());return t.storage.makeRequestWithTokens(e,K3).then(n=>{if(n===null)throw fD();return n})}function t9(t,e){const n=OD(t._location.path,e),r=new ar(t._location.bucket,n);return new Aa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t){return/^[A-Za-z]+:\/\//.test(t)}function r9(t,e){return new Aa(t,e)}function Q3(t,e){if(t instanceof My){const n=t;if(n._bucket==null)throw uD();const r=new Aa(n,n._bucket);return e!=null?Q3(r,e):r}else return e!==void 0?t9(t,e):t}function s9(t,e){if(e&&n9(e)){if(t instanceof My)return r9(t,e);throw J0("To use ref(service, url), the first argument must be a Storage instance.")}else return Q3(t,e)}function E2(t,e){const n=e==null?void 0:e[L3];return n==null?null:ar.makeFromBucketSpec(n,t)}function i9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:EE(s,t.app.options.projectId))}class My{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=D3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Z7,this._maxUploadRetryTime=eD,this._requests=new Set,s!=null?this._bucket=ar.makeFromBucketSpec(s,this._host):this._bucket=E2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ar.makeFromBucketSpec(this._url,e):this._bucket=E2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){N2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){N2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Aa(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new pD(M3());{const o=TD(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const j2="@firebase/storage",T2="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="storage";function a9(t,e,n){return t=rt(t),ZD(t,e,n)}function X3(t){return t=rt(t),e9(t)}function J3(t,e){return t=rt(t),s9(t,e)}function o9(t=Ah(),e){t=rt(t);const r=pu(t,Y3).getImmediate({identifier:e}),s=Fx("storage");return s&&l9(r,...s),r}function l9(t,e,n,r={}){i9(t,e,n,r)}function c9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new My(n,r,s,e,Ua)}function u9(){ki(new Rs(Y3,c9,"PUBLIC").setMultipleInstances(!0)),wr(j2,T2,""),wr(j2,T2,"esm2017")}u9();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="type.googleapis.com/google.protobuf.Int64Value",f9="type.googleapis.com/google.protobuf.UInt64Value";function Z3(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Z0(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Z0(e));if(typeof t=="function"||typeof t=="object")return Z3(t,e=>Z0(e));throw new Error("Data cannot be encoded in JSON: "+t)}function eh(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case d9:case f9:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>eh(e)):typeof t=="function"||typeof t=="object"?Z3(t,e=>eh(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oo extends Br{constructor(e,n,r){super(`${Oy}/${e}`,n||""),this.details=r}}function h9(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function m9(t,e){let n=h9(t),r=n,s;try{const i=e&&e.error;if(i){const o=i.status;if(typeof o=="string"){if(!S2[o])return new Oo("internal","internal");n=S2[o],r=o}const l=i.message;typeof l=="string"&&(r=l),s=i.details,s!==void 0&&(s=eh(s))}}catch{}return n==="ok"?null:new Oo(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="us-central1";function g9(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Oo("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class x9{constructor(e,n,r,s,i=eg,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new p9(n,r,s),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(i);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=eg}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function y9(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function v9(t,e,n){return r=>w9(t,e,r,{})}async function b9(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function w9(t,e,n,r){const s=t._url(e);return _9(t,s,n,r)}async function _9(t,e,n,r){n=Z0(n);const s={data:n},i={},o=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(i.Authorization="Bearer "+o.authToken),o.messagingToken&&(i["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=o.appCheckToken);const l=r.timeout||7e4,c=g9(l),d=await Promise.race([b9(e,s,i,t.fetchImpl),c.promise,t.cancelAllRequests]);if(c.cancel(),!d)throw new Oo("cancelled","Firebase Functions instance was deleted.");const f=m9(d.status,d.json);if(f)throw f;if(!d.json)throw new Oo("internal","Response is not valid JSON object.");let h=d.json.data;if(typeof h>"u"&&(h=d.json.result),typeof h>"u")throw new Oo("internal","Response is missing data field.");return{data:eh(h)}}const I2="@firebase/functions",C2="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="auth-internal",E9="app-check-internal",j9="messaging-internal";function T9(t,e){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),o=r.getProvider(N9),l=r.getProvider(j9),c=r.getProvider(E9);return new x9(i,o,l,c,s,t)};ki(new Rs(Oy,n,"PUBLIC").setMultipleInstances(!0)),wr(I2,C2,e),wr(I2,C2,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t=Ah(),e=eg){const r=pu(rt(t),Oy).getImmediate({identifier:e}),s=Fx("functions");return s&&I9(r,...s),r}function I9(t,e,n){y9(rt(t),e,n)}function C9(t,e,n){return v9(rt(t),e)}T9(fetch.bind(self));const k9={apiKey:"AIzaSyB8oBjIiWxYmPQX1M6G3E3mk_y_jD7uXvU",authDomain:"saborhub-f9066.firebaseapp.com",projectId:"saborhub-f9066",storageBucket:"saborhub-f9066.firebasestorage.app",messagingSenderId:"1098222539305",appId:"1:1098222539305:web:0e804adf6305f0afa80238"},Xh=SE(k9),ji=YP(Xh),Ne=F7(Xh),ej=o9(Xh),A9=S9(Xh);function tj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=tj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ya(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=tj(t))&&(r&&(r+=" "),r+=e);return r}function P9(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}P9(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Au=t=>typeof t=="number"&&!isNaN(t),Pa=t=>typeof t=="string",Fs=t=>typeof t=="function",R9=t=>Pa(t)||Au(t),tg=t=>Pa(t)||Fs(t)?t:null,D9=(t,e)=>t===!1||Au(t)&&t>0?t:e,ng=t=>m.isValidElement(t)||Pa(t)||Fs(t)||Au(t);function L9(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function M9({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:l,done:c,nodeRef:d,isIn:f,playToast:h}){let p=n?`${t}--${o}`:t,x=n?`${e}--${o}`:e,_=m.useRef(0);return m.useLayoutEffect(()=>{let j=d.current,N=p.split(" "),w=y=>{y.target===d.current&&(h(),j.removeEventListener("animationend",w),j.removeEventListener("animationcancel",w),_.current===0&&y.type!=="animationcancel"&&j.classList.remove(...N))};j.classList.add(...N),j.addEventListener("animationend",w),j.addEventListener("animationcancel",w)},[]),m.useEffect(()=>{let j=d.current,N=()=>{j.removeEventListener("animationend",N),r?L9(j,c,s):c()};f||(l?N():(_.current=1,j.className+=` ${x}`,j.addEventListener("animationend",N)))},[f]),te.createElement(te.Fragment,null,i)}}function k2(t,e){return{content:nj(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function nj(t,e,n=!1){return m.isValidElement(t)&&!Pa(t.type)?m.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Fs(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function O9({closeToast:t,theme:e,ariaLabel:n="close"}){return te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function F9({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:i,controlledProgress:o,progress:l,rtl:c,isIn:d,theme:f}){let h=s||o&&l===0,p={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(p.transform=`scaleX(${l})`);let x=ya("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),_=Fs(i)?i({rtl:c,type:r,defaultClassName:x}):ya(x,i),j={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{d&&n()}};return te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),te.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:_,style:p,...j}))}var $9=1,rj=()=>`${$9++}`;function V9(t,e,n){let r=1,s=0,i=[],o=[],l=e,c=new Map,d=new Set,f=y=>(d.add(y),()=>d.delete(y)),h=()=>{o=Array.from(c.values()),d.forEach(y=>y())},p=({containerId:y,toastId:b,updateId:S})=>{let P=y?y!==t:t!==1,O=c.has(b)&&S==null;return P||O},x=(y,b)=>{c.forEach(S=>{var P;(b==null||b===S.props.toastId)&&((P=S.toggle)==null||P.call(S,y))})},_=y=>{var b,S;(S=(b=y.props)==null?void 0:b.onClose)==null||S.call(b,y.removalReason),y.isActive=!1},j=y=>{if(y==null)c.forEach(_);else{let b=c.get(y);b&&_(b)}h()},N=()=>{s-=i.length,i=[]},w=y=>{var b,S;let{toastId:P,updateId:O}=y.props,T=O==null;y.staleId&&c.delete(y.staleId),y.isActive=!0,c.set(P,y),h(),n(k2(y,T?"added":"updated")),T&&((S=(b=y.props).onOpen)==null||S.call(b))};return{id:t,props:l,observe:f,toggle:x,removeToast:j,toasts:c,clearQueue:N,buildToast:(y,b)=>{if(p(b))return;let{toastId:S,updateId:P,data:O,staleId:T,delay:E}=b,k=P==null;k&&s++;let I={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(b).filter(([L,A])=>A!=null)),toastId:S,updateId:P,data:O,isIn:!1,className:tg(b.className||l.toastClassName),progressClassName:tg(b.progressClassName||l.progressClassName),autoClose:b.isLoading?!1:D9(b.autoClose,l.autoClose),closeToast(L){c.get(S).removalReason=L,j(S)},deleteToast(){let L=c.get(S);if(L!=null){if(n(k2(L,"removed")),c.delete(S),s--,s<0&&(s=0),i.length>0){w(i.shift());return}h()}}};I.closeButton=l.closeButton,b.closeButton===!1||ng(b.closeButton)?I.closeButton=b.closeButton:b.closeButton===!0&&(I.closeButton=ng(l.closeButton)?l.closeButton:!0);let R={content:y,props:I,staleId:T};l.limit&&l.limit>0&&s>l.limit&&k?i.push(R):Au(E)?setTimeout(()=>{w(R)},E):w(R)},setProps(y){l=y},setToggle:(y,b)=>{let S=c.get(y);S&&(S.toggle=b)},isToastActive:y=>{var b;return(b=c.get(y))==null?void 0:b.isActive},getSnapshot:()=>o}}var Dn=new Map,tu=[],rg=new Set,U9=t=>rg.forEach(e=>e(t)),sj=()=>Dn.size>0;function z9(){tu.forEach(t=>aj(t.content,t.options)),tu=[]}var B9=(t,{containerId:e})=>{var n;return(n=Dn.get(e||1))==null?void 0:n.toasts.get(t)};function ij(t,e){var n;if(e)return!!((n=Dn.get(e))!=null&&n.isToastActive(t));let r=!1;return Dn.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function H9(t){if(!sj()){tu=tu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||R9(t))Dn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Dn.get(t.containerId);e?e.removeToast(t.id):Dn.forEach(n=>{n.removeToast(t.id)})}}var W9=(t={})=>{Dn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function aj(t,e){ng(t)&&(sj()||tu.push({content:t,options:e}),Dn.forEach(n=>{n.buildToast(t,e)}))}function q9(t){var e;(e=Dn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function oj(t,e){Dn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function G9(t){let e=t.containerId||1;return{subscribe(n){let r=V9(e,t,U9);Dn.set(e,r);let s=r.observe(n);return z9(),()=>{s(),Dn.delete(e)}},setProps(n){var r;(r=Dn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Dn.get(e))==null?void 0:n.getSnapshot()}}}function K9(t){return rg.add(t),()=>{rg.delete(t)}}function Q9(t){return t&&(Pa(t.toastId)||Au(t.toastId))?t.toastId:rj()}function Pu(t,e){return aj(t,e),e.toastId}function Jh(t,e){return{...e,type:e&&e.type||t,toastId:Q9(e)}}function Zh(t){return(e,n)=>Pu(e,Jh(t,n))}function be(t,e){return Pu(t,Jh("default",e))}be.loading=(t,e)=>Pu(t,Jh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Y9(t,{pending:e,error:n,success:r},s){let i;e&&(i=Pa(e)?be.loading(e,s):be.loading(e.render,{...s,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,f,h)=>{if(f==null){be.dismiss(i);return}let p={type:d,...o,...s,data:h},x=Pa(f)?{render:f}:f;return i?be.update(i,{...p,...x}):be(x.render,{...p,...x}),h},c=Fs(t)?t():t;return c.then(d=>l("success",r,d)).catch(d=>l("error",n,d)),c}be.promise=Y9;be.success=Zh("success");be.info=Zh("info");be.error=Zh("error");be.warning=Zh("warning");be.warn=be.warning;be.dark=(t,e)=>Pu(t,Jh("default",{theme:"dark",...e}));function X9(t){H9(t)}be.dismiss=X9;be.clearWaitingQueue=W9;be.isActive=ij;be.update=(t,e={})=>{let n=B9(t,e);if(n){let{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:rj()};i.toastId!==t&&(i.staleId=t);let o=i.render||s;delete i.render,Pu(o,i)}};be.done=t=>{be.update(t,{progress:1})};be.onChange=K9;be.play=t=>oj(!0,t);be.pause=t=>oj(!1,t);function J9(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=m.useRef(G9(t)).current;s(t);let i=(e=m.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(l){if(!i)return[];let c=new Map;return t.newestOnTop&&i.reverse(),i.forEach(d=>{let{position:f}=d.props;c.has(f)||c.set(f,[]),c.get(f).push(d)}),Array.from(c,d=>l(d[0],d[1]))}return{getToastToRender:o,isToastActive:ij,count:i==null?void 0:i.length}}function Z9(t){let[e,n]=m.useState(!1),[r,s]=m.useState(!1),i=m.useRef(null),o=m.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:f,closeOnClick:h}=t;q9({id:t.toastId,containerId:t.containerId,fn:n}),m.useEffect(()=>{if(t.pauseOnFocusLoss)return p(),()=>{x()}},[t.pauseOnFocusLoss]);function p(){document.hasFocus()||w(),window.addEventListener("focus",N),window.addEventListener("blur",w)}function x(){window.removeEventListener("focus",N),window.removeEventListener("blur",w)}function _(T){if(t.draggable===!0||t.draggable===T.pointerType){y();let E=i.current;o.canCloseOnClick=!0,o.canDrag=!0,E.style.transition="none",t.draggableDirection==="x"?(o.start=T.clientX,o.removalDistance=E.offsetWidth*(t.draggablePercent/100)):(o.start=T.clientY,o.removalDistance=E.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function j(T){let{top:E,bottom:k,left:I,right:R}=i.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&T.clientX>=I&&T.clientX<=R&&T.clientY>=E&&T.clientY<=k?w():N()}function N(){n(!0)}function w(){n(!1)}function y(){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",P)}function b(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",P)}function S(T){let E=i.current;if(o.canDrag&&E){o.didMove=!0,e&&w(),t.draggableDirection==="x"?o.delta=T.clientX-o.start:o.delta=T.clientY-o.start,o.start!==T.clientX&&(o.canCloseOnClick=!1);let k=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;E.style.transform=`translate3d(${k},0)`,E.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function P(){b();let T=i.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}let O={onPointerDown:_,onPointerUp:j};return l&&c&&(O.onMouseEnter=w,t.stacked||(O.onMouseLeave=N)),h&&(O.onClick=T=>{f&&f(T),o.canCloseOnClick&&d(!0)}),{playToast:N,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:O}}var eL=typeof window<"u"?m.useLayoutEffect:m.useEffect,em=({theme:t,type:e,isLoading:n,...r})=>te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function tL(t){return te.createElement(em,{...t},te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function nL(t){return te.createElement(em,{...t},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function rL(t){return te.createElement(em,{...t},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function sL(t){return te.createElement(em,{...t},te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function iL(){return te.createElement("div",{className:"Toastify__spinner"})}var sg={info:nL,warning:tL,success:rL,error:sL,spinner:iL},aL=t=>t in sg;function oL({theme:t,type:e,isLoading:n,icon:r}){let s=null,i={theme:t,type:e};return r===!1||(Fs(r)?s=r({...i,isLoading:n}):m.isValidElement(r)?s=m.cloneElement(r,i):n?s=sg.spinner():aL(e)&&(s=sg[e](i))),s}var lL=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=Z9(t),{closeButton:o,children:l,autoClose:c,onClick:d,type:f,hideProgressBar:h,closeToast:p,transition:x,position:_,className:j,style:N,progressClassName:w,updateId:y,role:b,progress:S,rtl:P,toastId:O,deleteToast:T,isIn:E,isLoading:k,closeOnClick:I,theme:R,ariaLabel:L}=t,A=ya("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":I}),me=Fs(j)?j({rtl:P,position:_,type:f,defaultClassName:A}):ya(A,j),pe=oL(t),ke=!!S||!c,ie={closeToast:p,type:f,theme:R},D=null;return o===!1||(Fs(o)?D=o(ie):m.isValidElement(o)?D=m.cloneElement(o,ie):D=O9(ie)),te.createElement(x,{isIn:E,done:T,position:_,preventExitTransition:n,nodeRef:r,playToast:i},te.createElement("div",{id:O,tabIndex:0,onClick:d,"data-in":E,className:me,...s,style:N,ref:r,...E&&{role:b,"aria-label":L}},pe!=null&&te.createElement("div",{className:ya("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},pe),nj(l,t,!e),D,!t.customProgressBar&&te.createElement(F9,{...y&&!ke?{key:`p-${y}`}:{},rtl:P,theme:R,delay:c,isRunning:e,isIn:E,closeToast:p,hide:h,type:f,className:w,controlledProgress:ke,progress:S||0})))},cL=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),uL=M9(cL("bounce",!0)),dL={position:"top-right",transition:uL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function fL(t){let e={...dL,...t},n=t.stacked,[r,s]=m.useState(!0),i=m.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=J9(e),{className:d,style:f,rtl:h,containerId:p,hotKeys:x}=e;function _(N){let w=ya("Toastify__toast-container",`Toastify__toast-container--${N}`,{"Toastify__toast-container--rtl":h});return Fs(d)?d({position:N,rtl:h,defaultClassName:w}):ya(w,tg(d))}function j(){n&&(s(!0),be.play())}return eL(()=>{var N;if(n){let w=i.current.querySelectorAll('[data-in="true"]'),y=12,b=(N=e.position)==null?void 0:N.includes("top"),S=0,P=0;Array.from(w).reverse().forEach((O,T)=>{let E=O;E.classList.add("Toastify__toast--stacked"),T>0&&(E.dataset.collapsed=`${r}`),E.dataset.pos||(E.dataset.pos=b?"top":"bot");let k=S*(r?.2:1)+(r?0:y*T);E.style.setProperty("--y",`${b?k:k*-1}px`),E.style.setProperty("--g",`${y}`),E.style.setProperty("--s",`${1-(r?P:0)}`),S+=E.offsetHeight,P+=.025})}},[r,c,n]),m.useEffect(()=>{function N(w){var y;let b=i.current;x(w)&&((y=b.querySelector('[tabIndex="0"]'))==null||y.focus(),s(!1),be.pause()),w.key==="Escape"&&(document.activeElement===b||b!=null&&b.contains(document.activeElement))&&(s(!0),be.play())}return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[x]),te.createElement("section",{ref:i,className:"Toastify",id:p,onMouseEnter:()=>{n&&(s(!1),be.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((N,w)=>{let y=w.length?{...f}:{...f,pointerEvents:"none"};return te.createElement("div",{tabIndex:-1,className:_(N),"data-stacked":n,style:y,key:`c-${N}`},w.map(({content:b,props:S})=>te.createElement(lL,{...S,stacked:n,collapseAll:j,isIn:l(S.toastId,S.containerId),key:`t-${S.key}`},b)))}))}const lj=m.createContext(null),qa=()=>m.useContext(lj),hL=({children:t})=>{const[e,n]=m.useState(null),[r,s]=m.useState(null),[i,o]=m.useState(!0),[l,c]=m.useState(0),d=3,f=async p=>{try{const x=await Cu(Qe(Ne,"usuarios",p.uid));x.exists()?s(x.data()):(console.log("No se encontró el documento del usuario"),s(null))}catch(x){console.error("Error al obtener roles del usuario:",x),(x.code==="failed-precondition"||x.message.includes("ERR_BLOCKED_BY_CLIENT"))&&(l<d?(console.log(`Reintentando conexión... Intento ${l+1} de ${d}`),setTimeout(()=>{c(_=>_+1),f(p)},2e3*(l+1))):be.error("Error de conexión. Por favor, desactiva el bloqueador de anuncios para esta página.")),s(null)}};m.useEffect(()=>{let p;try{p=FA(ji,async x=>{n(x),x?await f(x):s(null),o(!1)})}catch(x){console.error("Error en la autenticación:",x),o(!1),be.error("Error de conexión con el servicio de autenticación")}return()=>{p&&p()}},[l]);const h={currentUser:e,userRoles:r,loading:i,retryConnection:()=>c(0)};return a.jsx(lj.Provider,{value:h,children:i?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})}):t})},nu="/saborhub/assets/saborhub-horizontal-lJcqQa7c.webp",mL=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState(!1),f=async h=>{h.preventDefault(),l(!0);try{await Uf(ji,t,n)}catch{i("Credenciales incorrectas. Intente nuevamente.")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen bg-[url('https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-4.0.3&auto=format&fit=crop&q=80')] bg-cover bg-fixed bg-center bg-no-repeat",children:a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white via-gray-50 to-gray-100",children:[a.jsx("nav",{className:"bg-white/80 backdrop-blur-md shadow-lg sticky top-0 z-50 border-b border-emerald-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between h-20",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"flex items-center justify-center h-24 py-2",children:a.jsx("img",{src:nu,alt:"SaborHub Logo",className:"h-full w-auto object-contain scale-125"})})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.jsxs(_t,{to:"/features",className:"text-gray-600 hover:text-emerald-500 relative group font-medium",children:["Características",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]}),a.jsxs(_t,{to:"/pricing",className:"text-gray-600 hover:text-emerald-500 relative group font-medium",children:["Precios",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]}),a.jsxs(_t,{to:"/about",className:"text-gray-600 hover:text-emerald-500 relative group font-medium",children:["Acerca de",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]}),a.jsx(_t,{to:"/contact",className:"px-6 py-2.5 bg-gradient-to-r from-emerald-400 to-teal-500 text-white rounded-lg font-medium hover:shadow-lg hover:shadow-emerald-500/30 hover:scale-105 transition-all duration-300",children:"Contacto"})]}),a.jsx("div",{className:"flex md:hidden items-center",children:a.jsx("button",{onClick:()=>d(!c),className:"text-gray-600 hover:text-emerald-500 transition-colors duration-300",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),a.jsx("div",{className:`
                md:hidden 
                absolute 
                top-full 
                left-0 
                w-full 
                transform 
                transition-all 
                duration-300 
                ease-in-out 
                backdrop-blur-lg
                ${c?"opacity-100 translate-y-0":"opacity-0 -translate-y-4 pointer-events-none"}
              `,children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white/90 shadow-lg border-b border-emerald-100",children:[a.jsx(_t,{to:"/features",onClick:()=>d(!1),className:"block px-3 py-3 rounded-md text-base font-medium text-gray-600 hover:text-emerald-500 hover:bg-emerald-50 transition-all duration-300 transform hover:translate-x-2",children:"Características"}),a.jsx(_t,{to:"/pricing",onClick:()=>d(!1),className:"block px-3 py-3 rounded-md text-base font-medium text-gray-600 hover:text-emerald-500 hover:bg-emerald-50 transition-all duration-300 transform hover:translate-x-2",children:"Precios"}),a.jsx(_t,{to:"/about",onClick:()=>d(!1),className:"block px-3 py-3 rounded-md text-base font-medium text-gray-600 hover:text-emerald-500 hover:bg-emerald-50 transition-all duration-300 transform hover:translate-x-2",children:"Acerca de"}),a.jsx(_t,{to:"/contact",onClick:()=>d(!1),className:"block px-3 py-3 mt-4 rounded-md text-base font-medium bg-gradient-to-r from-emerald-400 to-teal-500 text-white hover:from-emerald-500 hover:to-teal-600 transition-all duration-300 transform hover:translate-x-2 hover:shadow-lg",children:"Contacto"})]})})]})}),a.jsxs("div",{className:"relative overflow-hidden py-12 lg:py-20",children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80",alt:"Restaurant Background",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white via-white/95 to-white/90"})]}),a.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:a.jsx("div",{className:"pb-16 sm:pb-24",children:a.jsx("div",{className:"mt-10 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-12",children:[a.jsxs("div",{className:"lg:w-1/2 sm:text-center lg:text-left",children:[a.jsx("div",{className:"inline-block mb-6 px-3 py-1 bg-emerald-50 rounded-full backdrop-blur-sm border border-emerald-200",children:a.jsx("p",{className:"text-xs font-medium text-emerald-600",children:"Sistema de gestión premium para restaurantes"})}),a.jsxs("h1",{className:"text-5xl tracking-tight font-extrabold text-gray-800 sm:text-6xl md:text-7xl",children:[a.jsx("span",{className:"block mb-2",children:"Eleva tu"}),a.jsx("span",{className:"block bg-gradient-to-r from-emerald-500 to-teal-600 bg-clip-text text-transparent",children:"experiencia culinaria"})]}),a.jsx("p",{className:"mt-6 text-lg text-gray-600 sm:text-xl max-w-3xl",children:"Optimiza tus operaciones, incrementa tus ventas y mejora la experiencia de tus clientes con nuestra plataforma integral diseñada para restaurantes."}),a.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row gap-4 sm:gap-6 sm:items-center lg:justify-start justify-center",children:[a.jsx("button",{className:"px-8 py-3.5 bg-gradient-to-r from-emerald-400 to-teal-500 text-white rounded-lg font-medium hover:shadow-lg hover:shadow-emerald-200 hover:scale-105 transition-all duration-300",children:"Solicitar Demo"}),a.jsxs("button",{className:"flex items-center justify-center px-8 py-3.5 rounded-lg border border-emerald-200 bg-white/80 backdrop-blur-sm text-gray-600 hover:bg-emerald-50 transition-all duration-300",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Ver video"]})]})]}),a.jsx("div",{className:"lg:w-1/2 w-full max-w-md mx-auto",children:a.jsxs("div",{className:"bg-white/90 backdrop-blur-xl p-8 rounded-2xl shadow-xl border border-emerald-100",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8 text-center",children:"Accede a tu panel"}),s&&a.jsx("div",{className:"bg-red-900/40 border-l-4 border-red-500 p-4 mb-6 rounded-r",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-400",children:s})})]})}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Correo electrónico"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsxs("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),a.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),a.jsx("input",{type:"email",className:"pl-10 block w-full px-3 py-3 border border-gray-200 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 bg-white text-gray-700",placeholder:"ejemplo@correo.com",value:t,onChange:h=>e(h.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Contraseña"}),a.jsx("a",{href:"#",className:"text-xs text-emerald-600 hover:text-emerald-500",children:"¿Olvidaste tu contraseña?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),a.jsx("input",{type:"password",className:"pl-10 block w-full px-3 py-3 border border-gray-200 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 bg-white text-gray-700",placeholder:"••••••••",value:n,onChange:h=>r(h.target.value),required:!0})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-emerald-500 focus:ring-emerald-500 border-gray-200 rounded bg-white"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-600",children:"Recordarme"})]}),a.jsxs("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center py-3 px-4 bg-gradient-to-r from-emerald-400 to-teal-500 text-white rounded-md font-medium hover:shadow-lg hover:shadow-emerald-200 hover:scale-[1.02] transition-all duration-300 disabled:opacity-70",children:[o?a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,o?"Accediendo...":"Iniciar Sesión"]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("p",{className:"text-sm text-gray-500",children:["¿Nuevo en SaborHub? ",a.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-500 font-medium",children:"Solicita acceso"})]})})]})})]})})})})]}),a.jsxs("div",{id:"features",className:"py-20 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-extrabold bg-gradient-to-r from-emerald-500 to-teal-600 bg-clip-text text-transparent sm:text-5xl mb-4",children:"Características Premium"}),a.jsx("p",{className:"mt-4 text-xl text-gray-600 max-w-3xl mx-auto",children:"Todo lo que necesitas para gestionar tu restaurante de manera eficiente y aumentar tus ingresos"})]}),a.jsxs("div",{className:"mt-16 grid gap-8 grid-cols-1 md:grid-cols-3",children:[a.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl overflow-hidden hover:shadow-emerald-200 transition-all duration-500 hover:scale-105 border border-emerald-100",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-400 to-teal-500"}),a.jsxs("div",{className:"p-8",children:[a.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:a.jsx("svg",{className:"w-7 h-7 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Gestión de Pedidos"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Control total de pedidos en tiempo real con interfaz intuitiva para mesa, delivery y para llevar."}),a.jsxs("a",{href:"#",className:"inline-flex items-center text-emerald-600 hover:text-emerald-500 text-sm font-medium",children:["Más información",a.jsx("svg",{className:"ml-1 w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]}),a.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl overflow-hidden hover:shadow-emerald-200 transition-all duration-500 hover:scale-105 border border-emerald-100",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-400 to-teal-500"}),a.jsxs("div",{className:"p-8",children:[a.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:a.jsx("svg",{className:"w-7 h-7 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Analítica Avanzada"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Reportes detallados sobre ventas, productos más populares y tendencias para tomar mejores decisiones."}),a.jsxs("a",{href:"#",className:"inline-flex items-center text-emerald-600 hover:text-emerald-500 text-sm font-medium",children:["Más información",a.jsx("svg",{className:"ml-1 w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]}),a.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl overflow-hidden hover:shadow-emerald-200 transition-all duration-500 hover:scale-105 border border-emerald-100",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-400 to-teal-500"}),a.jsxs("div",{className:"p-8",children:[a.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:a.jsx("svg",{className:"w-7 h-7 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Gestión de Inventario"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Control de stock y alertas automáticas para una gestión eficiente de tus insumos y productos."}),a.jsxs("a",{href:"#",className:"inline-flex items-center text-emerald-600 hover:text-emerald-500 text-sm font-medium",children:["Más información",a.jsx("svg",{className:"ml-1 w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})]}),a.jsx("div",{className:"mt-16 text-center",children:a.jsx("button",{className:"px-8 py-3 bg-white backdrop-blur-sm hover:bg-emerald-50 text-gray-700 rounded-lg font-medium border border-emerald-200 hover:border-emerald-300 transition-all duration-300",children:"Ver todas las características"})})]})]}),a.jsx("footer",{className:"bg-white border-t border-emerald-100 rounded-t-3xl mt-10",children:a.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("img",{src:nu,alt:"SaborHub Logo",className:"h-12 w-auto object-contain"})}),a.jsx("p",{className:"mt-4 text-gray-600 max-w-md",children:"La plataforma integral para restaurantes que optimiza operaciones, incrementa ventas y mejora la experiencia de los clientes."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-emerald-600 tracking-wider uppercase",children:"Plataforma"}),a.jsxs("ul",{className:"mt-4 space-y-2",children:[a.jsx("li",{children:a.jsxs(_t,{to:"/features",className:"text-gray-600 hover:text-emerald-500 relative group",children:["Características",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})}),a.jsx("li",{children:a.jsxs(_t,{to:"/pricing",className:"text-gray-600 hover:text-emerald-500 relative group",children:["Precios",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})}),a.jsx("li",{children:a.jsxs(_t,{to:"#",className:"text-gray-600 hover:text-emerald-500 relative group",children:["Integraciones",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})}),a.jsx("li",{children:a.jsxs(_t,{to:"#",className:"text-gray-600 hover:text-emerald-500 relative group",children:["Actualizaciones",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-emerald-600 tracking-wider uppercase",children:"Soporte"}),a.jsxs("ul",{className:"mt-4 space-y-2",children:[a.jsx("li",{children:a.jsxs(_t,{to:"#",className:"text-gray-600 hover:text-emerald-500 relative group",children:["Centro de ayuda",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})}),a.jsx("li",{children:a.jsxs(_t,{to:"/contact",className:"text-gray-600 hover:text-emerald-500 relative group",children:["Contacto",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})}),a.jsx("li",{children:a.jsxs(_t,{to:"#",className:"text-gray-600 hover:text-emerald-500 relative group",children:["Documentación",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})}),a.jsx("li",{children:a.jsxs(_t,{to:"/about",className:"text-gray-600 hover:text-emerald-500 relative group",children:["Acerca de nosotros",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})})]})]})]}),a.jsx("div",{className:"mt-12 pt-8 border-t border-emerald-100",children:a.jsxs("p",{className:"text-gray-500 text-sm text-center",children:["© ",new Date().getFullYear()," SaborHub. Todos los derechos reservados. Sistema desarrollado por"," ",a.jsxs("a",{href:"https://sebitservices.cl",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 hover:text-emerald-500 relative group",children:["sebitservices.cl",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})]})})]})})]})})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function pL(t,e,n){return(e=xL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){pL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xL(t){var e=gL(t,"string");return typeof e=="symbol"?e:e+""}const P2=()=>{};let Fy={},cj={},uj=null,dj={mark:P2,measure:P2};try{typeof window<"u"&&(Fy=window),typeof document<"u"&&(cj=document),typeof MutationObserver<"u"&&(uj=MutationObserver),typeof performance<"u"&&(dj=performance)}catch{}const{userAgent:R2=""}=Fy.navigator||{},Di=Fy,ht=cj,D2=uj,kd=dj;Di.document;const zs=!!ht.documentElement&&!!ht.head&&typeof ht.addEventListener=="function"&&typeof ht.createElement=="function",fj=~R2.indexOf("MSIE")||~R2.indexOf("Trident/");var yL=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,vL=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,hj={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},bL={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},mj=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Tn="classic",tm="duotone",wL="sharp",_L="sharp-duotone",pj=[Tn,tm,wL,_L],NL={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},EL={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},jL=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),TL={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},SL=["fak","fa-kit","fakd","fa-kit-duotone"],L2={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},IL=["kit"],CL={kit:{"fa-kit":"fak"}},kL=["fak","fakd"],AL={kit:{fak:"fa-kit"}},M2={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Ad={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},PL=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],RL=["fak","fa-kit","fakd","fa-kit-duotone"],DL={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},LL={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},ML={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},ig={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},OL=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],ag=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...PL,...OL],FL=["solid","regular","light","thin","duotone","brands"],gj=[1,2,3,4,5,6,7,8,9,10],$L=gj.concat([11,12,13,14,15,16,17,18,19,20]),VL=[...Object.keys(ML),...FL,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ad.GROUP,Ad.SWAP_OPACITY,Ad.PRIMARY,Ad.SECONDARY].concat(gj.map(t=>"".concat(t,"x"))).concat($L.map(t=>"w-".concat(t))),UL={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const $s="___FONT_AWESOME___",og=16,xj="fa",yj="svg-inline--fa",Ra="data-fa-i2svg",lg="data-fa-pseudo-element",zL="data-fa-pseudo-element-pending",$y="data-prefix",Vy="data-icon",O2="fontawesome-i2svg",BL="async",HL=["HTML","HEAD","STYLE","SCRIPT"],vj=(()=>{try{return!0}catch{return!1}})();function Ru(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Tn]}})}const bj=X({},hj);bj[Tn]=X(X(X(X({},{"fa-duotone":"duotone"}),hj[Tn]),L2.kit),L2["kit-duotone"]);const WL=Ru(bj),cg=X({},TL);cg[Tn]=X(X(X(X({},{duotone:"fad"}),cg[Tn]),M2.kit),M2["kit-duotone"]);const F2=Ru(cg),ug=X({},ig);ug[Tn]=X(X({},ug[Tn]),AL.kit);const Uy=Ru(ug),dg=X({},LL);dg[Tn]=X(X({},dg[Tn]),CL.kit);Ru(dg);const qL=yL,wj="fa-layers-text",GL=vL,KL=X({},NL);Ru(KL);const QL=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],pp=bL,YL=[...IL,...VL],wc=Di.FontAwesomeConfig||{};function XL(t){var e=ht.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function JL(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}ht&&typeof ht.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const s=JL(XL(n));s!=null&&(wc[r]=s)});const _j={styleDefault:"solid",familyDefault:Tn,cssPrefix:xj,replacementClass:yj,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};wc.familyPrefix&&(wc.cssPrefix=wc.familyPrefix);const rl=X(X({},_j),wc);rl.autoReplaceSvg||(rl.observeMutations=!1);const xe={};Object.keys(_j).forEach(t=>{Object.defineProperty(xe,t,{enumerable:!0,set:function(e){rl[t]=e,_c.forEach(n=>n(xe))},get:function(){return rl[t]}})});Object.defineProperty(xe,"familyPrefix",{enumerable:!0,set:function(t){rl.cssPrefix=t,_c.forEach(e=>e(xe))},get:function(){return rl.cssPrefix}});Di.FontAwesomeConfig=xe;const _c=[];function ZL(t){return _c.push(t),()=>{_c.splice(_c.indexOf(t),1)}}const Qs=og,es={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function eM(t){if(!t||!zs)return;const e=ht.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=ht.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const i=n[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return ht.head.insertBefore(e,r),t}const tM="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ru(){let t=12,e="";for(;t-- >0;)e+=tM[Math.random()*62|0];return e}function xl(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function zy(t){return t.classList?xl(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function Nj(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nM(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(Nj(t[n]),'" '),"").trim()}function nm(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function By(t){return t.size!==es.size||t.x!==es.x||t.y!==es.y||t.rotate!==es.rotate||t.flipX||t.flipY}function rM(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(i," ").concat(o," ").concat(l)},d={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:d}}function sM(t){let{transform:e,width:n=og,height:r=og,startCentered:s=!1}=t,i="";return s&&fj?i+="translate(".concat(e.x/Qs-n/2,"em, ").concat(e.y/Qs-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(e.x/Qs,"em), calc(-50% + ").concat(e.y/Qs,"em)) "):i+="translate(".concat(e.x/Qs,"em, ").concat(e.y/Qs,"em) "),i+="scale(".concat(e.size/Qs*(e.flipX?-1:1),", ").concat(e.size/Qs*(e.flipY?-1:1),") "),i+="rotate(".concat(e.rotate,"deg) "),i}var iM=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Ej(){const t=xj,e=yj,n=xe.cssPrefix,r=xe.replacementClass;let s=iM;if(n!==t||r!==e){const i=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(l,".".concat(r))}return s}let $2=!1;function gp(){xe.autoAddCss&&!$2&&(eM(Ej()),$2=!0)}var aM={mixout(){return{dom:{css:Ej,insertCss:gp}}},hooks(){return{beforeDOMElementCreation(){gp()},beforeI2svg(){gp()}}}};const Vs=Di||{};Vs[$s]||(Vs[$s]={});Vs[$s].styles||(Vs[$s].styles={});Vs[$s].hooks||(Vs[$s].hooks={});Vs[$s].shims||(Vs[$s].shims=[]);var ts=Vs[$s];const jj=[],Tj=function(){ht.removeEventListener("DOMContentLoaded",Tj),th=1,jj.map(t=>t())};let th=!1;zs&&(th=(ht.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ht.readyState),th||ht.addEventListener("DOMContentLoaded",Tj));function oM(t){zs&&(th?setTimeout(t,0):jj.push(t))}function Du(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?Nj(t):"<".concat(e," ").concat(nM(n),">").concat(r.map(Du).join(""),"</").concat(e,">")}function V2(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var xp=function(e,n,r,s){var i=Object.keys(e),o=i.length,l=n,c,d,f;for(r===void 0?(c=1,f=e[i[0]]):(c=0,f=r);c<o;c++)d=i[c],f=l(f,e[d],d,e);return f};function lM(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=t.charCodeAt(n++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}function fg(t){const e=lM(t);return e.length===1?e[0].toString(16):null}function cM(t,e){const n=t.length;let r=t.charCodeAt(e),s;return r>=55296&&r<=56319&&n>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function U2(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function hg(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=U2(e);typeof ts.hooks.addPack=="function"&&!r?ts.hooks.addPack(t,U2(e)):ts.styles[t]=X(X({},ts.styles[t]||{}),s),t==="fas"&&hg("fa",e)}const{styles:su,shims:uM}=ts,Sj=Object.keys(Uy),dM=Sj.reduce((t,e)=>(t[e]=Object.keys(Uy[e]),t),{});let Hy=null,Ij={},Cj={},kj={},Aj={},Pj={};function fM(t){return~YL.indexOf(t)}function hM(t,e){const n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!fM(s)?s:null}const Rj=()=>{const t=r=>xp(su,(s,i,o)=>(s[o]=xp(i,r,{}),s),{});Ij=t((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(l=>typeof l=="number").forEach(l=>{r[l.toString(16)]=i}),r)),Cj=t((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(l=>typeof l=="string").forEach(l=>{r[l]=i}),r)),Pj=t((r,s,i)=>{const o=s[2];return r[i]=i,o.forEach(l=>{r[l]=i}),r});const e="far"in su||xe.autoFetchSvg,n=xp(uM,(r,s)=>{const i=s[0];let o=s[1];const l=s[2];return o==="far"&&!e&&(o="fas"),typeof i=="string"&&(r.names[i]={prefix:o,iconName:l}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:o,iconName:l}),r},{names:{},unicodes:{}});kj=n.names,Aj=n.unicodes,Hy=rm(xe.styleDefault,{family:xe.familyDefault})};ZL(t=>{Hy=rm(t.styleDefault,{family:xe.familyDefault})});Rj();function Wy(t,e){return(Ij[t]||{})[e]}function mM(t,e){return(Cj[t]||{})[e]}function da(t,e){return(Pj[t]||{})[e]}function Dj(t){return kj[t]||{prefix:null,iconName:null}}function pM(t){const e=Aj[t],n=Wy("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Li(){return Hy}const Lj=()=>({prefix:null,iconName:null,rest:[]});function gM(t){let e=Tn;const n=Sj.reduce((r,s)=>(r[s]="".concat(xe.cssPrefix,"-").concat(s),r),{});return pj.forEach(r=>{(t.includes(n[r])||t.some(s=>dM[r].includes(s)))&&(e=r)}),e}function rm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Tn}=e,r=WL[n][t];if(n===tm&&!t)return"fad";const s=F2[n][t]||F2[n][r],i=t in ts.styles?t:null;return s||i||null}function xM(t){let e=[],n=null;return t.forEach(r=>{const s=hM(xe.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function z2(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function sm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const s=ag.concat(RL),i=z2(t.filter(h=>s.includes(h))),o=z2(t.filter(h=>!ag.includes(h))),l=i.filter(h=>(r=h,!mj.includes(h))),[c=null]=l,d=gM(i),f=X(X({},xM(o)),{},{prefix:rm(c,{family:d})});return X(X(X({},f),wM({values:t,family:d,styles:su,config:xe,canonical:f,givenPrefix:r})),yM(n,r,f))}function yM(t,e,n){let{prefix:r,iconName:s}=n;if(t||!r||!s)return{prefix:r,iconName:s};const i=e==="fa"?Dj(s):{},o=da(r,s);return s=i.iconName||o||s,r=i.prefix||r,r==="far"&&!su.far&&su.fas&&!xe.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const vM=pj.filter(t=>t!==Tn||t!==tm),bM=Object.keys(ig).filter(t=>t!==Tn).map(t=>Object.keys(ig[t])).flat();function wM(t){const{values:e,family:n,canonical:r,givenPrefix:s="",styles:i={},config:o={}}=t,l=n===tm,c=e.includes("fa-duotone")||e.includes("fad"),d=o.familyDefault==="duotone",f=r.prefix==="fad"||r.prefix==="fa-duotone";if(!l&&(c||d||f)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&vM.includes(n)&&(Object.keys(i).find(p=>bM.includes(p))||o.autoFetchSvg)){const p=jL.get(n).defaultShortPrefixId;r.prefix=p,r.iconName=da(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=Li()||"fas"),r}class _M{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=X(X({},this.definitions[i]||{}),s[i]),hg(i,s[i]);const o=Uy[Tn][i];o&&hg(o,s[i]),Rj()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:i,iconName:o,icon:l}=r[s],c=l[2];e[i]||(e[i]={}),c.length>0&&c.forEach(d=>{typeof d=="string"&&(e[i][d]=l)}),e[i][o]=l}),e}}let B2=[],Eo={};const Fo={},NM=Object.keys(Fo);function EM(t,e){let{mixoutsTo:n}=e;return B2=t,Eo={},Object.keys(Fo).forEach(r=>{NM.indexOf(r)===-1&&delete Fo[r]}),B2.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(n[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(o=>{n[i]||(n[i]={}),n[i][o]=s[i][o]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(o=>{Eo[o]||(Eo[o]=[]),Eo[o].push(i[o])})}r.provides&&r.provides(Fo)}),n}function mg(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(Eo[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function Da(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Eo[t]||[]).forEach(i=>{i.apply(null,n)})}function Mi(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Fo[t]?Fo[t].apply(null,e):void 0}function pg(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||Li();if(e)return e=da(n,e)||e,V2(Mj.definitions,n,e)||V2(ts.styles,n,e)}const Mj=new _M,jM=()=>{xe.autoReplaceSvg=!1,xe.observeMutations=!1,Da("noAuto")},TM={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return zs?(Da("beforeI2svg",t),Mi("pseudoElements2svg",t),Mi("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;xe.autoReplaceSvg===!1&&(xe.autoReplaceSvg=!0),xe.observeMutations=!0,oM(()=>{IM({autoReplaceSvgRoot:e}),Da("watch",t)})}},SM={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:da(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=rm(t[0]);return{prefix:n,iconName:da(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(xe.cssPrefix,"-"))>-1||t.match(qL))){const e=sm(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Li(),iconName:da(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Li();return{prefix:e,iconName:da(e,t)||t}}}},hr={noAuto:jM,config:xe,dom:TM,parse:SM,library:Mj,findIconDefinition:pg,toHtml:Du},IM=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=ht}=t;(Object.keys(ts.styles).length>0||xe.autoFetchSvg)&&zs&&xe.autoReplaceSvg&&hr.dom.i2svg({node:e})};function im(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Du(n))}}),Object.defineProperty(t,"node",{get:function(){if(!zs)return;const n=ht.createElement("div");return n.innerHTML=t.html,n.children}}),t}function CM(t){let{children:e,main:n,mask:r,attributes:s,styles:i,transform:o}=t;if(By(o)&&n.found&&!r.found){const{width:l,height:c}=n,d={x:l/c/2,y:.5};s.style=nm(X(X({},i),{},{"transform-origin":"".concat(d.x+o.x/16,"em ").concat(d.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function kM(t){let{prefix:e,iconName:n,children:r,attributes:s,symbol:i}=t;const o=i===!0?"".concat(e,"-").concat(xe.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:X(X({},s),{},{id:o}),children:r}]}]}function qy(t){const{icons:{main:e,mask:n},prefix:r,iconName:s,transform:i,symbol:o,title:l,maskId:c,titleId:d,extra:f,watchable:h=!1}=t,{width:p,height:x}=n.found?n:e,_=kL.includes(r),j=[xe.replacementClass,s?"".concat(xe.cssPrefix,"-").concat(s):""].filter(P=>f.classes.indexOf(P)===-1).filter(P=>P!==""||!!P).concat(f.classes).join(" ");let N={children:[],attributes:X(X({},f.attributes),{},{"data-prefix":r,"data-icon":s,class:j,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(x)})};const w=_&&!~f.classes.indexOf("fa-fw")?{width:"".concat(p/x*16*.0625,"em")}:{};h&&(N.attributes[Ra]=""),l&&(N.children.push({tag:"title",attributes:{id:N.attributes["aria-labelledby"]||"title-".concat(d||ru())},children:[l]}),delete N.attributes.title);const y=X(X({},N),{},{prefix:r,iconName:s,main:e,mask:n,maskId:c,transform:i,symbol:o,styles:X(X({},w),f.styles)}),{children:b,attributes:S}=n.found&&e.found?Mi("generateAbstractMask",y)||{children:[],attributes:{}}:Mi("generateAbstractIcon",y)||{children:[],attributes:{}};return y.children=b,y.attributes=S,o?kM(y):CM(y)}function H2(t){const{content:e,width:n,height:r,transform:s,title:i,extra:o,watchable:l=!1}=t,c=X(X(X({},o.attributes),i?{title:i}:{}),{},{class:o.classes.join(" ")});l&&(c[Ra]="");const d=X({},o.styles);By(s)&&(d.transform=sM({transform:s,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);const f=nm(d);f.length>0&&(c.style=f);const h=[];return h.push({tag:"span",attributes:c,children:[e]}),i&&h.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),h}function AM(t){const{content:e,title:n,extra:r}=t,s=X(X(X({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=nm(r.styles);i.length>0&&(s.style=i);const o=[];return o.push({tag:"span",attributes:s,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:yp}=ts;function gg(t){const e=t[0],n=t[1],[r]=t.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(xe.cssPrefix,"-").concat(pp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(xe.cssPrefix,"-").concat(pp.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(xe.cssPrefix,"-").concat(pp.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:s}}const PM={found:!1,width:512,height:512};function RM(t,e){!vj&&!xe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function xg(t,e){let n=e;return e==="fa"&&xe.styleDefault!==null&&(e=Li()),new Promise((r,s)=>{if(n==="fa"){const i=Dj(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&yp[e]&&yp[e][t]){const i=yp[e][t];return r(gg(i))}RM(t,e),r(X(X({},PM),{},{icon:xe.showMissingIcons&&t?Mi("missingIconAbstract")||{}:{}}))})}const W2=()=>{},yg=xe.measurePerformance&&kd&&kd.mark&&kd.measure?kd:{mark:W2,measure:W2},nc='FA "6.7.2"',DM=t=>(yg.mark("".concat(nc," ").concat(t," begins")),()=>Oj(t)),Oj=t=>{yg.mark("".concat(nc," ").concat(t," ends")),yg.measure("".concat(nc," ").concat(t),"".concat(nc," ").concat(t," begins"),"".concat(nc," ").concat(t," ends"))};var Gy={begin:DM,end:Oj};const af=()=>{};function q2(t){return typeof(t.getAttribute?t.getAttribute(Ra):null)=="string"}function LM(t){const e=t.getAttribute?t.getAttribute($y):null,n=t.getAttribute?t.getAttribute(Vy):null;return e&&n}function MM(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(xe.replacementClass)}function OM(){return xe.autoReplaceSvg===!0?of.replace:of[xe.autoReplaceSvg]||of.replace}function FM(t){return ht.createElementNS("http://www.w3.org/2000/svg",t)}function $M(t){return ht.createElement(t)}function Fj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?FM:$M}=e;if(typeof t=="string")return ht.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(i){r.setAttribute(i,t.attributes[i])}),(t.children||[]).forEach(function(i){r.appendChild(Fj(i,{ceFn:n}))}),r}function VM(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const of={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(Fj(n),e)}),e.getAttribute(Ra)===null&&xe.keepOriginalSource){let n=ht.createComment(VM(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~zy(e).indexOf(xe.replacementClass))return of.replace(t);const r=new RegExp("".concat(xe.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const i=n[0].attributes.class.split(" ").reduce((o,l)=>(l===xe.replacementClass||l.match(r)?o.toSvg.push(l):o.toNode.push(l),o),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}const s=n.map(i=>Du(i)).join(`
`);e.setAttribute(Ra,""),e.innerHTML=s}};function G2(t){t()}function $j(t,e){const n=typeof e=="function"?e:af;if(t.length===0)n();else{let r=G2;xe.mutateApproach===BL&&(r=Di.requestAnimationFrame||G2),r(()=>{const s=OM(),i=Gy.begin("mutate");t.map(s),i(),n()})}}let Ky=!1;function Vj(){Ky=!0}function vg(){Ky=!1}let nh=null;function K2(t){if(!D2||!xe.observeMutations)return;const{treeCallback:e=af,nodeCallback:n=af,pseudoElementsCallback:r=af,observeMutationsRoot:s=ht}=t;nh=new D2(i=>{if(Ky)return;const o=Li();xl(i).forEach(l=>{if(l.type==="childList"&&l.addedNodes.length>0&&!q2(l.addedNodes[0])&&(xe.searchPseudoElements&&r(l.target),e(l.target)),l.type==="attributes"&&l.target.parentNode&&xe.searchPseudoElements&&r(l.target.parentNode),l.type==="attributes"&&q2(l.target)&&~QL.indexOf(l.attributeName))if(l.attributeName==="class"&&LM(l.target)){const{prefix:c,iconName:d}=sm(zy(l.target));l.target.setAttribute($y,c||o),d&&l.target.setAttribute(Vy,d)}else MM(l.target)&&n(l.target)})}),zs&&nh.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function UM(){nh&&nh.disconnect()}function zM(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,s)=>{const i=s.split(":"),o=i[0],l=i.slice(1);return o&&l.length>0&&(r[o]=l.join(":").trim()),r},{})),n}function BM(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let s=sm(zy(t));return s.prefix||(s.prefix=Li()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=mM(s.prefix,t.innerText)||Wy(s.prefix,fg(t.innerText))),!s.iconName&&xe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function HM(t){const e=xl(t.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return xe.autoA11y&&(n?e["aria-labelledby"]="".concat(xe.replacementClass,"-title-").concat(r||ru()):(e["aria-hidden"]="true",e.focusable="false")),e}function WM(){return{iconName:null,title:null,titleId:null,prefix:null,transform:es,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Q2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=BM(t),i=HM(t),o=mg("parseNodeAttributes",{},t);let l=e.styleParser?zM(t):[];return X({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:es,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:i}},o)}const{styles:qM}=ts;function Uj(t){const e=xe.autoReplaceSvg==="nest"?Q2(t,{styleParser:!1}):Q2(t);return~e.extra.classes.indexOf(wj)?Mi("generateLayersText",t,e):Mi("generateSvgReplacementMutation",t,e)}function GM(){return[...SL,...ag]}function Y2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!zs)return Promise.resolve();const n=ht.documentElement.classList,r=f=>n.add("".concat(O2,"-").concat(f)),s=f=>n.remove("".concat(O2,"-").concat(f)),i=xe.autoFetchSvg?GM():mj.concat(Object.keys(qM));i.includes("fa")||i.push("fa");const o=[".".concat(wj,":not([").concat(Ra,"])")].concat(i.map(f=>".".concat(f,":not([").concat(Ra,"])"))).join(", ");if(o.length===0)return Promise.resolve();let l=[];try{l=xl(t.querySelectorAll(o))}catch{}if(l.length>0)r("pending"),s("complete");else return Promise.resolve();const c=Gy.begin("onTree"),d=l.reduce((f,h)=>{try{const p=Uj(h);p&&f.push(p)}catch(p){vj||p.name==="MissingIcon"&&console.error(p)}return f},[]);return new Promise((f,h)=>{Promise.all(d).then(p=>{$j(p,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),c(),f()})}).catch(p=>{c(),h(p)})})}function KM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Uj(t).then(n=>{n&&$j([n],e)})}function QM(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:pg(e||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:pg(s||{})),t(r,X(X({},n),{},{mask:s}))}}const YM=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=es,symbol:r=!1,mask:s=null,maskId:i=null,title:o=null,titleId:l=null,classes:c=[],attributes:d={},styles:f={}}=e;if(!t)return;const{prefix:h,iconName:p,icon:x}=t;return im(X({type:"icon"},t),()=>(Da("beforeDOMElementCreation",{iconDefinition:t,params:e}),xe.autoA11y&&(o?d["aria-labelledby"]="".concat(xe.replacementClass,"-title-").concat(l||ru()):(d["aria-hidden"]="true",d.focusable="false")),qy({icons:{main:gg(x),mask:s?gg(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:p,transform:X(X({},es),n),symbol:r,title:o,maskId:i,titleId:l,extra:{attributes:d,styles:f,classes:c}})))};var XM={mixout(){return{icon:QM(YM)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=Y2,t.nodeCallback=KM,t}}},provides(t){t.i2svg=function(e){const{node:n=ht,callback:r=()=>{}}=e;return Y2(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:s,titleId:i,prefix:o,transform:l,symbol:c,mask:d,maskId:f,extra:h}=n;return new Promise((p,x)=>{Promise.all([xg(r,o),d.iconName?xg(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(_=>{let[j,N]=_;p([e,qy({icons:{main:j,mask:N},prefix:o,iconName:r,transform:l,symbol:c,maskId:f,title:s,titleId:i,extra:h,watchable:!0})])}).catch(x)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:s,transform:i,styles:o}=e;const l=nm(o);l.length>0&&(r.style=l);let c;return By(i)&&(c=Mi("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),n.push(c||s.icon),{children:n,attributes:r}}}},JM={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return im({type:"layer"},()=>{Da("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(xe.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},ZM={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:i={}}=e;return im({type:"counter",content:t},()=>(Da("beforeDOMElementCreation",{content:t,params:e}),AM({content:t.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(xe.cssPrefix,"-layers-counter"),...r]}})))}}}},eO={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=es,title:r=null,classes:s=[],attributes:i={},styles:o={}}=e;return im({type:"text",content:t},()=>(Da("beforeDOMElementCreation",{content:t,params:e}),H2({content:t,transform:X(X({},es),n),title:r,extra:{attributes:i,styles:o,classes:["".concat(xe.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:s,extra:i}=n;let o=null,l=null;if(fj){const c=parseInt(getComputedStyle(e).fontSize,10),d=e.getBoundingClientRect();o=d.width/c,l=d.height/c}return xe.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,H2({content:e.innerHTML,width:o,height:l,transform:s,title:r,extra:i,watchable:!0})])}}};const tO=new RegExp('"',"ug"),X2=[1105920,1112319],J2=X(X(X(X({},{FontAwesome:{normal:"fas",400:"fas"}}),EL),UL),DL),bg=Object.keys(J2).reduce((t,e)=>(t[e.toLowerCase()]=J2[e],t),{}),nO=Object.keys(bg).reduce((t,e)=>{const n=bg[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function rO(t){const e=t.replace(tO,""),n=cM(e,0),r=n>=X2[0]&&n<=X2[1],s=e.length===2?e[0]===e[1]:!1;return{value:fg(s?e[0]:e),isSecondary:r||s}}function sO(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(bg[n]||{})[s]||nO[n]}function Z2(t,e){const n="".concat(zL).concat(e.replace(":","-"));return new Promise((r,s)=>{if(t.getAttribute(n)!==null)return r();const o=xl(t.children).filter(p=>p.getAttribute(lg)===e)[0],l=Di.getComputedStyle(t,e),c=l.getPropertyValue("font-family"),d=c.match(GL),f=l.getPropertyValue("font-weight"),h=l.getPropertyValue("content");if(o&&!d)return t.removeChild(o),r();if(d&&h!=="none"&&h!==""){const p=l.getPropertyValue("content");let x=sO(c,f);const{value:_,isSecondary:j}=rO(p),N=d[0].startsWith("FontAwesome");let w=Wy(x,_),y=w;if(N){const b=pM(_);b.iconName&&b.prefix&&(w=b.iconName,x=b.prefix)}if(w&&!j&&(!o||o.getAttribute($y)!==x||o.getAttribute(Vy)!==y)){t.setAttribute(n,y),o&&t.removeChild(o);const b=WM(),{extra:S}=b;S.attributes[lg]=e,xg(w,x).then(P=>{const O=qy(X(X({},b),{},{icons:{main:P,mask:Lj()},prefix:x,iconName:y,extra:S,watchable:!0})),T=ht.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(T,t.firstChild):t.appendChild(T),T.outerHTML=O.map(E=>Du(E)).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function iO(t){return Promise.all([Z2(t,"::before"),Z2(t,"::after")])}function aO(t){return t.parentNode!==document.head&&!~HL.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(lg)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function ew(t){if(zs)return new Promise((e,n)=>{const r=xl(t.querySelectorAll("*")).filter(aO).map(iO),s=Gy.begin("searchPseudoElements");Vj(),Promise.all(r).then(()=>{s(),vg(),e()}).catch(()=>{s(),vg(),n()})})}var oO={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=ew,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=ht}=e;xe.searchPseudoElements&&ew(n)}}};let tw=!1;var lO={mixout(){return{dom:{unwatch(){Vj(),tw=!0}}}},hooks(){return{bootstrap(){K2(mg("mutationObserverCallbacks",{}))},noAuto(){UM()},watch(t){const{observeMutationsRoot:e}=t;tw?vg():K2(mg("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const nw=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),i=s[0];let o=s.slice(1).join("-");if(i&&o==="h")return n.flipX=!0,n;if(i&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(i){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var cO={mixout(){return{parse:{transform:t=>nw(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=nw(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:s,iconWidth:i}=e;const o={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),d="rotate(".concat(r.rotate," 0 0)"),f={transform:"".concat(l," ").concat(c," ").concat(d)},h={transform:"translate(".concat(i/2*-1," -256)")},p={outer:o,inner:f,path:h};return{tag:"g",attributes:X({},p.outer),children:[{tag:"g",attributes:X({},p.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:X(X({},n.icon.attributes),p.path)}]}]}}}};const vp={x:0,y:0,width:"100%",height:"100%"};function rw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function uO(t){return t.tag==="g"?t.children:[t]}var dO={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?sm(n.split(" ").map(s=>s.trim())):Lj();return r.prefix||(r.prefix=Li()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:s,mask:i,maskId:o,transform:l}=e;const{width:c,icon:d}=s,{width:f,icon:h}=i,p=rM({transform:l,containerWidth:f,iconWidth:c}),x={tag:"rect",attributes:X(X({},vp),{},{fill:"white"})},_=d.children?{children:d.children.map(rw)}:{},j={tag:"g",attributes:X({},p.inner),children:[rw(X({tag:d.tag,attributes:X(X({},d.attributes),p.path)},_))]},N={tag:"g",attributes:X({},p.outer),children:[j]},w="mask-".concat(o||ru()),y="clip-".concat(o||ru()),b={tag:"mask",attributes:X(X({},vp),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[x,N]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:uO(h)},b]};return n.push(S,{tag:"rect",attributes:X({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(w,")")},vp)}),{children:n,attributes:r}}}},fO={provides(t){let e=!1;Di.matchMedia&&(e=Di.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:X(X({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=X(X({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:X(X({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:X(X({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:X(X({},i),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:X(X({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:X(X({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:X(X({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:X(X({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},hO={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},mO=[aM,XM,JM,ZM,eO,oO,lO,cO,dO,fO,hO];EM(mO,{mixoutsTo:hr});hr.noAuto;hr.config;hr.library;hr.dom;const wg=hr.parse;hr.findIconDefinition;hr.toHtml;const pO=hr.icon;hr.layer;hr.text;hr.counter;var zj={exports:{}},gO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xO=gO,yO=xO;function Bj(){}function Hj(){}Hj.resetWarningCache=Bj;var vO=function(){function t(r,s,i,o,l,c){if(c!==yO){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Hj,resetWarningCache:Bj};return n.PropTypes=n,n};zj.exports=vO();var bO=zj.exports;const Me=Qw(bO);function sw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sw(Object(n),!0).forEach(function(r){jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function jo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function _O(t,e){if(t==null)return{};var n=wO(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _g(t){return NO(t)||EO(t)||jO(t)||TO()}function NO(t){if(Array.isArray(t))return Ng(t)}function EO(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jO(t,e){if(t){if(typeof t=="string")return Ng(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ng(t,e)}}function Ng(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SO(t){var e,n=t.beat,r=t.fade,s=t.beatFade,i=t.bounce,o=t.shake,l=t.flash,c=t.spin,d=t.spinPulse,f=t.spinReverse,h=t.pulse,p=t.fixedWidth,x=t.inverse,_=t.border,j=t.listItem,N=t.flip,w=t.size,y=t.rotation,b=t.pull,S=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":o,"fa-flash":l,"fa-spin":c,"fa-spin-reverse":f,"fa-spin-pulse":d,"fa-pulse":h,"fa-fw":p,"fa-inverse":x,"fa-border":_,"fa-li":j,"fa-flip":N===!0,"fa-flip-horizontal":N==="horizontal"||N==="both","fa-flip-vertical":N==="vertical"||N==="both"},jo(e,"fa-".concat(w),typeof w<"u"&&w!==null),jo(e,"fa-rotate-".concat(y),typeof y<"u"&&y!==null&&y!==0),jo(e,"fa-pull-".concat(b),typeof b<"u"&&b!==null),jo(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(S).map(function(P){return S[P]?P:null}).filter(function(P){return P})}function IO(t){return t=t-0,t===t}function Wj(t){return IO(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var CO=["style"];function kO(t){return t.charAt(0).toUpperCase()+t.slice(1)}function AO(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),s=Wj(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?e[kO(s)]=i:e[s]=i,e},{})}function qj(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(c){return qj(t,c)}),s=Object.keys(e.attributes||{}).reduce(function(c,d){var f=e.attributes[d];switch(d){case"class":c.attrs.className=f,delete e.attributes.class;break;case"style":c.attrs.style=AO(f);break;default:d.indexOf("aria-")===0||d.indexOf("data-")===0?c.attrs[d.toLowerCase()]=f:c.attrs[Wj(d)]=f}return c},{attrs:{}}),i=n.style,o=i===void 0?{}:i,l=_O(n,CO);return s.attrs.style=Qr(Qr({},s.attrs.style),o),t.apply(void 0,[e.tag,Qr(Qr({},s.attrs),l)].concat(_g(r)))}var Gj=!1;try{Gj=!0}catch{}function PO(){if(!Gj&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function iw(t){if(t&&rh(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(wg.icon)return wg.icon(t);if(t===null)return null;if(t&&rh(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function bp(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?jo({},t,e):{}}var aw={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},M=te.forwardRef(function(t,e){var n=Qr(Qr({},aw),t),r=n.icon,s=n.mask,i=n.symbol,o=n.className,l=n.title,c=n.titleId,d=n.maskId,f=iw(r),h=bp("classes",[].concat(_g(SO(n)),_g((o||"").split(" ")))),p=bp("transform",typeof n.transform=="string"?wg.transform(n.transform):n.transform),x=bp("mask",iw(s)),_=pO(f,Qr(Qr(Qr(Qr({},h),p),x),{},{symbol:i,title:l,titleId:c,maskId:d}));if(!_)return PO("Could not find icon",f),null;var j=_.abstract,N={ref:e};return Object.keys(n).forEach(function(w){aw.hasOwnProperty(w)||(N[w]=n[w])}),RO(j[0],N)});M.displayName="FontAwesomeIcon";M.propTypes={beat:Me.bool,border:Me.bool,beatFade:Me.bool,bounce:Me.bool,className:Me.string,fade:Me.bool,flash:Me.bool,mask:Me.oneOfType([Me.object,Me.array,Me.string]),maskId:Me.string,fixedWidth:Me.bool,inverse:Me.bool,flip:Me.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Me.oneOfType([Me.object,Me.array,Me.string]),listItem:Me.bool,pull:Me.oneOf(["right","left"]),pulse:Me.bool,rotation:Me.oneOf([0,90,180,270]),shake:Me.bool,size:Me.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Me.bool,spinPulse:Me.bool,spinReverse:Me.bool,symbol:Me.oneOfType([Me.bool,Me.string]),title:Me.string,titleId:Me.string,transform:Me.oneOfType([Me.string,Me.object]),swapOpacity:Me.bool};var RO=qj.bind(null,te.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const DO={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},Kj=DO,LO={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"]},Qj={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM72 272a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zM72 368a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm88 0c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z"]},ow={prefix:"fas",iconName:"toggle-off",icon:[576,512,[],"f204","M384 128c70.7 0 128 57.3 128 128s-57.3 128-128 128l-192 0c-70.7 0-128-57.3-128-128s57.3-128 128-128l192 0zM576 256c0-106-86-192-192-192L192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192zM192 352a96 96 0 1 0 0-192 96 96 0 1 0 0 192z"]},Yj={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},Pd={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},lw={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"]},sh={prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"]},MO={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},va=MO,Nc={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192l42.7 0c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0L21.3 320C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7l42.7 0C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3l-213.3 0zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352l117.3 0C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7l-330.7 0c-14.7 0-26.7-11.9-26.7-26.7z"]},cw={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},OO={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},FO={prefix:"fas",iconName:"crown",icon:[576,512,[128081],"f521","M309 106c11.4-7 19-19.7 19-34c0-22.1-17.9-40-40-40s-40 17.9-40 40c0 14.4 7.6 27 19 34L209.7 220.6c-9.1 18.2-32.7 23.4-48.6 10.7L72 160c5-6.7 8-15 8-24c0-22.1-17.9-40-40-40S0 113.9 0 136s17.9 40 40 40c.2 0 .5 0 .7 0L86.4 427.4c5.5 30.4 32 52.6 63 52.6l277.2 0c30.9 0 57.4-22.1 63-52.6L535.3 176c.2 0 .5 0 .7 0c22.1 0 40-17.9 40-40s-17.9-40-40-40s-40 17.9-40 40c0 9 3 17.3 8 24l-89.1 71.3c-15.9 12.7-39.5 7.5-48.6-10.7L309 106z"]},uw={prefix:"fas",iconName:"toggle-on",icon:[576,512,[],"f205","M192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192s-86-192-192-192L192 64zm192 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},$O={prefix:"fas",iconName:"unlock",icon:[448,512,[128275],"f09c","M144 144c0-44.2 35.8-80 80-80c31.9 0 59.4 18.6 72.3 45.7c7.6 16 26.7 22.8 42.6 15.2s22.8-26.7 15.2-42.6C331 33.7 281.5 0 224 0C144.5 0 80 64.5 80 144l0 48-16 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64l-240 0 0-48z"]},Xj={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 64l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 96l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},VO={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6l96 0 32 0 208 0c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},Qy={prefix:"fas",iconName:"chair",icon:[448,512,[129681],"f6c0","M248 48l0 208 48 0 0-197.3c23.9 13.8 40 39.7 40 69.3l0 128 48 0 0-128C384 57.3 326.7 0 256 0L192 0C121.3 0 64 57.3 64 128l0 128 48 0 0-128c0-29.6 16.1-55.5 40-69.3L152 256l48 0 0-208 48 0zM48 288c-12.1 0-23.2 6.8-28.6 17.7l-16 32c-5 9.9-4.4 21.7 1.4 31.1S20.9 384 32 384l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96 256 0 0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96c11.1 0 21.4-5.7 27.2-15.2s6.4-21.2 1.4-31.1l-16-32C423.2 294.8 412.1 288 400 288L48 288z"]},ih={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6l0 167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5l0-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128l2.2 0z"]},UO={prefix:"fas",iconName:"cloud-arrow-up",icon:[640,512,[62338,"cloud-upload","cloud-upload-alt"],"f0ee","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128l-368 0zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39L296 392c0 13.3 10.7 24 24 24s24-10.7 24-24l0-134.1 39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"]},zO={prefix:"fas",iconName:"cloud-arrow-down",icon:[640,512,[62337,"cloud-download","cloud-download-alt"],"f0ed","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128l-368 0zm79-167l80 80c9.4 9.4 24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-39 39L344 184c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 134.1-39-39c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9z"]},BO=zO,Jj={prefix:"fas",iconName:"shield-halved",icon:[512,512,["shield-alt"],"f3ed","M256 0c4.6 0 9.2 1 13.4 2.9L457.7 82.8c22 9.3 38.4 31 38.3 57.2c-.5 99.2-41.3 280.7-213.6 363.2c-16.7 8-36.1 8-52.8 0C57.3 420.7 16.5 239.2 16 140c-.1-26.2 16.3-47.9 38.3-57.2L242.7 2.9C246.8 1 251.4 0 256 0zm0 66.8l0 378.1C394 378 431.1 230.1 432 141.4L256 66.8s0 0 0 0z"]},HO=Jj,WO={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},qO={prefix:"fas",iconName:"chart-pie",icon:[576,512,["pie-chart"],"f200","M304 240l0-223.4c0-9 7-16.6 16-16.6C443.7 0 544 100.3 544 224c0 9-7.6 16-16.6 16L304 240zM32 272C32 150.7 122.1 50.3 239 34.3c9.2-1.3 17 6.1 17 15.4L256 288 412.5 444.5c6.7 6.7 6.2 17.7-1.5 23.1C371.8 495.6 323.8 512 272 512C139.5 512 32 404.6 32 272zm526.4 16c9.3 0 16.6 7.8 15.4 17c-7.7 55.9-34.6 105.6-73.9 142.3c-6 5.6-15.4 5.2-21.2-.7L320 288l238.4 0z"]},Eg={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},Rd={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},GO={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},KO=GO,dw={prefix:"fas",iconName:"tags",icon:[512,512,[],"f02c","M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5L0 80C0 53.5 21.5 32 48 32l149.5 0c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},QO={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm0 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 224c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},Ti=QO,mt={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},am={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},YO={prefix:"fas",iconName:"table-cells-large",icon:[512,512,["th-large"],"f009","M448 96l0 128-160 0 0-128 160 0zm0 192l0 128-160 0 0-128 160 0zM224 224L64 224 64 96l160 0 0 128zM64 288l160 0 0 128L64 416l0-128zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]},Zj=YO,XO={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Yy=XO,fw={prefix:"fas",iconName:"truck",icon:[640,512,[128666,9951],"f0d1","M48 0C21.5 0 0 21.5 0 48L0 368c0 26.5 21.5 48 48 48l16 0c0 53 43 96 96 96s96-43 96-96l128 0c0 53 43 96 96 96s96-43 96-96l32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64 0-32 0-18.7c0-17-6.7-33.3-18.7-45.3L512 114.7c-12-12-28.3-18.7-45.3-18.7L416 96l0-48c0-26.5-21.5-48-48-48L48 0zM416 160l50.7 0L544 237.3l0 18.7-128 0 0-96zM112 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm368-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},JO={prefix:"fas",iconName:"calendar-plus",icon:[448,512,[],"f271","M96 32l0 32L48 64C21.5 64 0 85.5 0 112l0 48 448 0 0-48c0-26.5-21.5-48-48-48l-48 0 0-32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 32L160 64l0-32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192L0 192 0 464c0 26.5 21.5 48 48 48l352 0c26.5 0 48-21.5 48-48l0-272zM224 248c13.3 0 24 10.7 24 24l0 56 56 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-56 0 0 56c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-56-56 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l56 0 0-56c0-13.3 10.7-24 24-24z"]},hw={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},ZO={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},ii=ZO,eF={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},mw=eF,$o={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},tF={prefix:"fas",iconName:"mobile-screen",icon:[384,512,["mobile-android-alt"],"f3cf","M16 64C16 28.7 44.7 0 80 0L304 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L80 512c-35.3 0-64-28.7-64-64L16 64zM144 448c0 8.8 7.2 16 16 16l64 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-64 0c-8.8 0-16 7.2-16 16zM304 64L80 64l0 320 224 0 0-320z"]},nF={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},rF=nF,Pn={prefix:"fas",iconName:"utensils",icon:[448,512,[127860,61685,"cutlery"],"f2e7","M416 0C400 0 288 32 288 176l0 112c0 35.3 28.7 64 64 64l32 0 0 128c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128 0-112 0-208c0-17.7-14.3-32-32-32zM64 16C64 7.8 57.9 1 49.7 .1S34.2 4.6 32.4 12.5L2.1 148.8C.7 155.1 0 161.5 0 167.9c0 45.9 35.1 83.6 80 87.7L80 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-224.4c44.9-4.1 80-41.8 80-87.7c0-6.4-.7-12.8-2.1-19.1L191.6 12.5c-1.8-8-9.3-13.3-17.4-12.4S160 7.8 160 16l0 134.2c0 5.4-4.4 9.8-9.8 9.8c-5.1 0-9.3-3.9-9.8-9L127.9 14.6C127.2 6.3 120.3 0 112 0s-15.2 6.3-15.9 14.6L83.7 151c-.5 5.1-4.7 9-9.8 9c-5.4 0-9.8-4.4-9.8-9.8L64 16zm48.3 152l-.3 0-.3 0 .3-.7 .3 .7z"]},sF={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416l384 0c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8l0-18.8c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},iF={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},aF={prefix:"fas",iconName:"boxes-stacked",icon:[576,512,[62625,"boxes","boxes-alt"],"f468","M248 0L208 0c-26.5 0-48 21.5-48 48l0 112c0 35.3 28.7 64 64 64l128 0c35.3 0 64-28.7 64-64l0-112c0-26.5-21.5-48-48-48L328 0l0 80c0 8.8-7.2 16-16 16l-48 0c-8.8 0-16-7.2-16-16l0-80zM64 256c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l160 0c35.3 0 64-28.7 64-64l0-128c0-35.3-28.7-64-64-64l-40 0 0 80c0 8.8-7.2 16-16 16l-48 0c-8.8 0-16-7.2-16-16l0-80-40 0zM352 512l160 0c35.3 0 64-28.7 64-64l0-128c0-35.3-28.7-64-64-64l-40 0 0 80c0 8.8-7.2 16-16 16l-48 0c-8.8 0-16-7.2-16-16l0-80-40 0c-15 0-28.8 5.1-39.7 13.8c4.9 10.4 7.7 22 7.7 34.2l0 160c0 12.2-2.8 23.8-7.7 34.2C323.2 506.9 337 512 352 512z"]},oF=aF,lF={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},cF={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},om=cF,eT={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},uF={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},pw={prefix:"fas",iconName:"user-shield",icon:[640,512,[],"f505","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c1.8 0 3.5-.2 5.3-.5c-76.3-55.1-99.8-141-103.1-200.2c-16.1-4.8-33.1-7.3-50.7-7.3l-91.4 0zm308.8-78.3l-120 48C358 277.4 352 286.2 352 296c0 63.3 25.9 168.8 134.8 214.2c5.9 2.5 12.6 2.5 18.5 0C614.1 464.8 640 359.3 640 296c0-9.8-6-18.6-15.1-22.3l-120-48c-5.7-2.3-12.1-2.3-17.8 0zM591.4 312c-3.9 50.7-27.2 116.7-95.4 149.7l0-187.8L591.4 312z"]},Et={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},dF={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},yt=dF,fF={prefix:"fas",iconName:"rocket",icon:[512,512,[],"f135","M156.6 384.9L125.7 354c-8.5-8.5-11.5-20.8-7.7-32.2c3-8.9 7-20.5 11.8-33.8L24 288c-8.6 0-16.6-4.6-20.9-12.1s-4.2-16.7 .2-24.1l52.5-88.5c13-21.9 36.5-35.3 61.9-35.3l82.3 0c2.4-4 4.8-7.7 7.2-11.3C289.1-4.1 411.1-8.1 483.9 5.3c11.6 2.1 20.6 11.2 22.8 22.8c13.4 72.9 9.3 194.8-111.4 276.7c-3.5 2.4-7.3 4.8-11.3 7.2l0 82.3c0 25.4-13.4 49-35.3 61.9l-88.5 52.5c-7.4 4.4-16.6 4.5-24.1 .2s-12.1-12.2-12.1-20.9l0-107.2c-14.1 4.9-26.4 8.9-35.7 11.9c-11.2 3.6-23.4 .5-31.8-7.8zM384 168a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},hF={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},jg={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},dt={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},mF={prefix:"fas",iconName:"robot",icon:[640,512,[129302],"f544","M320 0c17.7 0 32 14.3 32 32l0 64 120 0c39.8 0 72 32.2 72 72l0 272c0 39.8-32.2 72-72 72l-304 0c-39.8 0-72-32.2-72-72l0-272c0-39.8 32.2-72 72-72l120 0 0-64c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224l16 0 0 192-16 0c-26.5 0-48-21.5-48-48l0-96c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48l0 96c0 26.5-21.5 48-48 48l-16 0 0-192 16 0z"]},pF={prefix:"fas",iconName:"link-slash",icon:[640,512,["chain-broken","chain-slash","unlink"],"f127","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L489.3 358.2l90.5-90.5c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114l-96 96-31.9-25C430.9 239.6 420.1 175.1 377 132c-52.2-52.3-134.5-56.2-191.3-11.7L38.8 5.1zM239 162c30.1-14.9 67.7-9.9 92.8 15.3c20 20 27.5 48.3 21.7 74.5L239 162zM406.6 416.4L220.9 270c-2.1 39.8 12.2 80.1 42.2 110c38.9 38.9 94.4 51 143.6 36.3zm-290-228.5L60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l61.8-61.8-50.6-39.9z"]},gF=pF,Yt={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},tT={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},xt=tT,xF=tT,yF="/saborhub/assets/saborhub-BbSQtSX-.webp",vF=({isExpanded:t,toggleExpanded:e})=>{const n=Va(),r=fu(),[s,i]=m.useState(null),{currentUser:o}=qa(),[l,c]=m.useState(null),[d,f]=m.useState(!0);m.useEffect(()=>{(async()=>{var P,O,T;if(f(!0),!o){c({rolAdmin:!1,dashboard:!1,mesas:!1,pedidos:!1,inventario:!1,menu:!1,reportes:!1,configuracion:!1}),f(!1);return}try{const E=await Cu(Qe(Ne,"usuarios",o.uid));if(E.exists()){const k=E.data();((P=k.rol)==null?void 0:P.toLowerCase())==="administrador"?c({rolAdmin:!0,dashboard:!0,mesas:!0,pedidos:!0,inventario:!0,menu:!0,reportes:!0,configuracion:!0}):c({rolAdmin:!1,...k.permisos||{},configuracion:((O=k.permisos)==null?void 0:O.configuracion)||!1,dashboard:((T=k.permisos)==null?void 0:T.dashboard)||!1})}else c({rolAdmin:!1,dashboard:!0,mesas:!1,pedidos:!1,inventario:!1,menu:!1,reportes:!1,configuracion:!1})}catch(E){console.error("Error al obtener permisos:",E),c({rolAdmin:!1,dashboard:!0,mesas:!1,pedidos:!1,inventario:!1,menu:!1,reportes:!1,configuracion:!1})}finally{f(!1)}})()},[o]),m.useEffect(()=>{t||i(null)},[t]);const h=[{name:"Dashboard",icon:Zj,href:"/dashboard"},{name:"Mesas",icon:Qy,href:"/mesas"},{name:"Pedidos",icon:Qj,href:"/pedidos"},{name:"Inventario",icon:ih,href:"/inventario"},{name:"Menú",icon:Pn,href:"/menu"},{name:"Reportes",icon:Xj,submenu:!0,submenuItems:[{name:"Ventas",href:"/reportes/ventas"},{name:"Productos",href:"/reportes/productos"},{name:"Clientes",href:"/reportes/clientes"}]},{name:"Configuración",icon:ii,href:"/configuracion"}],p=S=>{if(!t){e(!0),i(S);return}i(s===S?null:S)},x=S=>n.pathname===S,_=()=>o?o.displayName?o.displayName.split(" ").map(S=>S[0]).join("").toUpperCase().substring(0,2):o.email?o.email[0].toUpperCase():"U":"G",j=()=>o?o.displayName||o.email.split("@")[0]:"Usuario",N=(S,P)=>{S.preventDefault(),r(P)},w=S=>{if(!l)return!1;const P=S.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return l.rolAdmin?!0:P in l?l[P]:!!(P==="configuracion"&&l.configuracion||P==="reportes"&&l.reportes)},y=l?h.filter(S=>{const P=S.name.toLowerCase();return l.rolAdmin?!0:S.submenu&&P==="reportes"?l.reportes:P==="configuración"?l.configuracion:w(P)}):h,b=()=>d?a.jsx("div",{className:"flex-1 py-4 flex items-center justify-center",children:a.jsx("div",{className:"text-amber-500 animate-pulse",children:a.jsx("span",{className:"sr-only",children:"Cargando..."})})}):a.jsx("div",{className:"flex-1 py-4",children:a.jsx("ul",{className:"space-y-1 px-2",children:(l?y:[]).map((S,P)=>a.jsx("li",{className:"group",children:S.submenu?a.jsxs("div",{children:[a.jsxs("button",{className:`
                      w-full flex items-center
                      ${t?"justify-between px-3":"justify-center"} 
                      p-2.5 rounded-lg text-base font-medium 
                      transition-all duration-300 ease-in-out
                      hover:bg-teal-50 
                      ${s===P?"bg-teal-50 text-teal-600":"text-gray-600"}
                    `,onClick:()=>p(P),children:[a.jsxs("div",{className:`
                      flex items-center
                      ${t?"w-full":"w-10 h-10"}
                      transition-all duration-300 ease-in-out
                    `,children:[a.jsx("div",{className:`
                        flex items-center justify-center
                        ${t?"mr-3 w-5":"w-10"}
                        transition-all duration-300 ease-in-out
                      `,children:a.jsx(M,{icon:S.icon,className:`
                            h-5 w-5 transition-colors duration-300
                            ${s===P?"text-teal-600":"text-teal-500"}
                            group-hover:text-teal-600
                          `,fixedWidth:!0})}),t&&a.jsx("span",{className:"transition-all duration-300 ease-in-out whitespace-nowrap",children:S.name})]}),t&&a.jsx(M,{icon:s===P?eT:jg,className:`
                          ml-2 h-3 w-3 text-teal-500 
                          transform transition-all duration-300 ease-in-out
                          ${s===P?"rotate-180":""}
                        `,fixedWidth:!0})]}),t&&s===P&&a.jsx("ul",{className:"mt-1 mb-2 space-y-1 pl-10 overflow-hidden transition-all duration-300 ease-in-out",children:S.submenuItems.map(O=>a.jsx("li",{children:a.jsx("a",{href:O.href,onClick:T=>N(T,O.href),className:`
                              block p-2 text-sm font-medium rounded-md 
                              transition-all duration-300 ease-in-out
                              ${x(O.href)?"bg-teal-500 text-white":"text-gray-600 hover:bg-teal-50 hover:text-teal-600"}
                            `,children:O.name})},O.name))})]}):a.jsxs("a",{href:S.href,onClick:O=>N(O,S.href),className:`
                    flex items-center
                    ${t?"px-3":"justify-center"} 
                    p-2.5 rounded-lg text-base font-medium 
                    transition-all duration-300 ease-in-out relative group
                    ${x(S.href)?"bg-teal-500 text-white":"text-gray-600 hover:bg-teal-50 hover:text-teal-600"}
                  `,children:[a.jsx("div",{className:`
                    flex items-center justify-center
                    ${t?"mr-3 w-5":"w-10"}
                    transition-all duration-300 ease-in-out
                  `,children:a.jsx(M,{icon:S.icon,className:`
                        h-5 w-5 transition-colors duration-300
                        ${x(S.href)?"text-white":"text-teal-500 group-hover:text-teal-600"}
                      `,fixedWidth:!0})}),t&&a.jsx("span",{className:"transition-all duration-300 ease-in-out whitespace-nowrap",children:S.name}),!t&&a.jsx("div",{className:"absolute left-full ml-6 -translate-y-1/2 top-1/2 w-auto p-2 min-w-max rounded-md shadow-lg text-white bg-gray-800 text-xs font-bold transition-all duration-300 ease-in-out origin-left opacity-0 scale-95 group-hover:opacity-100 group-hover:scale-100 z-50",children:S.name})]})},S.name))})});return a.jsxs("div",{className:`
        fixed inset-y-0 left-0 transition-all duration-300 ease-in-out z-20
        ${t?"w-64":"w-20"}
        bg-white text-gray-700 h-full shadow-xl
        hidden md:flex md:flex-col
      `,children:[a.jsxs("div",{className:`
        flex items-center justify-between h-20 
        ${t?"px-4":"px-2"} 
        bg-gradient-to-r from-teal-500 to-teal-600
        border-b border-teal-400/20
      `,children:[a.jsx(_t,{to:"/dashboard",className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"relative w-full h-16 flex items-center justify-center",children:[a.jsx("img",{src:nu,alt:"SaborHub",className:`
                absolute transition-all duration-300 ease-in-out transform
                ${t?"opacity-100 scale-100":"opacity-0 scale-95"}
                h-16 w-auto object-contain max-w-[200px]
              `}),a.jsx("div",{className:`
              absolute transition-all duration-300 ease-in-out transform
              ${t?"opacity-0 scale-95":"opacity-100 scale-100"}
            `,children:a.jsx("img",{src:yF,alt:"SaborHub",className:"h-16 w-16 object-contain p-1"})})]})}),a.jsx("button",{onClick:()=>e(!t),className:"absolute -right-3 top-1/2 -translate-y-1/2 bg-teal-500 hover:bg-teal-600 text-white p-1.5 rounded-r-lg shadow-lg transition-all duration-300",children:a.jsx(M,{icon:t?hF:jg,className:"h-4 w-4 transition-transform duration-300"})})]}),b(),a.jsx("div",{className:`p-4 border-t border-gray-200 ${t?"":"flex justify-center"}`,children:a.jsxs("div",{className:`
          flex items-center ${t?"":"justify-center"} 
          p-2 rounded-lg text-base font-medium 
          text-gray-600 hover:bg-teal-50 
          transition-all duration-300 ease-in-out
        `,children:[a.jsx("div",{className:`
            min-w-[32px] h-8 rounded-lg 
            bg-gradient-to-br from-teal-500 to-teal-600 
            flex items-center justify-center 
            ${t?"mr-3":""}
            transition-all duration-300 ease-in-out
          `,children:a.jsx("span",{className:"text-white text-sm font-semibold",children:_()})}),t&&a.jsxs("div",{className:"transition-all duration-300 ease-in-out whitespace-nowrap",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:j()}),a.jsx("p",{className:"text-xs text-gray-500",children:(o==null?void 0:o.email)||"Invitado"})]})]})})]})},bF=({isOpen:t,toggleSidebar:e})=>{const n=Va(),r=fu(),[s,i]=m.useState(null),{currentUser:o}=qa(),[l,c]=m.useState(null),[d,f]=m.useState(!0),h=m.useRef(null);m.useEffect(()=>{(async()=>{var O,T,E;if(f(!0),!o){c({rolAdmin:!1,dashboard:!1,mesas:!1,pedidos:!1,inventario:!1,menu:!1,reportes:!1,configuracion:!1}),f(!1);return}try{const k=await Cu(Qe(Ne,"usuarios",o.uid));if(k.exists()){const I=k.data();((O=I.rol)==null?void 0:O.toLowerCase())==="administrador"?c({rolAdmin:!0,dashboard:!0,mesas:!0,pedidos:!0,inventario:!0,menu:!0,reportes:!0,configuracion:!0}):c({rolAdmin:!1,...I.permisos||{},configuracion:((T=I.permisos)==null?void 0:T.configuracion)||!1,dashboard:((E=I.permisos)==null?void 0:E.dashboard)||!1})}else c({rolAdmin:!1,dashboard:!0,mesas:!1,pedidos:!1,inventario:!1,menu:!1,reportes:!1,configuracion:!1})}catch(k){console.error("Error al obtener permisos:",k),c({rolAdmin:!1,dashboard:!0,mesas:!1,pedidos:!1,inventario:!1,menu:!1,reportes:!1,configuracion:!1})}finally{f(!1)}})()},[o]),m.useEffect(()=>{const P=O=>{t&&h.current&&!h.current.contains(O.target)&&e(!1)};return document.addEventListener("mousedown",P),document.addEventListener("touchstart",P),()=>{document.removeEventListener("mousedown",P),document.removeEventListener("touchstart",P)}},[t,e]);const p=[{name:"Dashboard",icon:Zj,href:"/dashboard"},{name:"Mesas",icon:Qy,href:"/mesas"},{name:"Pedidos",icon:Qj,href:"/pedidos"},{name:"Inventario",icon:ih,href:"/inventario"},{name:"Menú",icon:Pn,href:"/menu"},{name:"Reportes",icon:Xj,submenu:!0,submenuItems:[{name:"Ventas",href:"/reportes/ventas"},{name:"Productos",href:"/reportes/productos"},{name:"Clientes",href:"/reportes/clientes"}]},{name:"Configuración",icon:ii,href:"/configuracion"}],x=P=>{i(s===P?null:P)},_=P=>P==="/dashboard"&&n.pathname==="/"?!0:n.pathname===P||n.pathname.startsWith(`${P}/`),j=()=>o?o.displayName?o.displayName.split(" ").map(P=>P[0]).join("").toUpperCase().substring(0,2):o.email?o.email[0].toUpperCase():"U":"U",N=()=>o?o.displayName||o.email.split("@")[0]:"Usuario",w=(P,O)=>{P.preventDefault(),r(O),e(!1)},y=async()=>{try{await ji.signOut(),e(!1),r("/")}catch(P){console.error("Error al cerrar sesión:",P)}},b=P=>{if(!l)return!1;const O=P.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return l.rolAdmin?!0:O in l?l[O]:!!(O==="configuracion"&&l.configuracion||O==="reportes"&&l.reportes)},S=l?p.filter(P=>{const O=P.name.toLowerCase();return l.rolAdmin?!0:P.submenu&&O==="reportes"?l.reportes:O==="configuración"?l.configuracion:b(O)}):p;return m.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),m.useEffect(()=>{e(!1)},[n.pathname]),a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>e(!t),className:`
          fixed top-3 left-3 z-40 p-2.5 rounded-full transition-all duration-300
          md:hidden
          bg-white text-emerald-600 shadow-lg hover:bg-emerald-50
          active:scale-95 focus:outline-none focus:ring-2 focus:ring-emerald-500
        `,"aria-label":"Menú",children:a.jsx(M,{icon:Yj,className:"h-5 w-5"})}),t&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm md:hidden",onClick:()=>e(!1),"aria-hidden":"true"}),a.jsxs("div",{ref:h,className:`
          fixed inset-y-0 left-0 z-50 w-[85%] max-w-[320px] 
          bg-gradient-to-br from-emerald-500 to-teal-600
          transform transition-transform duration-300 ease-out
          md:hidden
          ${t?"translate-x-0":"-translate-x-full"}
          flex flex-col h-full
        `,children:[a.jsxs("div",{className:"flex items-center justify-between px-6 h-24 bg-white/10 backdrop-blur-sm",children:[a.jsx(_t,{to:"/dashboard",className:"flex-1 flex items-center justify-center py-4",onClick:()=>e(!1),children:a.jsx("img",{src:nu,alt:"SaborHub",className:"h-16 w-auto object-contain"})}),a.jsx("button",{onClick:()=>e(!1),className:"absolute right-4 top-6 p-2.5 rounded-full text-white/90 hover:bg-white/20 active:bg-white/30 transition-colors","aria-label":"Cerrar menú",children:a.jsx(M,{icon:yt,className:"h-6 w-6"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:d?a.jsx("div",{className:"flex items-center justify-center h-24",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-white"})}):a.jsx("nav",{className:"p-4",children:a.jsxs("ul",{className:"space-y-1",children:[(l?S:[]).map((P,O)=>a.jsx("li",{children:P.submenu?a.jsxs("div",{className:"mb-1",children:[a.jsxs("button",{className:`
                            w-full flex items-center justify-between p-3 rounded-lg 
                            text-base font-medium transition-colors
                            ${s===O?"bg-white/20 text-white":"text-white/90 hover:bg-white/10"}
                          `,onClick:()=>x(O),children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-3 text-white/90",children:a.jsx(M,{icon:P.icon,className:"h-5 w-5"})}),a.jsx("span",{children:P.name})]}),a.jsx(M,{icon:eT,className:`
                              h-4 w-4 text-white/70 transition-transform duration-200
                              ${s===O?"rotate-180":""}
                            `})]}),s===O&&a.jsx("ul",{className:"mt-1 ml-7 mb-2 space-y-1 border-l-2 border-white/20 pl-3",children:P.submenuItems.map(T=>a.jsx("li",{children:a.jsx("a",{href:T.href,onClick:E=>w(E,T.href),className:`
                                    block p-3 text-sm font-medium rounded-md transition-colors
                                    ${_(T.href)?"bg-white text-emerald-600":"text-white/80 hover:bg-white/10"}
                                  `,children:T.name})},T.name))})]}):a.jsxs("a",{href:P.href,onClick:T=>w(T,P.href),className:`
                          flex items-center p-3 rounded-lg text-base font-medium 
                          transition-colors
                          ${_(P.href)?"bg-white text-emerald-600":"text-white/90 hover:bg-white/10"}
                        `,children:[a.jsx("span",{className:`mr-3 ${_(P.href)?"text-emerald-500":"text-white/90"}`,children:a.jsx(M,{icon:P.icon,className:"h-5 w-5"})}),a.jsx("span",{children:P.name})]})},P.name)),a.jsx("li",{className:"mt-6 pt-6 border-t border-white/20",children:a.jsxs("button",{onClick:y,className:"w-full flex items-center p-3 rounded-lg text-base font-medium text-white/90 hover:bg-white/10 transition-colors",children:[a.jsx("span",{className:"mr-3 text-white/80",children:a.jsx(M,{icon:Kj,className:"h-5 w-5"})}),a.jsx("span",{children:"Cerrar sesión"})]})})]})})}),a.jsx("div",{className:"border-t border-white/20 bg-white/10 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-white/20 flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-white font-medium",children:j()})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:N()}),a.jsx("p",{className:"text-xs text-white/70 truncate",children:(o==null?void 0:o.email)||"Invitado"})]})]})})]})]})},wF=({toggleSidebar:t,sidebarOpen:e,isMobile:n,isExpanded:r})=>{var j;const[s,i]=m.useState(!1),[o,l]=m.useState(!1),c=m.useRef(null),d=m.useRef(null),f=fu(),{currentUser:h}=qa();m.useEffect(()=>{const N=w=>{c.current&&!c.current.contains(w.target)&&i(!1),d.current&&!d.current.contains(w.target)&&l(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const p=async()=>{try{await $A(ji),f("/")}catch(N){console.error("Error al cerrar sesión:",N)}},x=[{id:1,title:"Nuevo pedido #1023",message:"Mesa 5 ha realizado un nuevo pedido",time:"5 min",read:!1},{id:2,title:"Inventario bajo",message:'El producto "Pollo a la parrilla" está por agotarse',time:"10 min",read:!0},{id:3,title:"Reserva confirmada",message:"Nueva reserva para 8 personas a las 20:00",time:"1 hora",read:!0}],_=()=>h?h.displayName?h.displayName.split(" ").map(N=>N[0]).join("").toUpperCase().substring(0,2):h.email?h.email[0].toUpperCase():"U":"G";return a.jsx("nav",{className:`
      fixed top-0 transition-all duration-300 bg-white/80 backdrop-blur-md shadow-lg border-b border-emerald-100 z-30
      ${n?"left-0 right-0":r?"left-64 right-0":"left-20 right-0"}
    `,children:a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between h-16",children:[a.jsxs("div",{className:"flex items-center",children:[n&&a.jsx("button",{onClick:()=>t(!e),"aria-label":"Toggle sidebar",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-emerald-500 hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:a.jsx(M,{icon:Yj,className:"h-6 w-6"})}),a.jsx("div",{className:"hidden md:block ml-4",children:a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(M,{icon:om,className:"h-5 w-5 text-emerald-400"})}),a.jsx("input",{className:"pl-10 px-4 py-2 bg-gray-50 border border-emerald-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 w-64 text-gray-600 placeholder-gray-400",type:"text",placeholder:"Buscar..."})]})})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",ref:c,children:[a.jsxs("button",{className:"p-2 rounded-lg text-gray-600 hover:text-emerald-500 hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 relative transition-all duration-300",onClick:()=>i(!s),children:[a.jsx(M,{icon:sF,className:"h-6 w-6"}),a.jsx("span",{className:"absolute top-2 right-2 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"})]}),s&&a.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-80 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50 border border-emerald-100",children:a.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:[a.jsx("div",{className:"px-4 py-2 border-b border-emerald-100",children:a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Notificaciones"})}),x.map(N=>a.jsxs("div",{className:"px-4 py-3 hover:bg-emerald-50 border-b border-emerald-100 transition-colors duration-200",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:N.title}),a.jsx("p",{className:"text-sm text-gray-600",children:N.message}),a.jsx("p",{className:"text-xs text-emerald-500 mt-1",children:N.time})]},N.id)),a.jsx("div",{className:"px-4 py-2 text-center",children:a.jsx("button",{className:"text-sm font-medium text-emerald-500 hover:text-emerald-600 transition-colors duration-200",children:"Ver todas"})})]})})]}),a.jsxs("div",{className:"relative ml-3",ref:d,children:[a.jsx("div",{children:a.jsx("button",{className:"flex items-center text-sm rounded-lg p-1 hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all duration-300",onClick:()=>l(!o),children:a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-emerald-400 to-teal-500 flex items-center justify-center text-white shadow-lg",children:_()})})}),o&&a.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50 border border-emerald-100",children:a.jsxs("div",{className:"py-1",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-emerald-100",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:(h==null?void 0:h.displayName)||((j=h==null?void 0:h.email)==null?void 0:j.split("@")[0])||"Usuario"}),(h==null?void 0:h.email)&&a.jsx("p",{className:"text-xs text-emerald-500 truncate",children:h.email})]}),a.jsxs("button",{onClick:p,className:"w-full text-left px-4 py-2 text-sm text-gray-600 hover:text-gray-700 hover:bg-emerald-50 flex items-center transition-colors duration-200",children:[a.jsx(M,{icon:Kj,className:"h-4 w-4 mr-2 text-emerald-500"}),"Cerrar Sesión"]})]})})]})]})]})})})},_F=({isMobile:t,isExpanded:e})=>{const n=new Date().getFullYear();return a.jsx("footer",{className:`
      fixed bottom-0 transition-all duration-300 bg-white/80 backdrop-blur-md border-t border-emerald-100 p-4 md:p-6 z-20
      ${t?"left-0 right-0":e?"left-64 right-0":"left-20 right-0"}
    `,children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsx("div",{className:"mb-4 md:mb-0",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["© ",n," SaborHub. Todos los derechos reservados."]})}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{className:"text-sm text-gray-600 hover:text-emerald-600 transition-colors duration-300",children:"Términos y condiciones"}),a.jsx("button",{className:"text-sm text-gray-600 hover:text-emerald-600 transition-colors duration-300",children:"Política de privacidad"}),a.jsx("button",{className:"text-sm text-gray-600 hover:text-emerald-600 transition-colors duration-300",children:"Soporte"})]})]})})},fs=({children:t})=>{const[e,n]=m.useState(!1),[r,s]=m.useState(!1),[i,o]=m.useState(window.innerWidth<768);m.useEffect(()=>{const d=()=>{const f=window.innerWidth<768;o(f),f&&s(!1),n(!1)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const l=d=>{n(typeof d=="boolean"?d:!e)},c=d=>{s(typeof d=="boolean"?d:!r)};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(vF,{isExpanded:r,toggleExpanded:c}),a.jsx(bF,{isOpen:e,toggleSidebar:l}),a.jsxs("div",{className:`
        flex-1 flex flex-col transition-all duration-300
        ${!i&&r?"ml-64":""}
        ${!i&&!r?"ml-20":""}
      `,children:[a.jsx(wF,{toggleSidebar:l,sidebarOpen:e,isMobile:i,isExpanded:r}),a.jsx("main",{className:"flex-1 pt-16 pb-24",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:t})}),a.jsx(_F,{isMobile:i,isExpanded:r})]})]})},NF=()=>{const t=[{name:"Ventas Hoy",value:"$1,265.00",change:"+12%",changeType:"increase"},{name:"Pedidos",value:"48",change:"+8%",changeType:"increase"},{name:"Clientes Nuevos",value:"12",change:"+24%",changeType:"increase"},{name:"Tiempo Promedio",value:"18 min",change:"-2%",changeType:"decrease"}],e=[{id:"1023",table:"Mesa 5",status:"Completado",total:"$78.50",time:"10:30 AM"},{id:"1022",table:"Delivery",status:"En Proceso",total:"$45.00",time:"10:25 AM"},{id:"1021",table:"Mesa 3",status:"Completado",total:"$127.00",time:"10:15 AM"},{id:"1020",table:"Para llevar",status:"Listo",total:"$32.75",time:"10:05 AM"},{id:"1019",table:"Mesa 8",status:"Completado",total:"$94.25",time:"9:55 AM"}],n=[{id:1,name:"Hamburguesa Clásica",sold:24,amount:"$480.00",inventory:45},{id:2,name:"Pasta Alfredo",sold:18,amount:"$378.00",inventory:32},{id:3,name:"Pizza Suprema",sold:16,amount:"$320.00",inventory:28},{id:4,name:"Ensalada César",sold:15,amount:"$225.00",inventory:40},{id:5,name:"Tarta de Chocolate",sold:12,amount:"$144.00",inventory:22}],r=s=>{switch(s){case"Completado":return"bg-green-100 text-green-800";case"En Proceso":return"bg-yellow-100 text-yellow-800";case"Listo":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs(fs,{children:[a.jsxs("div",{className:"pb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Dashboard"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Visión general del restaurante y métricas clave."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:t.map(s=>a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"px-4 py-5 sm:p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-emerald-100 rounded-md p-3",children:a.jsxs("div",{className:"h-8 w-8 text-emerald-600",children:[s.name==="Ventas Hoy"&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-full w-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.name==="Pedidos"&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-full w-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),s.name==="Clientes Nuevos"&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-full w-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s.name==="Tiempo Promedio"&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-full w-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:s.name}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:s.value})}),a.jsxs("div",{className:`inline-flex items-baseline px-2.5 py-0.5 rounded-full text-xs font-medium ${s.changeType==="increase"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[s.changeType==="increase"?a.jsx("svg",{className:"-ml-1 mr-0.5 flex-shrink-0 h-4 w-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}):a.jsx("svg",{className:"-ml-1 mr-0.5 flex-shrink-0 h-4 w-4 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),a.jsxs("span",{className:"sr-only",children:[s.changeType==="increase"?"Increased":"Decreased"," by"]}),s.change]})]})})]})})},s.name))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsx("div",{className:"px-4 py-5 border-b border-gray-200 sm:px-6",children:a.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Pedidos Recientes"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#ID"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mesa/Tipo"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hora"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(s=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-emerald-600",children:["#",s.id]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.table}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${r(s.status)}`,children:s.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.total}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.time})]},s.id))})]})}),a.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 text-center",children:a.jsx("button",{className:"text-sm text-emerald-600 hover:text-emerald-800 font-medium",children:"Ver todos los pedidos"})})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsx("div",{className:"px-4 py-5 border-b border-gray-200 sm:px-6",children:a.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Productos Populares"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendidos"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inventario"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(s=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.sold}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.amount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${s.inventory>30?"bg-green-500":"bg-emerald-500"}`,style:{width:`${s.inventory/50*100}%`}})}),a.jsx("span",{className:"ml-3 text-sm text-gray-600",children:s.inventory})]})})]},s.id))})]})}),a.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 text-center",children:a.jsx("button",{className:"text-sm text-emerald-600 hover:text-emerald-800 font-medium",children:"Ver todos los productos"})})]})]})]})},io=(t,e=!1)=>{try{const n=Number(t);return isNaN(n)?(console.warn("formatCurrency: valor no numérico proporcionado:",t),"$0"):new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:e?2:0,maximumFractionDigits:e?2:0}).format(n)}catch(n){return console.error("Error al formatear moneda:",n),"$0"}},nT=typeof document<"u"?te.useLayoutEffect:()=>{};function EF(t){const e=m.useRef(null);return nT(()=>{e.current=t},[t]),m.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const Qi=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},fa=t=>t&&"window"in t&&t.window===t?t:Qi(t).defaultView||window;function jF(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function TF(t){return jF(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let SF=!1;function Xy(){return SF}function rT(t,e){if(!Xy())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:TF(n)?n=n.host:n=n.parentNode}return!1}const Tg=(t=document)=>{var e;if(!Xy())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function sT(t){return Xy()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function IF(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function CF(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function iT(t){let e=null;return()=>(e==null&&(e=t()),e)}const kF=iT(function(){return CF(/^Mac/i)}),AF=iT(function(){return IF(/Android/i)});function aT(){let t=m.useRef(new Map),e=m.useCallback((s,i,o,l)=>{let c=l!=null&&l.once?(...d)=>{t.current.delete(o),o(...d)}:o;t.current.set(o,{type:i,eventTarget:s,fn:c,options:l}),s.addEventListener(i,c,l)},[]),n=m.useCallback((s,i,o,l)=>{var c;let d=((c=t.current.get(o))===null||c===void 0?void 0:c.fn)||o;s.removeEventListener(i,d,l),t.current.delete(o)},[]),r=m.useCallback(()=>{t.current.forEach((s,i)=>{n(s.eventTarget,s.type,i,s.options)})},[n]);return m.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function PF(t){return t.mozInputSource===0&&t.isTrusted?!0:AF()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function oT(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function RF(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function lT(t){let e=m.useRef({isFocused:!1,observer:null});nT(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=EF(r=>{t==null||t(r)});return m.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let s=r.target,i=o=>{if(e.current.isFocused=!1,s.disabled){let l=oT(o);n(l)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};s.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&s.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let l=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),e.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let DF=!1,Lu=null,Sg=new Set,Ec=new Map,La=!1,Ig=!1;const LF={Tab:!0,Escape:!0};function Jy(t,e){for(let n of Sg)n(t,e)}function MF(t){return!(t.metaKey||!kF()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function ah(t){La=!0,MF(t)&&(Lu="keyboard",Jy("keyboard",t))}function Vo(t){Lu="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(La=!0,Jy("pointer",t))}function cT(t){PF(t)&&(La=!0,Lu="virtual")}function uT(t){t.target===window||t.target===document||DF||!t.isTrusted||(!La&&!Ig&&(Lu="virtual",Jy("virtual",t)),La=!1,Ig=!1)}function dT(){La=!1,Ig=!0}function Cg(t){if(typeof window>"u"||Ec.get(fa(t)))return;const e=fa(t),n=Qi(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){La=!0,r.apply(this,arguments)},n.addEventListener("keydown",ah,!0),n.addEventListener("keyup",ah,!0),n.addEventListener("click",cT,!0),e.addEventListener("focus",uT,!0),e.addEventListener("blur",dT,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Vo,!0),n.addEventListener("pointermove",Vo,!0),n.addEventListener("pointerup",Vo,!0)),e.addEventListener("beforeunload",()=>{fT(t)},{once:!0}),Ec.set(e,{focus:r})}const fT=(t,e)=>{const n=fa(t),r=Qi(t);e&&r.removeEventListener("DOMContentLoaded",e),Ec.has(n)&&(n.HTMLElement.prototype.focus=Ec.get(n).focus,r.removeEventListener("keydown",ah,!0),r.removeEventListener("keyup",ah,!0),r.removeEventListener("click",cT,!0),n.removeEventListener("focus",uT,!0),n.removeEventListener("blur",dT,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Vo,!0),r.removeEventListener("pointermove",Vo,!0),r.removeEventListener("pointerup",Vo,!0)),Ec.delete(n))};function OF(t){const e=Qi(t);let n;return e.readyState!=="loading"?Cg(t):(n=()=>{Cg(t)},e.addEventListener("DOMContentLoaded",n)),()=>fT(t,n)}typeof document<"u"&&OF();function hT(){return Lu!=="pointer"}const FF=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $F(t,e,n){let r=Qi(n==null?void 0:n.target);const s=typeof window<"u"?fa(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?fa(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?fa(n==null?void 0:n.target).HTMLElement:HTMLElement,l=typeof window<"u"?fa(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof s&&!FF.has(r.activeElement.type)||r.activeElement instanceof i||r.activeElement instanceof o&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof l&&!LF[n.key])}function VF(t,e,n){Cg(),m.useEffect(()=>{let r=(s,i)=>{$F(!!(n!=null&&n.isTextInput),s,i)&&t(hT())};return Sg.add(r),()=>{Sg.delete(r)}},e)}function UF(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:s}=t;const i=m.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),s&&s(!1),!0},[r,s]),o=lT(i),l=m.useCallback(c=>{const d=Qi(c.target),f=d?Tg(d):Tg();c.target===c.currentTarget&&f===sT(c.nativeEvent)&&(n&&n(c),s&&s(!0),o(c))},[s,n,o]);return{focusProps:{onFocus:!e&&(n||s||r)?l:void 0,onBlur:!e&&(r||s)?i:void 0}}}function zF(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=t,i=m.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:l}=aT(),c=m.useCallback(h=>{h.currentTarget.contains(h.target)&&i.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(i.current.isFocusWithin=!1,l(),n&&n(h),s&&s(!1))},[n,s,i,l]),d=lT(c),f=m.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const p=Qi(h.target),x=Tg(p);if(!i.current.isFocusWithin&&x===sT(h.nativeEvent)){r&&r(h),s&&s(!0),i.current.isFocusWithin=!0,d(h);let _=h.currentTarget;o(p,"focus",j=>{if(i.current.isFocusWithin&&!rT(_,j.target)){let N=new p.defaultView.FocusEvent("blur",{relatedTarget:j.target});RF(N,_);let w=oT(N);c(w)}},{capture:!0})}},[r,s,d,o,c]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:c}}}let kg=!1,wp=0;function BF(){kg=!0,setTimeout(()=>{kg=!1},50)}function gw(t){t.pointerType==="touch"&&BF()}function HF(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",gw),wp++,()=>{wp--,!(wp>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",gw)}}function WF(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:s}=t,[i,o]=m.useState(!1),l=m.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;m.useEffect(HF,[]);let{addGlobalListener:c,removeAllGlobalListeners:d}=aT(),{hoverProps:f,triggerHoverEnd:h}=m.useMemo(()=>{let p=(j,N)=>{if(l.pointerType=N,s||N==="touch"||l.isHovered||!j.currentTarget.contains(j.target))return;l.isHovered=!0;let w=j.currentTarget;l.target=w,c(Qi(j.target),"pointerover",y=>{l.isHovered&&l.target&&!rT(l.target,y.target)&&x(y,y.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:w,pointerType:N}),n&&n(!0),o(!0)},x=(j,N)=>{let w=l.target;l.pointerType="",l.target=null,!(N==="touch"||!l.isHovered||!w)&&(l.isHovered=!1,d(),r&&r({type:"hoverend",target:w,pointerType:N}),n&&n(!1),o(!1))},_={};return typeof PointerEvent<"u"&&(_.onPointerEnter=j=>{kg&&j.pointerType==="mouse"||p(j,j.pointerType)},_.onPointerLeave=j=>{!s&&j.currentTarget.contains(j.target)&&x(j,j.pointerType)}),{hoverProps:_,triggerHoverEnd:x}},[e,n,r,s,l,c,d]);return m.useEffect(()=>{s&&h({currentTarget:l.target},l.pointerType)},[s]),{hoverProps:f,isHovered:i}}function qF(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,s=m.useRef({isFocused:!1,isFocusVisible:e||hT()}),[i,o]=m.useState(!1),[l,c]=m.useState(()=>s.current.isFocused&&s.current.isFocusVisible),d=m.useCallback(()=>c(s.current.isFocused&&s.current.isFocusVisible),[]),f=m.useCallback(x=>{s.current.isFocused=x,o(x),d()},[d]);VF(x=>{s.current.isFocusVisible=x,d()},[],{isTextInput:n});let{focusProps:h}=UF({isDisabled:r,onFocusChange:f}),{focusWithinProps:p}=zF({isDisabled:!r,onFocusWithinChange:f});return{isFocused:i,isFocusVisible:l,focusProps:r?p:h}}var GF=Object.defineProperty,KF=(t,e,n)=>e in t?GF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_p=(t,e,n)=>(KF(t,typeof e!="symbol"?e+"":e,n),n);let QF=class{constructor(){_p(this,"current",this.detect()),_p(this,"handoffState","pending"),_p(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ba=new QF;function Ga(t){var e,n;return ba.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function lm(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function jr(){let t=[],e={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),e.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return lm(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=jr();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function yl(){let[t]=m.useState(jr);return m.useEffect(()=>()=>t.dispose(),[t]),t}let et=(t,e)=>{ba.isServer?m.useEffect(t,e):m.useLayoutEffect(t,e)};function Ka(t){let e=m.useRef(t);return et(()=>{e.current=t},[t]),e}let Se=function(t){let e=Ka(t);return te.useCallback((...n)=>e.current(...n),[e])};function YF(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function XF(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function JF({disabled:t=!1}={}){let e=m.useRef(null),[n,r]=m.useState(!1),s=yl(),i=Se(()=>{e.current=null,r(!1),s.dispose()}),o=Se(l=>{if(s.dispose(),e.current===null){e.current=l.currentTarget,r(!0);{let c=Ga(l.currentTarget);s.addEventListener(c,"pointerup",i,!1),s.addEventListener(c,"pointermove",d=>{if(e.current){let f=YF(d);r(XF(f,e.current.getBoundingClientRect()))}},!1),s.addEventListener(c,"pointercancel",i,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:i,onClick:i}}}let ZF=m.createContext(void 0);function mT(){return m.useContext(ZF)}function Ag(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Ur(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ur),r}var sl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(sl||{}),di=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(di||{});function Ht(){let t=t$();return m.useCallback(e=>e$({mergeRefs:t,...e}),[t])}function e$({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:l}){l=l??n$;let c=pT(e,t);if(i)return Dd(c,n,r,o,l);let d=s??0;if(d&2){let{static:f=!1,...h}=c;if(f)return Dd(h,n,r,o,l)}if(d&1){let{unmount:f=!0,...h}=c;return Ur(f?0:1,{0(){return null},1(){return Dd({...h,hidden:!0,style:{display:"none"}},n,r,o,l)}})}return Dd(c,n,r,o,l)}function Dd(t,e={},n,r,s){let{as:i=n,children:o,refName:l="ref",...c}=Np(t,["unmount","static"]),d=t.ref!==void 0?{[l]:t.ref}:{},f=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let h={};if(e){let p=!1,x=[];for(let[_,j]of Object.entries(e))typeof j=="boolean"&&(p=!0),j===!0&&x.push(_.replace(/([A-Z])/g,N=>`-${N.toLowerCase()}`));if(p){h["data-headlessui-state"]=x.join(" ");for(let _ of x)h[`data-${_}`]=""}}if(i===m.Fragment&&(Object.keys(ia(c)).length>0||Object.keys(ia(h)).length>0))if(!m.isValidElement(f)||Array.isArray(f)&&f.length>1){if(Object.keys(ia(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ia(c)).concat(Object.keys(ia(h))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=f.props,x=p==null?void 0:p.className,_=typeof x=="function"?(...w)=>Ag(x(...w),c.className):Ag(x,c.className),j=_?{className:_}:{},N=pT(f.props,ia(Np(c,["ref"])));for(let w in h)w in N&&delete h[w];return m.cloneElement(f,Object.assign({},N,h,d,{ref:s(r$(f),d.ref)},j))}return m.createElement(i,Object.assign({},Np(c,["ref"]),i!==m.Fragment&&d,i!==m.Fragment&&h),f)}function t$(){let t=m.useRef([]),e=m.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function n$(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function pT(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let r in n)Object.assign(e,{[r](s,...i){let o=n[r];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return e}function gT(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];for(let r in n)Object.assign(e,{[r](...s){let i=n[r];for(let o of i)o==null||o(...s)}});return e}function Rt(t){var e;return Object.assign(m.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function ia(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Np(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function r$(t){return te.version.split(".")[0]>="19"?t.props.ref:t.ref}let s$="span";var oh=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(oh||{});function i$(t,e){var n;let{features:r=1,...s}=t,i={ref:e,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ht()({ourProps:i,theirProps:s,slot:{},defaultTag:s$,name:"Hidden"})}let Pg=Rt(i$),a$=m.createContext(void 0);function o$(){return m.useContext(a$)}function Zy(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Is(t){return Zy(t)&&"tagName"in t}function ur(t){return Is(t)&&"accessKey"in t}function ns(t){return Is(t)&&"tabIndex"in t}function l$(t){return Is(t)&&"style"in t}function c$(t){return ur(t)&&t.nodeName==="IFRAME"}function xT(t){return ur(t)&&t.nodeName==="INPUT"}function xw(t){return ur(t)&&t.nodeName==="LABEL"}function u$(t){return ur(t)&&t.nodeName==="FIELDSET"}function yT(t){return ur(t)&&t.nodeName==="LEGEND"}function d$(t){return Is(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function f$(t){let e=t.parentElement,n=null;for(;e&&!u$(e);)yT(e)&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&h$(n)?!1:r}function h$(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(yT(e))return!1;e=e.previousElementSibling}return!0}let vT=Symbol();function m$(t,e=!0){return Object.assign(t,{[vT]:e})}function zn(...t){let e=m.useRef(t);m.useEffect(()=>{e.current=t},[t]);let n=Se(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||(r==null?void 0:r[vT]))?void 0:n}let ev=m.createContext(null);ev.displayName="DescriptionContext";function bT(){let t=m.useContext(ev);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,bT),e}return t}function wT(){let[t,e]=m.useState([]);return[t.length>0?t.join(" "):void 0,m.useMemo(()=>function(n){let r=Se(i=>(e(o=>[...o,i]),()=>e(o=>{let l=o.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),s=m.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return te.createElement(ev.Provider,{value:s},n.children)},[e])]}let p$="p";function g$(t,e){let n=m.useId(),r=mT(),{id:s=`headlessui-description-${n}`,...i}=t,o=bT(),l=zn(e);et(()=>o.register(s),[s,o.register]);let c=r||!1,d=m.useMemo(()=>({...o.slot,disabled:c}),[o.slot,c]),f={ref:l,...o.props,id:s};return Ht()({ourProps:f,theirProps:i,slot:d,defaultTag:p$,name:o.name||"Description"})}let x$=Rt(g$),y$=Object.assign(x$,{});var Zt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Zt||{});let cm=m.createContext(null);cm.displayName="LabelContext";function tv(){let t=m.useContext(cm);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,tv),e}return t}function v$(t){var e,n,r;let s=(n=(e=m.useContext(cm))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[s,...t].filter(Boolean).join(" "):s}function _T({inherit:t=!1}={}){let e=v$(),[n,r]=m.useState([]),s=t?[e,...n].filter(Boolean):n;return[s.length>0?s.join(" "):void 0,m.useMemo(()=>function(i){let o=Se(c=>(r(d=>[...d,c]),()=>r(d=>{let f=d.slice(),h=f.indexOf(c);return h!==-1&&f.splice(h,1),f}))),l=m.useMemo(()=>({register:o,slot:i.slot,name:i.name,props:i.props,value:i.value}),[o,i.slot,i.name,i.props,i.value]);return te.createElement(cm.Provider,{value:l},i.children)},[r])]}let b$="label";function w$(t,e){var n;let r=m.useId(),s=tv(),i=o$(),o=mT(),{id:l=`headlessui-label-${r}`,htmlFor:c=i??((n=s.props)==null?void 0:n.htmlFor),passive:d=!1,...f}=t,h=zn(e);et(()=>s.register(l),[l,s.register]);let p=Se(N=>{let w=N.currentTarget;if(!(N.target!==N.currentTarget&&d$(N.target))&&(xw(w)&&N.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(N),xw(w))){let y=document.getElementById(w.htmlFor);if(y){let b=y.getAttribute("disabled");if(b==="true"||b==="")return;let S=y.getAttribute("aria-disabled");if(S==="true"||S==="")return;(xT(y)&&(y.type==="file"||y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),x=o||!1,_=m.useMemo(()=>({...s.slot,disabled:x}),[s.slot,x]),j={ref:h,...s.props,id:l,htmlFor:c,onClick:p};return d&&("onClick"in j&&(delete j.htmlFor,delete j.onClick),"onClick"in f&&delete f.onClick),Ht()({ourProps:j,theirProps:f,slot:_,defaultTag:c?b$:"div",name:s.name||"Label"})}let _$=Rt(w$);Object.assign(_$,{});let N$=m.createContext(()=>{});function E$({value:t,children:e}){return te.createElement(N$.Provider,{value:t},e)}function j$(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function T$(t,e=!1){let[n,r]=m.useReducer(()=>({}),{}),s=m.useMemo(()=>j$(t),[t,n]);return et(()=>{if(!t)return;let i=new ResizeObserver(r);return i.observe(t),()=>{i.disconnect()}},[t]),e?{width:`${s.width}px`,height:`${s.height}px`}:s}let NT=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var S$=Object.defineProperty,I$=(t,e,n)=>e in t?S$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C$=(t,e,n)=>(I$(t,e+"",n),n),ET=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},gr=(t,e,n)=>(ET(t,e,"read from private field"),n?n.call(t):e.get(t)),Ep=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},yw=(t,e,n,r)=>(ET(t,e,"write to private field"),e.set(t,n),n),Gr,rc,sc;let jT=class{constructor(e){Ep(this,Gr,{}),Ep(this,rc,new NT(()=>new Set)),Ep(this,sc,new Set),C$(this,"disposables",jr()),yw(this,Gr,e)}dispose(){this.disposables.dispose()}get state(){return gr(this,Gr)}subscribe(e,n){let r={selector:e,callback:n,current:e(gr(this,Gr))};return gr(this,sc).add(r),this.disposables.add(()=>{gr(this,sc).delete(r)})}on(e,n){return gr(this,rc).get(e).add(n),this.disposables.add(()=>{gr(this,rc).get(e).delete(n)})}send(e){let n=this.reduce(gr(this,Gr),e);if(n!==gr(this,Gr)){yw(this,Gr,n);for(let r of gr(this,sc)){let s=r.selector(gr(this,Gr));TT(r.current,s)||(r.current=s,r.callback(s))}for(let r of gr(this,rc).get(e.type))r(gr(this,Gr),e)}}};Gr=new WeakMap,rc=new WeakMap,sc=new WeakMap;function TT(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:jp(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:jp(t.entries(),e.entries()):vw(t)&&vw(e)?jp(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function jp(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function vw(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function bw(t){let[e,n]=t(),r=jr();return(...s)=>{e(...s),r.dispose(),r.microTask(n)}}var k$=Object.defineProperty,A$=(t,e,n)=>e in t?k$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ww=(t,e,n)=>(A$(t,typeof e!="symbol"?e+"":e,n),n),ST=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(ST||{});let P$={0(t,e){let n=e.id,r=t.stack,s=t.stack.indexOf(n);if(s!==-1){let i=t.stack.slice();return i.splice(s,1),i.push(n),r=i,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let s=t.stack.slice();return s.splice(r,1),{...t,stack:s}}},R$=class IT extends jT{constructor(){super(...arguments),ww(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),ww(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new IT({stack:[]})}reduce(e,n){return Ur(n.type,P$,e,n)}};const um=new NT(()=>R$.new());var CT={exports:{}},kT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=m;function D$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var L$=typeof Object.is=="function"?Object.is:D$,M$=Mu.useSyncExternalStore,O$=Mu.useRef,F$=Mu.useEffect,$$=Mu.useMemo,V$=Mu.useDebugValue;kT.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=O$(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=$$(function(){function c(x){if(!d){if(d=!0,f=x,x=r(x),s!==void 0&&o.hasValue){var _=o.value;if(s(_,x))return h=_}return h=x}if(_=h,L$(f,x))return _;var j=r(x);return s!==void 0&&s(_,j)?(f=x,_):(f=x,h=j)}var d=!1,f,h,p=n===void 0?null:n;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,n,r,s]);var l=M$(t,i[0],i[1]);return F$(function(){o.hasValue=!0,o.value=l},[l]),V$(l),l};CT.exports=kT;var U$=CT.exports;function Lr(t,e,n=TT){return U$.useSyncExternalStoreWithSelector(Se(r=>t.subscribe(z$,r)),Se(()=>t.state),Se(()=>t.state),Se(e),n)}function z$(t){return t}function Ou(t,e){let n=m.useId(),r=um.get(e),[s,i]=Lr(r,m.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return et(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?i?s:!0:!1}let Rg=new Map,jc=new Map;function _w(t){var e;let n=(e=jc.get(t))!=null?e:0;return jc.set(t,n+1),n!==0?()=>Nw(t):(Rg.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Nw(t))}function Nw(t){var e;let n=(e=jc.get(t))!=null?e:1;if(n===1?jc.delete(t):jc.set(t,n-1),n!==1)return;let r=Rg.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Rg.delete(t))}function AT(t,{allowed:e,disallowed:n}={}){let r=Ou(t,"inert-others");et(()=>{var s,i;if(!r)return;let o=jr();for(let c of(s=n==null?void 0:n())!=null?s:[])c&&o.add(_w(c));let l=(i=e==null?void 0:e())!=null?i:[];for(let c of l){if(!c)continue;let d=Ga(c);if(!d)continue;let f=c.parentElement;for(;f&&f!==d.body;){for(let h of f.children)l.some(p=>h.contains(p))||o.add(_w(h));f=f.parentElement}}return o.dispose},[r,e,n])}function PT(t,e,n){let r=Ka(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});m.useEffect(()=>{if(!t)return;let s=e===null?null:ur(e)?e:e.current;if(!s)return;let i=jr();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}return()=>i.dispose()},[e,r,t])}let lh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),B$=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Dr=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Dr||{}),Dg=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Dg||{}),H$=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(H$||{});function RT(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(lh)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function W$(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(B$)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var nv=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(nv||{});function rv(t,e=0){var n;return t===((n=Ga(t))==null?void 0:n.body)?!1:Ur(e,{0(){return t.matches(lh)},1(){let r=t;for(;r!==null;){if(r.matches(lh))return!0;r=r.parentElement}return!1}})}function DT(t){let e=Ga(t);jr().nextFrame(()=>{e&&ns(e.activeElement)&&!rv(e.activeElement,0)&&cs(t)})}var q$=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(q$||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function cs(t){t==null||t.focus({preventScroll:!0})}let G$=["textarea","input"].join(",");function K$(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,G$))!=null?n:!1}function LT(t,e=n=>n){return t.slice().sort((n,r)=>{let s=e(n),i=e(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Q$(t,e){return Uo(RT(),e,{relativeTo:t})}function Uo(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?LT(t):t:e&64?W$(t):RT(t);s.length>0&&o.length>1&&(o=o.filter(x=>!s.some(_=>_!=null&&"current"in _?(_==null?void 0:_.current)===x:_===x))),r=r??i.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=e&32?{preventScroll:!0}:{},f=0,h=o.length,p;do{if(f>=h||f+h<=0)return 0;let x=c+f;if(e&16)x=(x+h)%h;else{if(x<0)return 3;if(x>=h)return 1}p=o[x],p==null||p.focus(d),f+=l}while(p!==i.activeElement);return e&6&&K$(p)&&p.select(),2}function MT(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Y$(){return/Android/gi.test(window.navigator.userAgent)}function Ew(){return MT()||Y$()}function To(t,e,n,r){let s=Ka(n);m.useEffect(()=>{if(!t)return;function i(o){s.current(o)}return document.addEventListener(e,i,r),()=>document.removeEventListener(e,i,r)},[t,e,r])}function OT(t,e,n,r){let s=Ka(n);m.useEffect(()=>{if(!t)return;function i(o){s.current(o)}return window.addEventListener(e,i,r),()=>window.removeEventListener(e,i,r)},[t,e,r])}const jw=30;function FT(t,e,n){let r=Ka(n),s=m.useCallback(function(l,c){if(l.defaultPrevented)return;let d=c(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=function h(p){return typeof p=="function"?h(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let h of f)if(h!==null&&(h.contains(d)||l.composed&&l.composedPath().includes(h)))return;return!rv(d,nv.Loose)&&d.tabIndex!==-1&&l.preventDefault(),r.current(l,d)},[r,e]),i=m.useRef(null);To(t,"pointerdown",l=>{var c,d;Ew()||(i.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target)},!0),To(t,"pointerup",l=>{if(Ew()||!i.current)return;let c=i.current;return i.current=null,s(l,()=>c)},!0);let o=m.useRef({x:0,y:0});To(t,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),To(t,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=jw||Math.abs(c.y-o.current.y)>=jw))return s(l,()=>ns(l.target)?l.target:null)},!0),OT(t,"blur",l=>s(l,()=>c$(window.document.activeElement)?window.document.activeElement:null),!0)}function il(...t){return m.useMemo(()=>Ga(...t),[...t])}var X$=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(X$||{});const Ld={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},J$=200;function Z$(t,{trigger:e,action:n,close:r,select:s}){let i=m.useRef(null);To(t&&e!==null,"pointerdown",o=>{Zy(o==null?void 0:o.target)&&e!=null&&e.contains(o.target)&&(i.current=new Date)}),To(t&&e!==null,"pointerup",o=>{if(i.current===null||!ns(o.target))return;let l=n(o),c=new Date().getTime()-i.current.getTime();switch(i.current=null,l.kind){case 0:return;case 1:{c>J$&&(s(l.target),r());break}case 2:{r();break}}},{capture:!0})}function $T(t,e,n,r){let s=Ka(n);m.useEffect(()=>{t=t??window;function i(o){s.current(o)}return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i,r)},[t,e,r])}function eV(t,e){return m.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function tV(t){return m.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function nV(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let o=e[s].call(n,...i);o&&(n=o,r.forEach(l=>l()))}}}function rV(){let t;return{before({doc:e}){var n;let r=e.documentElement,s=(n=e.defaultView)!=null?n:window;t=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,t-s);n.style(r,"paddingRight",`${i}px`)}}}function sV(){return MT()?{before({doc:t,d:e,meta:n}){function r(s){return n.containers.flatMap(i=>i()).some(i=>i.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=jr();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;e.addEventListener(t,"click",l=>{if(ns(l.target))try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),f=t.querySelector(d);ns(f)&&!r(f)&&(o=f)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(ns(l.target)&&l$(l.target))if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(ns(l.target)){if(xT(l.target))return;if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function iV(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function aV(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let ha=nV(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:jr(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:aV(n)},s=[sV(),rV(),iV()];s.forEach(({before:i})=>i==null?void 0:i(r)),s.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ha.subscribe(()=>{let t=ha.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&ha.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ha.dispatch("TEARDOWN",n)}});function oV(t,e,n=()=>({containers:[]})){let r=tV(ha),s=e?r.get(e):void 0,i=s?s.count>0:!1;return et(()=>{if(!(!e||!t))return ha.dispatch("PUSH",e,n),()=>ha.dispatch("POP",e,n)},[t,e]),i}function VT(t,e,n=()=>[document.body]){let r=Ou(t,"scroll-lock");oV(r,e,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],n]}})}function Tw(t){return[t.screenX,t.screenY]}function lV(){let t=m.useRef([-1,-1]);return{wasMoved(e){let n=Tw(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=Tw(e)}}}function cV(t=0){let[e,n]=m.useState(t),r=m.useCallback(c=>n(c),[e]),s=m.useCallback(c=>n(d=>d|c),[e]),i=m.useCallback(c=>(e&c)===c,[e]),o=m.useCallback(c=>n(d=>d&~c),[n]),l=m.useCallback(c=>n(d=>d^c),[n]);return{flags:e,setFlag:r,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:l}}var uV={},Sw,Iw;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Sw=process==null?void 0:uV)==null?void 0:Sw.NODE_ENV)==="test"&&typeof((Iw=Element==null?void 0:Element.prototype)==null?void 0:Iw.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var dV=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(dV||{});function UT(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function zT(t,e,n,r){let[s,i]=m.useState(n),{hasFlag:o,addFlag:l,removeFlag:c}=cV(t&&s?3:0),d=m.useRef(!1),f=m.useRef(!1),h=yl();return et(()=>{var p;if(t){if(n&&i(!0),!e){n&&l(3);return}return(p=r==null?void 0:r.start)==null||p.call(r,n),fV(e,{inFlight:d,prepare(){f.current?f.current=!1:f.current=d.current,d.current=!0,!f.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){f.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var x;f.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(d.current=!1,c(7),n||i(!1),(x=r==null?void 0:r.end)==null||x.call(r,n))}})}},[t,n,e,h]),t?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function fV(t,{prepare:e,run:n,done:r,inFlight:s}){let i=jr();return mV(t,{prepare:e,inFlight:s}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(hV(t,r))})}),i.dispose}function hV(t,e){var n,r;let s=jr();if(!t)return s.dispose;let i=!1;s.add(()=>{i=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(l=>l instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),s.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{i||e()}),s.dispose)}function mV(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function pV(t,{container:e,accept:n,walk:r}){let s=m.useRef(n),i=m.useRef(r);m.useEffect(()=>{s.current=n,i.current=r},[n,r]),et(()=>{if(!e||!t)return;let o=Ga(e);if(!o)return;let l=s.current,c=i.current,d=Object.assign(h=>l(h),{acceptNode:l}),f=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;f.nextNode();)c(f.currentNode)},[e,t,s,i])}function sv(t,e){let n=m.useRef([]),r=Se(t);m.useEffect(()=>{let s=[...n.current];for(let[i,o]of e.entries())if(n.current[i]!==o){let l=r(e,s);return n.current=e,l}},[r,...e])}function dm(){return typeof window<"u"}function vl(t){return BT(t)?(t.nodeName||"").toLowerCase():"#document"}function lr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ms(t){var e;return(e=(BT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function BT(t){return dm()?t instanceof Node||t instanceof lr(t).Node:!1}function Ln(t){return dm()?t instanceof Element||t instanceof lr(t).Element:!1}function hs(t){return dm()?t instanceof HTMLElement||t instanceof lr(t).HTMLElement:!1}function Cw(t){return!dm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof lr(t).ShadowRoot}function Fu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=zr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function gV(t){return["table","td","th"].includes(vl(t))}function fm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function iv(t){const e=av(),n=Ln(t)?zr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function xV(t){let e=Oi(t);for(;hs(e)&&!al(e);){if(iv(e))return e;if(fm(e))return null;e=Oi(e)}return null}function av(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function al(t){return["html","body","#document"].includes(vl(t))}function zr(t){return lr(t).getComputedStyle(t)}function hm(t){return Ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Oi(t){if(vl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Cw(t)&&t.host||ms(t);return Cw(e)?e.host:e}function HT(t){const e=Oi(t);return al(e)?t.ownerDocument?t.ownerDocument.body:t.body:hs(e)&&Fu(e)?e:HT(e)}function iu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=HT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=lr(s);if(i){const l=Lg(o);return e.concat(o,o.visualViewport||[],Fu(s)?s:[],l&&n?iu(l):[])}return e.concat(s,iu(s,[],n))}function Lg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function yV(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const Ma=Math.min,Nn=Math.max,au=Math.round,Md=Math.floor,us=t=>({x:t,y:t}),vV={left:"right",right:"left",bottom:"top",top:"bottom"},bV={start:"end",end:"start"};function kw(t,e,n){return Nn(t,Ma(e,n))}function bl(t,e){return typeof t=="function"?t(e):t}function Fi(t){return t.split("-")[0]}function $u(t){return t.split("-")[1]}function WT(t){return t==="x"?"y":"x"}function qT(t){return t==="y"?"height":"width"}function Si(t){return["top","bottom"].includes(Fi(t))?"y":"x"}function GT(t){return WT(Si(t))}function wV(t,e,n){n===void 0&&(n=!1);const r=$u(t),s=GT(t),i=qT(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ch(o)),[o,ch(o)]}function _V(t){const e=ch(t);return[Mg(t),e,Mg(e)]}function Mg(t){return t.replace(/start|end/g,e=>bV[e])}function NV(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function EV(t,e,n,r){const s=$u(t);let i=NV(Fi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Mg)))),i}function ch(t){return t.replace(/left|right|bottom|top/g,e=>vV[e])}function jV(t){return{top:0,right:0,bottom:0,left:0,...t}}function TV(t){return typeof t!="number"?jV(t):{top:t,right:t,bottom:t,left:t}}function uh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Aw(t,e,n){let{reference:r,floating:s}=t;const i=Si(e),o=GT(e),l=qT(o),c=Fi(e),d=i==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let x;switch(c){case"top":x={x:f,y:r.y-s.height};break;case"bottom":x={x:f,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-s.width,y:h};break;default:x={x:r.x,y:r.y}}switch($u(e)){case"start":x[o]-=p*(n&&d?-1:1);break;case"end":x[o]+=p*(n&&d?-1:1);break}return x}const SV=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:h}=Aw(d,r,c),p=r,x={},_=0;for(let j=0;j<l.length;j++){const{name:N,fn:w}=l[j],{x:y,y:b,data:S,reset:P}=await w({x:f,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});f=y??f,h=b??h,x={...x,[N]:{...x[N],...S}},P&&_<=50&&(_++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(d=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:f,y:h}=Aw(d,p,c)),j=-1)}return{x:f,y:h,placement:p,strategy:s,middlewareData:x}};async function mm(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:x=0}=bl(e,t),_=TV(x),N=l[p?h==="floating"?"reference":"floating":h],w=uh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(N)))==null||n?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),y=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},P=uh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(w.top-P.top+_.top)/S.y,bottom:(P.bottom-w.bottom+_.bottom)/S.y,left:(w.left-P.left+_.left)/S.x,right:(P.right-w.right+_.right)/S.x}}const IV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:j=!0,...N}=bl(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Fi(s),y=Si(l),b=Fi(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=p||(b||!j?[ch(l)]:_V(l)),O=_!=="none";!p&&O&&P.push(...EV(l,j,_,S));const T=[l,...P],E=await mm(e,N),k=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&k.push(E[w]),h){const pe=wV(s,o,S);k.push(E[pe[0]],E[pe[1]])}if(I=[...I,{placement:s,overflows:k}],!k.every(pe=>pe<=0)){var R,L;const pe=(((R=i.flip)==null?void 0:R.index)||0)+1,ke=T[pe];if(ke){var A;const D=h==="alignment"?y!==Si(ke):!1,V=((A=I[0])==null?void 0:A.overflows[0])>0;if(!D||V)return{data:{index:pe,overflows:I},reset:{placement:ke}}}let ie=(L=I.filter(D=>D.overflows[0]<=0).sort((D,V)=>D.overflows[1]-V.overflows[1])[0])==null?void 0:L.placement;if(!ie)switch(x){case"bestFit":{var me;const D=(me=I.filter(V=>{if(O){const q=Si(V.placement);return q===y||q==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(q=>q>0).reduce((q,ae)=>q+ae,0)]).sort((V,q)=>V[1]-q[1])[0])==null?void 0:me[0];D&&(ie=D);break}case"initialPlacement":ie=l;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};async function CV(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Fi(n),l=$u(n),c=Si(n)==="y",d=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,h=bl(e,t);let{mainAxis:p,crossAxis:x,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof _=="number"&&(x=l==="end"?_*-1:_),c?{x:x*f,y:p*d}:{x:p*d,y:x*f}}const kV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await CV(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},AV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:N=>{let{x:w,y}=N;return{x:w,y}}},...c}=bl(t,e),d={x:n,y:r},f=await mm(e,c),h=Si(Fi(s)),p=WT(h);let x=d[p],_=d[h];if(i){const N=p==="y"?"top":"left",w=p==="y"?"bottom":"right",y=x+f[N],b=x-f[w];x=kw(y,x,b)}if(o){const N=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=_+f[N],b=_-f[w];_=kw(y,_,b)}const j=l.fn({...e,[p]:x,[h]:_});return{...j,data:{x:j.x-n,y:j.y-r,enabled:{[p]:i,[h]:o}}}}}},PV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=bl(t,e),f=await mm(e,d),h=Fi(s),p=$u(s),x=Si(s)==="y",{width:_,height:j}=i.floating;let N,w;h==="top"||h==="bottom"?(N=h,w=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,N=p==="end"?"top":"bottom");const y=j-f.top-f.bottom,b=_-f.left-f.right,S=Ma(j-f[N],y),P=Ma(_-f[w],b),O=!e.middlewareData.shift;let T=S,E=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=y),O&&!p){const I=Nn(f.left,0),R=Nn(f.right,0),L=Nn(f.top,0),A=Nn(f.bottom,0);x?E=_-2*(I!==0||R!==0?I+R:Nn(f.left,f.right)):T=j-2*(L!==0||A!==0?L+A:Nn(f.top,f.bottom))}await c({...e,availableWidth:E,availableHeight:T});const k=await o.getDimensions(l.floating);return _!==k.width||j!==k.height?{reset:{rects:!0}}:{}}}};function KT(t){const e=zr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=hs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=au(n)!==i||au(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function ov(t){return Ln(t)?t:t.contextElement}function zo(t){const e=ov(t);if(!hs(e))return us(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=KT(e);let o=(i?au(n.width):n.width)/r,l=(i?au(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const RV=us(0);function QT(t){const e=lr(t);return!av()||!e.visualViewport?RV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==lr(t)?!1:e}function Oa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ov(t);let o=us(1);e&&(r?Ln(r)&&(o=zo(r)):o=zo(t));const l=DV(i,n,r)?QT(i):us(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const p=lr(i),x=r&&Ln(r)?lr(r):r;let _=p,j=Lg(_);for(;j&&r&&x!==_;){const N=zo(j),w=j.getBoundingClientRect(),y=zr(j),b=w.left+(j.clientLeft+parseFloat(y.paddingLeft))*N.x,S=w.top+(j.clientTop+parseFloat(y.paddingTop))*N.y;c*=N.x,d*=N.y,f*=N.x,h*=N.y,c+=b,d+=S,_=lr(j),j=Lg(_)}}return uh({width:f,height:h,x:c,y:d})}function lv(t,e){const n=hm(t).scrollLeft;return e?e.left+n:Oa(ms(t)).left+n}function YT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:lv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function LV(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ms(r),l=e?fm(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=us(1);const f=us(0),h=hs(r);if((h||!h&&!i)&&((vl(r)!=="body"||Fu(o))&&(c=hm(r)),hs(r))){const x=Oa(r);d=zo(r),f.x=x.x+r.clientLeft,f.y=x.y+r.clientTop}const p=o&&!h&&!i?YT(o,c,!0):us(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+p.x,y:n.y*d.y-c.scrollTop*d.y+f.y+p.y}}function MV(t){return Array.from(t.getClientRects())}function OV(t){const e=ms(t),n=hm(t),r=t.ownerDocument.body,s=Nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+lv(t);const l=-n.scrollTop;return zr(r).direction==="rtl"&&(o+=Nn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function FV(t,e){const n=lr(t),r=ms(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=av();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function $V(t,e){const n=Oa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=hs(t)?zo(t):us(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function Pw(t,e,n){let r;if(e==="viewport")r=FV(t,n);else if(e==="document")r=OV(ms(t));else if(Ln(e))r=$V(e,n);else{const s=QT(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return uh(r)}function XT(t,e){const n=Oi(t);return n===e||!Ln(n)||al(n)?!1:zr(n).position==="fixed"||XT(n,e)}function VV(t,e){const n=e.get(t);if(n)return n;let r=iu(t,[],!1).filter(l=>Ln(l)&&vl(l)!=="body"),s=null;const i=zr(t).position==="fixed";let o=i?Oi(t):t;for(;Ln(o)&&!al(o);){const l=zr(o),c=iv(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Fu(o)&&!c&&XT(t,o))?r=r.filter(f=>f!==o):s=l,o=Oi(o)}return e.set(t,r),r}function UV(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?fm(e)?[]:VV(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,f)=>{const h=Pw(e,f,s);return d.top=Nn(h.top,d.top),d.right=Ma(h.right,d.right),d.bottom=Ma(h.bottom,d.bottom),d.left=Nn(h.left,d.left),d},Pw(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zV(t){const{width:e,height:n}=KT(t);return{width:e,height:n}}function BV(t,e,n){const r=hs(e),s=ms(e),i=n==="fixed",o=Oa(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=us(0);function d(){c.x=lv(s)}if(r||!r&&!i)if((vl(e)!=="body"||Fu(s))&&(l=hm(e)),r){const x=Oa(e,!0,i,e);c.x=x.x+e.clientLeft,c.y=x.y+e.clientTop}else s&&d();i&&!r&&s&&d();const f=s&&!r&&!i?YT(s,l):us(0),h=o.left+l.scrollLeft-c.x-f.x,p=o.top+l.scrollTop-c.y-f.y;return{x:h,y:p,width:o.width,height:o.height}}function Tp(t){return zr(t).position==="static"}function Rw(t,e){if(!hs(t)||zr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ms(t)===n&&(n=n.ownerDocument.body),n}function JT(t,e){const n=lr(t);if(fm(t))return n;if(!hs(t)){let s=Oi(t);for(;s&&!al(s);){if(Ln(s)&&!Tp(s))return s;s=Oi(s)}return n}let r=Rw(t,e);for(;r&&gV(r)&&Tp(r);)r=Rw(r,e);return r&&al(r)&&Tp(r)&&!iv(r)?n:r||xV(t)||n}const HV=async function(t){const e=this.getOffsetParent||JT,n=this.getDimensions,r=await n(t.floating);return{reference:BV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WV(t){return zr(t).direction==="rtl"}const qV={convertOffsetParentRelativeRectToViewportRelativeRect:LV,getDocumentElement:ms,getClippingRect:UV,getOffsetParent:JT,getElementRects:HV,getClientRects:MV,getDimensions:zV,getScale:zo,isElement:Ln,isRTL:WV};function ZT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function GV(t,e){let n=null,r;const s=ms(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:f,top:h,width:p,height:x}=d;if(l||e(),!p||!x)return;const _=Md(h),j=Md(s.clientWidth-(f+p)),N=Md(s.clientHeight-(h+x)),w=Md(f),b={rootMargin:-_+"px "+-j+"px "+-N+"px "+-w+"px",threshold:Nn(0,Ma(1,c))||1};let S=!0;function P(O){const T=O[0].intersectionRatio;if(T!==c){if(!S)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!ZT(d,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(P,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,b)}n.observe(t)}return o(!0),i}function KV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=ov(t),f=s||i?[...d?iu(d):[],...iu(e)]:[];f.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=d&&l?GV(d,n):null;let p=-1,x=null;o&&(x=new ResizeObserver(w=>{let[y]=w;y&&y.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=x)==null||b.observe(e)})),n()}),d&&!c&&x.observe(d),x.observe(e));let _,j=c?Oa(t):null;c&&N();function N(){const w=Oa(t);j&&!ZT(j,w)&&n(),j=w,_=requestAnimationFrame(N)}return n(),()=>{var w;f.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(w=x)==null||w.disconnect(),x=null,c&&cancelAnimationFrame(_)}}const Sp=mm,QV=kV,YV=AV,XV=IV,JV=PV,ZV=(t,e,n)=>{const r=new Map,s={platform:qV,...n},i={...s.platform,_c:r};return SV(t,e,{...s,platform:i})};var lf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function dh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!dh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!dh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function e5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Dw(t,e){const n=e5(t);return Math.round(e*n)/n}function Ip(t){const e=m.useRef(t);return lf(()=>{e.current=t}),e}function eU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,h]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,x]=m.useState(r);dh(p,r)||x(r);const[_,j]=m.useState(null),[N,w]=m.useState(null),y=m.useCallback(D=>{D!==O.current&&(O.current=D,j(D))},[]),b=m.useCallback(D=>{D!==T.current&&(T.current=D,w(D))},[]),S=i||_,P=o||N,O=m.useRef(null),T=m.useRef(null),E=m.useRef(f),k=c!=null,I=Ip(c),R=Ip(s),L=Ip(d),A=m.useCallback(()=>{if(!O.current||!T.current)return;const D={placement:e,strategy:n,middleware:p};R.current&&(D.platform=R.current),ZV(O.current,T.current,D).then(V=>{const q={...V,isPositioned:L.current!==!1};me.current&&!dh(E.current,q)&&(E.current=q,vt.flushSync(()=>{h(q)}))})},[p,e,n,R,L]);lf(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[d]);const me=m.useRef(!1);lf(()=>(me.current=!0,()=>{me.current=!1}),[]),lf(()=>{if(S&&(O.current=S),P&&(T.current=P),S&&P){if(I.current)return I.current(S,P,A);A()}},[S,P,A,I,k]);const pe=m.useMemo(()=>({reference:O,floating:T,setReference:y,setFloating:b}),[y,b]),ke=m.useMemo(()=>({reference:S,floating:P}),[S,P]),ie=m.useMemo(()=>{const D={position:n,left:0,top:0};if(!ke.floating)return D;const V=Dw(ke.floating,f.x),q=Dw(ke.floating,f.y);return l?{...D,transform:"translate("+V+"px, "+q+"px)",...e5(ke.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:q}},[n,l,ke.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:A,refs:pe,elements:ke,floatingStyles:ie}),[f,A,pe,ke,ie])}const t5=(t,e)=>({...QV(t),options:[t,e]}),tU=(t,e)=>({...YV(t),options:[t,e]}),nU=(t,e)=>({...XV(t),options:[t,e]}),rU=(t,e)=>({...JV(t),options:[t,e]}),n5={...cf},sU=n5.useInsertionEffect,iU=sU||(t=>t());function r5(t){const e=m.useRef(()=>{});return iU(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}var Og=typeof document<"u"?m.useLayoutEffect:m.useEffect;let Lw=!1,aU=0;const Mw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+aU++;function oU(){const[t,e]=m.useState(()=>Lw?Mw():void 0);return Og(()=>{t==null&&e(Mw())},[]),m.useEffect(()=>{Lw=!0},[]),t}const lU=n5.useId,cU=lU||oU;function uU(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(s=>s(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(s=>s!==n))||[])}}}const dU=m.createContext(null),fU=m.createContext(null),hU=()=>{var t;return((t=m.useContext(dU))==null?void 0:t.id)||null},mU=()=>m.useContext(fU),pU="data-floating-ui-focusable";function gU(t){const{open:e=!1,onOpenChange:n,elements:r}=t,s=cU(),i=m.useRef({}),[o]=m.useState(()=>uU()),l=hU()!=null,[c,d]=m.useState(r.reference),f=r5((x,_,j)=>{i.current.openEvent=x?_:void 0,o.emit("openchange",{open:x,event:_,reason:j,nested:l}),n==null||n(x,_,j)}),h=m.useMemo(()=>({setPositionReference:d}),[]),p=m.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return m.useMemo(()=>({dataRef:i,open:e,onOpenChange:f,elements:p,events:o,floatingId:s,refs:h}),[e,f,p,o,s,h])}function xU(t){t===void 0&&(t={});const{nodeId:e}=t,n=gU({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,s=r.elements,[i,o]=m.useState(null),[l,c]=m.useState(null),f=(s==null?void 0:s.domReference)||i,h=m.useRef(null),p=mU();Og(()=>{f&&(h.current=f)},[f]);const x=eU({...t,elements:{...s,...l&&{reference:l}}}),_=m.useCallback(b=>{const S=Ln(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;c(S),x.refs.setReference(S)},[x.refs]),j=m.useCallback(b=>{(Ln(b)||b===null)&&(h.current=b,o(b)),(Ln(x.refs.reference.current)||x.refs.reference.current===null||b!==null&&!Ln(b))&&x.refs.setReference(b)},[x.refs]),N=m.useMemo(()=>({...x.refs,setReference:j,setPositionReference:_,domReference:h}),[x.refs,j,_]),w=m.useMemo(()=>({...x.elements,domReference:f}),[x.elements,f]),y=m.useMemo(()=>({...x,...r,refs:N,elements:w,nodeId:e}),[x,N,w,e,r]);return Og(()=>{r.dataRef.current.floatingContext=y;const b=p==null?void 0:p.nodesRef.current.find(S=>S.id===e);b&&(b.context=y)}),m.useMemo(()=>({...x,context:y,refs:N,elements:w}),[x,N,w,y])}const Ow="active",Fw="selected";function Cp(t,e,n){const r=new Map,s=n==="item";let i=t;if(s&&t){const{[Ow]:o,[Fw]:l,...c}=t;i=c}return{...n==="floating"&&{tabIndex:-1,[pU]:""},...i,...e.map(o=>{const l=o?o[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((o,l)=>(l&&Object.entries(l).forEach(c=>{let[d,f]=c;if(!(s&&[Ow,Fw].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof f=="function"){var h;(h=r.get(d))==null||h.push(f),o[d]=function(){for(var p,x=arguments.length,_=new Array(x),j=0;j<x;j++)_[j]=arguments[j];return(p=r.get(d))==null?void 0:p.map(N=>N(..._)).find(N=>N!==void 0)}}}else o[d]=f}),o),{})}}function yU(t){t===void 0&&(t=[]);const e=t.map(l=>l==null?void 0:l.reference),n=t.map(l=>l==null?void 0:l.floating),r=t.map(l=>l==null?void 0:l.item),s=m.useCallback(l=>Cp(l,t,"reference"),e),i=m.useCallback(l=>Cp(l,t,"floating"),n),o=m.useCallback(l=>Cp(l,t,"item"),r);return m.useMemo(()=>({getReferenceProps:s,getFloatingProps:i,getItemProps:o}),[s,i,o])}function $w(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const vU=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:s,offset:i=0,index:o=0,minItemsVisible:l=4,referenceOverflowThreshold:c=0,scrollRef:d,...f}=bl(t,e),{rects:h,elements:{floating:p}}=e,x=n.current[o],_=(d==null?void 0:d.current)||p,j=p.clientTop||_.clientTop,N=p.clientTop!==0,w=_.clientTop!==0,y=p===_;if(!x)return{};const b={...e,...await t5(-x.offsetTop-p.clientTop-h.reference.height/2-x.offsetHeight/2-i).fn(e)},S=await Sp($w(b,_.scrollHeight+j+p.clientTop),f),P=await Sp(b,{...f,elementContext:"reference"}),O=Nn(0,S.top),T=b.y+O,I=(_.scrollHeight>_.clientHeight?R=>R:au)(Nn(0,_.scrollHeight+(N&&y||w?j*2:0)-O-Nn(0,S.bottom)));if(_.style.maxHeight=I+"px",_.scrollTop=O,s){const R=_.offsetHeight<x.offsetHeight*Ma(l,n.current.length)-1||P.top>=-c||P.bottom>=-c;vt.flushSync(()=>s(R))}return r&&(r.current=await Sp($w({...b,y:T},_.offsetHeight+j+p.clientTop),f)),{y:T}}});function bU(t,e){const{open:n,elements:r}=t,{enabled:s=!0,overflowRef:i,scrollRef:o,onChange:l}=e,c=r5(l),d=m.useRef(!1),f=m.useRef(null),h=m.useRef(null);m.useEffect(()=>{if(!s)return;function x(j){if(j.ctrlKey||!_||i.current==null)return;const N=j.deltaY,w=i.current.top>=-.5,y=i.current.bottom>=-.5,b=_.scrollHeight-_.clientHeight,S=N<0?-1:1,P=N<0?"max":"min";_.scrollHeight<=_.clientHeight||(!w&&N>0||!y&&N<0?(j.preventDefault(),vt.flushSync(()=>{c(O=>O+Math[P](N,b*S))})):/firefox/i.test(yV())&&(_.scrollTop+=N))}const _=(o==null?void 0:o.current)||r.floating;if(n&&_)return _.addEventListener("wheel",x),requestAnimationFrame(()=>{f.current=_.scrollTop,i.current!=null&&(h.current={...i.current})}),()=>{f.current=null,h.current=null,_.removeEventListener("wheel",x)}},[s,n,r.floating,i,o,c]);const p=m.useMemo(()=>({onKeyDown(){d.current=!0},onWheel(){d.current=!1},onPointerMove(){d.current=!1},onScroll(){const x=(o==null?void 0:o.current)||r.floating;if(!(!i.current||!x||!d.current)){if(f.current!==null){const _=x.scrollTop-f.current;(i.current.bottom<-.5&&_<-1||i.current.top<-.5&&_>1)&&vt.flushSync(()=>c(j=>j+_))}requestAnimationFrame(()=>{f.current=x.scrollTop})}}}),[r.floating,c,i,o]);return m.useMemo(()=>s?{floating:p}:{},[s,p])}let wl=m.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});wl.displayName="FloatingContext";let cv=m.createContext(null);cv.displayName="PlacementContext";function wU(t){return m.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function _U(){return m.useContext(wl).setReference}function NU(){return m.useContext(wl).getReferenceProps}function EU(){let{getFloatingProps:t,slot:e}=m.useContext(wl);return m.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function jU(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=m.useContext(cv),n=m.useMemo(()=>t,[JSON.stringify(t,(s,i)=>{var o;return(o=i==null?void 0:i.outerHTML)!=null?o:i})]);et(()=>{e==null||e(n??null)},[e,n]);let r=m.useContext(wl);return m.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let Vw=4;function TU({children:t,enabled:e=!0}){let[n,r]=m.useState(null),[s,i]=m.useState(0),o=m.useRef(null),[l,c]=m.useState(null);SU(l);let d=e&&n!==null&&l!==null,{to:f="bottom",gap:h=0,offset:p=0,padding:x=0,inner:_}=IU(n,l),[j,N="center"]=f.split(" ");et(()=>{d&&i(0)},[d]);let{refs:w,floatingStyles:y,context:b}=xU({open:d,placement:j==="selection"?N==="center"?"bottom":`bottom-${N}`:N==="center"?`${j}`:`${j}-${N}`,strategy:"absolute",transform:!1,middleware:[t5({mainAxis:j==="selection"?0:h,crossAxis:p}),tU({padding:x}),j!=="selection"&&nU({padding:x}),j==="selection"&&_?vU({..._,padding:x,overflowRef:o,offset:s,minItemsVisible:Vw,referenceOverflowThreshold:x,onFallbackChange(R){var L,A;if(!R)return;let me=b.elements.floating;if(!me)return;let pe=parseFloat(getComputedStyle(me).scrollPaddingBottom)||0,ke=Math.min(Vw,me.childElementCount),ie=0,D=0;for(let V of(A=(L=b.elements.floating)==null?void 0:L.childNodes)!=null?A:[])if(ur(V)){let q=V.offsetTop,ae=q+V.clientHeight+pe,Z=me.scrollTop,Q=Z+me.clientHeight;if(q>=Z&&ae<=Q)ke--;else{D=Math.max(0,Math.min(ae,Q)-Math.max(q,Z)),ie=V.clientHeight;break}}ke>=1&&i(V=>{let q=ie*ke-D+pe;return V>=q?V:q})}}):null,rU({padding:x,apply({availableWidth:R,availableHeight:L,elements:A}){Object.assign(A.floating.style,{overflow:"auto",maxWidth:`${R}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${L}px)`})}})].filter(Boolean),whileElementsMounted:KV}),[S=j,P=N]=b.placement.split("-");j==="selection"&&(S="selection");let O=m.useMemo(()=>({anchor:[S,P].filter(Boolean).join(" ")}),[S,P]),T=bU(b,{overflowRef:o,onChange:i}),{getReferenceProps:E,getFloatingProps:k}=yU([T]),I=Se(R=>{c(R),w.setFloating(R)});return m.createElement(cv.Provider,{value:r},m.createElement(wl.Provider,{value:{setFloating:I,setReference:w.setReference,styles:y,getReferenceProps:E,getFloatingProps:k,slot:O}},t))}function SU(t){et(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let s=parseInt(n);isNaN(s)||r!==s&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function IU(t,e){var n,r,s;let i=kp((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=kp((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),l=kp((s=t==null?void 0:t.padding)!=null?s:"var(--anchor-padding, 0)",e);return{...t,gap:i,offset:o,padding:l}}function kp(t,e,n=void 0){let r=yl(),s=Se((c,d)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!d)return[n,null];let f=Uw(c,d);return[f,h=>{let p=s5(c);{let x=p.map(_=>window.getComputedStyle(d).getPropertyValue(_));r.requestAnimationFrame(function _(){r.nextFrame(_);let j=!1;for(let[w,y]of p.entries()){let b=window.getComputedStyle(d).getPropertyValue(y);if(x[w]!==b){x[w]=b,j=!0;break}}if(!j)return;let N=Uw(c,d);f!==N&&(h(N),f=N)})}return r.dispose}]}return[n,null]}),i=m.useMemo(()=>s(t,e)[0],[t,e]),[o=i,l]=m.useState();return et(()=>{let[c,d]=s(t,e);if(l(c),!!d)return d(l)},[t,e]),o}function s5(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),s=e[1].slice(n+1).trim();return s?[r,...s5(s)]:[r]}return[]}function Uw(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let pm=m.createContext(null);pm.displayName="OpenClosedContext";var Mn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Mn||{});function Vu(){return m.useContext(pm)}function i5({value:t,children:e}){return te.createElement(pm.Provider,{value:t},e)}function CU({children:t}){return te.createElement(pm.Provider,{value:null},t)}function kU(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let ai=[];kU(()=>{function t(e){if(!ns(e.target)||e.target===document.body||ai[0]===e.target)return;let n=e.target;n=n.closest(lh),ai.unshift(n??e.target),ai=ai.filter(r=>r!=null&&r.isConnected),ai.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function AU(t){throw new Error("Unexpected object: "+t)}var Ot=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Ot||{});function Od(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),s=r??-1;switch(t.focus){case 0:{for(let i=0;i<n.length;++i)if(!e.resolveDisabled(n[i],i,n))return i;return r}case 1:{s===-1&&(s=n.length);for(let i=s-1;i>=0;--i)if(!e.resolveDisabled(n[i],i,n))return i;return r}case 2:{for(let i=s+1;i<n.length;++i)if(!e.resolveDisabled(n[i],i,n))return i;return r}case 3:{for(let i=n.length-1;i>=0;--i)if(!e.resolveDisabled(n[i],i,n))return i;return r}case 4:{for(let i=0;i<n.length;++i)if(e.resolveId(n[i],i,n)===t.id)return i;return r}case 5:return null;default:AU(t)}}function uv(t){let e=Se(t),n=m.useRef(!1);m.useEffect(()=>(n.current=!1,()=>{n.current=!0,lm(()=>{n.current&&e()})}),[e])}function PU(){let t=typeof document>"u";return"useSyncExternalStore"in cf?(e=>e.useSyncExternalStore)(cf)(()=>()=>{},()=>!1,()=>!t):!1}function Uu(){let t=PU(),[e,n]=m.useState(ba.isHandoffComplete);return e&&ba.isHandoffComplete===!1&&n(!1),m.useEffect(()=>{e!==!0&&n(!0)},[e]),m.useEffect(()=>ba.handoff(),[]),t?!1:e}let a5=m.createContext(!1);function RU(){return m.useContext(a5)}function zw(t){return te.createElement(a5.Provider,{value:t.force},t.children)}function DU(t){let e=RU(),n=m.useContext(l5),[r,s]=m.useState(()=>{var i;if(!e&&n!==null)return(i=n.current)!=null?i:null;if(ba.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let l=t.createElement("div");return l.setAttribute("id","headlessui-portal-root"),t.body.appendChild(l)});return m.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),m.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),r}let o5=m.Fragment,LU=Rt(function(t,e){let{ownerDocument:n=null,...r}=t,s=m.useRef(null),i=zn(m$(x=>{s.current=x}),e),o=il(s),l=n??o,c=DU(l),[d]=m.useState(()=>{var x;return ba.isServer?null:(x=l==null?void 0:l.createElement("div"))!=null?x:null}),f=m.useContext(Fg),h=Uu();et(()=>{!c||!d||c.contains(d)||(d.setAttribute("data-headlessui-portal",""),c.appendChild(d))},[c,d]),et(()=>{if(d&&f)return f.register(d)},[f,d]),uv(()=>{var x;!c||!d||(Zy(d)&&c.contains(d)&&c.removeChild(d),c.childNodes.length<=0&&((x=c.parentElement)==null||x.removeChild(c)))});let p=Ht();return h?!c||!d?null:vt.createPortal(p({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:o5,name:"Portal"}),d):null});function MU(t,e){let n=zn(e),{enabled:r=!0,ownerDocument:s,...i}=t,o=Ht();return r?te.createElement(LU,{...i,ownerDocument:s,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:o5,name:"Portal"})}let OU=m.Fragment,l5=m.createContext(null);function FU(t,e){let{target:n,...r}=t,s={ref:zn(e)},i=Ht();return te.createElement(l5.Provider,{value:n},i({ourProps:s,theirProps:r,defaultTag:OU,name:"Popover.Group"}))}let Fg=m.createContext(null);function $U(){let t=m.useContext(Fg),e=m.useRef([]),n=Se(i=>(e.current.push(i),t&&t.register(i),()=>r(i))),r=Se(i=>{let o=e.current.indexOf(i);o!==-1&&e.current.splice(o,1),t&&t.unregister(i)}),s=m.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,m.useMemo(()=>function({children:i}){return te.createElement(Fg.Provider,{value:s},i)},[s])]}let VU=Rt(MU),c5=Rt(FU),u5=Object.assign(VU,{Group:c5});function UU(t,e=typeof document<"u"?document.defaultView:null,n){let r=Ou(t,"escape");$T(e,"keydown",s=>{r&&(s.defaultPrevented||s.key===Zt.Escape&&n(s))})}function zU(){var t;let[e]=m.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=m.useState((t=e==null?void 0:e.matches)!=null?t:!1);return et(()=>{if(!e)return;function s(i){r(i.matches)}return e.addEventListener("change",s),()=>e.removeEventListener("change",s)},[e]),n}function BU({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=il(n),s=Se(()=>{var i,o;let l=[];for(let c of t)c!==null&&(Is(c)?l.push(c):"current"in c&&Is(c.current)&&l.push(c.current));if(e!=null&&e.current)for(let c of e.current)l.push(c);for(let c of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&Is(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||l.some(d=>c.contains(d))||l.push(c));return l});return{resolveContainers:s,contains:Se(i=>s().some(o=>o.contains(i)))}}let d5=m.createContext(null);function Bw({children:t,node:e}){let[n,r]=m.useState(null),s=f5(e??n);return te.createElement(d5.Provider,{value:s},t,s===null&&te.createElement(Pg,{features:oh.Hidden,ref:i=>{var o,l;if(i){for(let c of(l=(o=Ga(i))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&Is(c)&&c!=null&&c.contains(i)){r(c);break}}}}))}function f5(t=null){var e;return(e=m.useContext(d5))!=null?e:t}function dv(){let t=m.useRef(!1);return et(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var ic=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(ic||{});function HU(){let t=m.useRef(0);return OT(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function h5(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Is(n.current)&&e.add(n.current);return e}let WU="div";var aa=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(aa||{});function qU(t,e){let n=m.useRef(null),r=zn(n,e),{initialFocus:s,initialFocusFallback:i,containers:o,features:l=15,...c}=t;Uu()||(l=0);let d=il(n);YU(l,{ownerDocument:d});let f=XU(l,{ownerDocument:d,container:n,initialFocus:s,initialFocusFallback:i});JU(l,{ownerDocument:d,container:n,containers:o,previousActiveElement:f});let h=HU(),p=Se(y=>{if(!ur(n.current))return;let b=n.current;(S=>S())(()=>{Ur(h.current,{[ic.Forwards]:()=>{Uo(b,Dr.First,{skipElements:[y.relatedTarget,i]})},[ic.Backwards]:()=>{Uo(b,Dr.Last,{skipElements:[y.relatedTarget,i]})}})})}),x=Ou(!!(l&2),"focus-trap#tab-lock"),_=yl(),j=m.useRef(!1),N={ref:r,onKeyDown(y){y.key=="Tab"&&(j.current=!0,_.requestAnimationFrame(()=>{j.current=!1}))},onBlur(y){if(!(l&4))return;let b=h5(o);ur(n.current)&&b.add(n.current);let S=y.relatedTarget;ns(S)&&S.dataset.headlessuiFocusGuard!=="true"&&(m5(b,S)||(j.current?Uo(n.current,Ur(h.current,{[ic.Forwards]:()=>Dr.Next,[ic.Backwards]:()=>Dr.Previous})|Dr.WrapAround,{relativeTo:y.target}):ns(y.target)&&cs(y.target)))}},w=Ht();return te.createElement(te.Fragment,null,x&&te.createElement(Pg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:oh.Focusable}),w({ourProps:N,theirProps:c,defaultTag:WU,name:"FocusTrap"}),x&&te.createElement(Pg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:oh.Focusable}))}let GU=Rt(qU),KU=Object.assign(GU,{features:aa});function QU(t=!0){let e=m.useRef(ai.slice());return sv(([n],[r])=>{r===!0&&n===!1&&lm(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=ai.slice())},[t,ai,e]),Se(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function YU(t,{ownerDocument:e}){let n=!!(t&8),r=QU(n);sv(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&cs(r())},[n]),uv(()=>{n&&cs(r())})}function XU(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:s}){let i=m.useRef(null),o=Ou(!!(t&1),"focus-trap#initial-focus"),l=dv();return sv(()=>{if(t===0)return;if(!o){s!=null&&s.current&&cs(s.current);return}let c=n.current;c&&lm(()=>{if(!l.current)return;let d=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===d){i.current=d;return}}else if(c.contains(d)){i.current=d;return}if(r!=null&&r.current)cs(r.current);else{if(t&16){if(Uo(c,Dr.First|Dr.AutoFocus)!==Dg.Error)return}else if(Uo(c,Dr.First)!==Dg.Error)return;if(s!=null&&s.current&&(cs(s.current),(e==null?void 0:e.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=e==null?void 0:e.activeElement})},[s,o,t]),i}function JU(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:s}){let i=dv(),o=!!(t&4);$T(e==null?void 0:e.defaultView,"focus",l=>{if(!o||!i.current)return;let c=h5(r);ur(n.current)&&c.add(n.current);let d=s.current;if(!d)return;let f=l.target;ur(f)?m5(c,f)?(s.current=f,cs(f)):(l.preventDefault(),l.stopPropagation(),cs(d)):cs(s.current)},!0)}function m5(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function p5(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:x5)!==m.Fragment||te.Children.count(t.children)===1}let gm=m.createContext(null);gm.displayName="TransitionContext";var ZU=(t=>(t.Visible="visible",t.Hidden="hidden",t))(ZU||{});function ez(){let t=m.useContext(gm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function tz(){let t=m.useContext(xm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let xm=m.createContext(null);xm.displayName="NestingContext";function ym(t){return"children"in t?ym(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function g5(t,e){let n=Ka(t),r=m.useRef([]),s=dv(),i=yl(),o=Se((x,_=di.Hidden)=>{let j=r.current.findIndex(({el:N})=>N===x);j!==-1&&(Ur(_,{[di.Unmount](){r.current.splice(j,1)},[di.Hidden](){r.current[j].state="hidden"}}),i.microTask(()=>{var N;!ym(r)&&s.current&&((N=n.current)==null||N.call(n))}))}),l=Se(x=>{let _=r.current.find(({el:j})=>j===x);return _?_.state!=="visible"&&(_.state="visible"):r.current.push({el:x,state:"visible"}),()=>o(x,di.Unmount)}),c=m.useRef([]),d=m.useRef(Promise.resolve()),f=m.useRef({enter:[],leave:[]}),h=Se((x,_,j)=>{c.current.splice(0),e&&(e.chains.current[_]=e.chains.current[_].filter(([N])=>N!==x)),e==null||e.chains.current[_].push([x,new Promise(N=>{c.current.push(N)})]),e==null||e.chains.current[_].push([x,new Promise(N=>{Promise.all(f.current[_].map(([w,y])=>y)).then(()=>N())})]),_==="enter"?d.current=d.current.then(()=>e==null?void 0:e.wait.current).then(()=>j(_)):j(_)}),p=Se((x,_,j)=>{Promise.all(f.current[_].splice(0).map(([N,w])=>w)).then(()=>{var N;(N=c.current.shift())==null||N()}).then(()=>j(_))});return m.useMemo(()=>({children:r,register:l,unregister:o,onStart:h,onStop:p,wait:d,chains:f}),[l,o,r,h,p,f,d])}let x5=m.Fragment,y5=sl.RenderStrategy;function nz(t,e){var n,r;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:l,afterLeave:c,enter:d,enterFrom:f,enterTo:h,entered:p,leave:x,leaveFrom:_,leaveTo:j,...N}=t,[w,y]=m.useState(null),b=m.useRef(null),S=p5(t),P=zn(...S?[b,e,y]:e===null?[]:[e]),O=(n=N.unmount)==null||n?di.Unmount:di.Hidden,{show:T,appear:E,initial:k}=ez(),[I,R]=m.useState(T?"visible":"hidden"),L=tz(),{register:A,unregister:me}=L;et(()=>A(b),[A,b]),et(()=>{if(O===di.Hidden&&b.current){if(T&&I!=="visible"){R("visible");return}return Ur(I,{hidden:()=>me(b),visible:()=>A(b)})}},[I,b,A,me,T,O]);let pe=Uu();et(()=>{if(S&&pe&&I==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,I,pe,S]);let ke=k&&!E,ie=E&&T&&k,D=m.useRef(!1),V=g5(()=>{D.current||(R("hidden"),me(b))},L),q=Se(tt=>{D.current=!0;let bt=tt?"enter":"leave";V.onStart(b,bt,Xt=>{Xt==="enter"?i==null||i():Xt==="leave"&&(l==null||l())})}),ae=Se(tt=>{let bt=tt?"enter":"leave";D.current=!1,V.onStop(b,bt,Xt=>{Xt==="enter"?o==null||o():Xt==="leave"&&(c==null||c())}),bt==="leave"&&!ym(V)&&(R("hidden"),me(b))});m.useEffect(()=>{S&&s||(q(T),ae(T))},[T,S,s]);let Z=!(!s||!S||!pe||ke),[,Q]=zT(Z,w,T,{start:q,end:ae}),ve=ia({ref:P,className:((r=Ag(N.className,ie&&d,ie&&f,Q.enter&&d,Q.enter&&Q.closed&&f,Q.enter&&!Q.closed&&h,Q.leave&&x,Q.leave&&!Q.closed&&_,Q.leave&&Q.closed&&j,!Q.transition&&T&&p))==null?void 0:r.trim())||void 0,...UT(Q)}),Ve=0;I==="visible"&&(Ve|=Mn.Open),I==="hidden"&&(Ve|=Mn.Closed),T&&I==="hidden"&&(Ve|=Mn.Opening),!T&&I==="visible"&&(Ve|=Mn.Closing);let Ge=Ht();return te.createElement(xm.Provider,{value:V},te.createElement(i5,{value:Ve},Ge({ourProps:ve,theirProps:N,defaultTag:x5,features:y5,visible:I==="visible",name:"Transition.Child"})))}function rz(t,e){let{show:n,appear:r=!1,unmount:s=!0,...i}=t,o=m.useRef(null),l=p5(t),c=zn(...l?[o,e]:e===null?[]:[e]);Uu();let d=Vu();if(n===void 0&&d!==null&&(n=(d&Mn.Open)===Mn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,h]=m.useState(n?"visible":"hidden"),p=g5(()=>{n||h("hidden")}),[x,_]=m.useState(!0),j=m.useRef([n]);et(()=>{x!==!1&&j.current[j.current.length-1]!==n&&(j.current.push(n),_(!1))},[j,n]);let N=m.useMemo(()=>({show:n,appear:r,initial:x}),[n,r,x]);et(()=>{n?h("visible"):!ym(p)&&o.current!==null&&h("hidden")},[n,p]);let w={unmount:s},y=Se(()=>{var P;x&&_(!1),(P=t.beforeEnter)==null||P.call(t)}),b=Se(()=>{var P;x&&_(!1),(P=t.beforeLeave)==null||P.call(t)}),S=Ht();return te.createElement(xm.Provider,{value:p},te.createElement(gm.Provider,{value:N},S({ourProps:{...w,as:m.Fragment,children:te.createElement(v5,{ref:c,...w,...i,beforeEnter:y,beforeLeave:b})},theirProps:{},defaultTag:m.Fragment,features:y5,visible:f==="visible",name:"Transition"})))}function sz(t,e){let n=m.useContext(gm)!==null,r=Vu()!==null;return te.createElement(te.Fragment,null,!n&&r?te.createElement($g,{ref:e,...t}):te.createElement(v5,{ref:e,...t}))}let $g=Rt(rz),v5=Rt(nz),fv=Rt(sz),tr=Object.assign($g,{Child:fv,Root:$g});var iz=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(iz||{}),az=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(az||{});let oz={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},hv=m.createContext(null);hv.displayName="DialogContext";function vm(t){let e=m.useContext(hv);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,vm),n}return e}function lz(t,e){return Ur(e.type,oz,t,e)}let Hw=Rt(function(t,e){let n=m.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:o,role:l="dialog",autoFocus:c=!0,__demoMode:d=!1,unmount:f=!1,...h}=t,p=m.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(p.current||(p.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let x=Vu();s===void 0&&x!==null&&(s=(x&Mn.Open)===Mn.Open);let _=m.useRef(null),j=zn(_,e),N=il(_),w=s?0:1,[y,b]=m.useReducer(lz,{titleId:null,descriptionId:null,panelRef:m.createRef()}),S=Se(()=>i(!1)),P=Se(Q=>b({type:0,id:Q})),O=Uu()?w===0:!1,[T,E]=$U(),k={get current(){var Q;return(Q=y.panelRef.current)!=null?Q:_.current}},I=f5(),{resolveContainers:R}=BU({mainTreeNode:I,portals:T,defaultContainers:[k]}),L=x!==null?(x&Mn.Closing)===Mn.Closing:!1;AT(d||L?!1:O,{allowed:Se(()=>{var Q,ve;return[(ve=(Q=_.current)==null?void 0:Q.closest("[data-headlessui-portal]"))!=null?ve:null]}),disallowed:Se(()=>{var Q;return[(Q=I==null?void 0:I.closest("body > *:not(#headlessui-portal-root)"))!=null?Q:null]})});let A=um.get(null);et(()=>{if(O)return A.actions.push(r),()=>A.actions.pop(r)},[A,r,O]);let me=Lr(A,m.useCallback(Q=>A.selectors.isTop(Q,r),[A,r]));FT(me,R,Q=>{Q.preventDefault(),S()}),UU(me,N==null?void 0:N.defaultView,Q=>{Q.preventDefault(),Q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),S()}),VT(d||L?!1:O,N,R),PT(O,_,S);let[pe,ke]=wT(),ie=m.useMemo(()=>[{dialogState:w,close:S,setTitleId:P,unmount:f},y],[w,y,S,P,f]),D=m.useMemo(()=>({open:w===0}),[w]),V={ref:j,id:r,role:l,tabIndex:-1,"aria-modal":d?void 0:w===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":pe,unmount:f},q=!zU(),ae=aa.None;O&&!d&&(ae|=aa.RestoreFocus,ae|=aa.TabLock,c&&(ae|=aa.AutoFocus),q&&(ae|=aa.InitialFocus));let Z=Ht();return te.createElement(CU,null,te.createElement(zw,{force:!0},te.createElement(u5,null,te.createElement(hv.Provider,{value:ie},te.createElement(c5,{target:_},te.createElement(zw,{force:!1},te.createElement(ke,{slot:D},te.createElement(E,null,te.createElement(KU,{initialFocus:o,initialFocusFallback:_,containers:R,features:ae},te.createElement(E$,{value:S},Z({ourProps:V,theirProps:h,slot:D,defaultTag:cz,features:uz,visible:w===0,name:"Dialog"})))))))))))}),cz="div",uz=sl.RenderStrategy|sl.Static;function dz(t,e){let{transition:n=!1,open:r,...s}=t,i=Vu(),o=t.hasOwnProperty("open")||i!==null,l=t.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!s.static?te.createElement(Bw,null,te.createElement(tr,{show:r,transition:n,unmount:s.unmount},te.createElement(Hw,{ref:e,...s}))):te.createElement(Bw,null,te.createElement(Hw,{ref:e,open:r,...s}))}let fz="div";function hz(t,e){let n=m.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...i}=t,[{dialogState:o,unmount:l},c]=vm("Dialog.Panel"),d=zn(e,c.panelRef),f=m.useMemo(()=>({open:o===0}),[o]),h=Se(N=>{N.stopPropagation()}),p={ref:d,id:r,onClick:h},x=s?fv:m.Fragment,_=s?{unmount:l}:{},j=Ht();return te.createElement(x,{..._},j({ourProps:p,theirProps:i,slot:f,defaultTag:fz,name:"Dialog.Panel"}))}let mz="div";function pz(t,e){let{transition:n=!1,...r}=t,[{dialogState:s,unmount:i}]=vm("Dialog.Backdrop"),o=m.useMemo(()=>({open:s===0}),[s]),l={ref:e,"aria-hidden":!0},c=n?fv:m.Fragment,d=n?{unmount:i}:{},f=Ht();return te.createElement(c,{...d},f({ourProps:l,theirProps:r,slot:o,defaultTag:mz,name:"Dialog.Backdrop"}))}let gz="h2";function xz(t,e){let n=m.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=t,[{dialogState:i,setTitleId:o}]=vm("Dialog.Title"),l=zn(e);m.useEffect(()=>(o(r),()=>o(null)),[r,o]);let c=m.useMemo(()=>({open:i===0}),[i]),d={ref:l,id:r};return Ht()({ourProps:d,theirProps:s,slot:c,defaultTag:gz,name:"Dialog.Title"})}let yz=Rt(dz),vz=Rt(hz);Rt(pz);let bz=Rt(xz),Ap=Object.assign(yz,{Panel:vz,Title:bz,Description:y$});function wz(t,e){let n=m.useRef({left:0,top:0});if(et(()=>{if(!e)return;let s=e.getBoundingClientRect();s&&(n.current=s)},[t,e]),e==null||!t||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let Ww=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function qw(t){var e,n;let r=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!ur(s))return r;let i=!1;for(let l of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),i=!0;let o=i?(n=s.innerText)!=null?n:"":r;return Ww.test(o)&&(o=o.replace(Ww,"")),o}function _z(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(s=>{let i=document.getElementById(s);if(i){let o=i.getAttribute("aria-label");return typeof o=="string"?o.trim():qw(i).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return qw(t).trim()}function Nz(t){let e=m.useRef(""),n=m.useRef("");return Se(()=>{let r=t.current;if(!r)return"";let s=r.innerText;if(e.current===s)return n.current;let i=_z(r).trim().toLowerCase();return e.current=s,n.current=i,i})}var Ez=Object.defineProperty,jz=(t,e,n)=>e in t?Ez(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gw=(t,e,n)=>(jz(t,typeof e!="symbol"?e+"":e,n),n),ln=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(ln||{}),fh=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(fh||{}),Ze=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t))(Ze||{});function Kw(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=LT(e(t.items.slice()),i=>i.dataRef.current.domRef.current),s=n?r.indexOf(n):null;return s===-1&&(s=null),{items:r,activeItemIndex:s}}let Tz={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,pendingFocus:{focus:Ot.Nothing},menuState:1}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0}},2:(t,e)=>{var n,r,s,i,o;if(t.menuState===1)return t;let l={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===Ot.Nothing)return{...l,activeItemIndex:null};if(e.focus===Ot.Specific)return{...l,activeItemIndex:t.items.findIndex(f=>f.id===e.id)};if(e.focus===Ot.Previous){let f=t.activeItemIndex;if(f!==null){let h=t.items[f].dataRef.current.domRef,p=Od(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.current.disabled});if(p!==null){let x=t.items[p].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===x.current||((s=x.current)==null?void 0:s.previousElementSibling)===null)return{...l,activeItemIndex:p}}}}else if(e.focus===Ot.Next){let f=t.activeItemIndex;if(f!==null){let h=t.items[f].dataRef.current.domRef,p=Od(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.current.disabled});if(p!==null){let x=t.items[p].dataRef.current.domRef;if(((i=h.current)==null?void 0:i.nextElementSibling)===x.current||((o=x.current)==null?void 0:o.nextElementSibling)===null)return{...l,activeItemIndex:p}}}}let c=Kw(t),d=Od(e,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...l,...c,activeItemIndex:d}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),s=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var l;return((l=o.dataRef.current.textValue)==null?void 0:l.startsWith(r))&&!o.dataRef.current.disabled}),i=s?t.items.indexOf(s):-1;return i===-1||i===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:i,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=t.items.concat(e.items.map(s=>s)),r=t.activeItemIndex;return t.pendingFocus.focus!==Ot.Nothing&&(r=Od(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled})),{...t,items:n,activeItemIndex:r,pendingFocus:{focus:Ot.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.items,r=[],s=new Set(e.items);for(let[i,o]of n.entries())if(s.has(o.id)&&(r.push(i),s.delete(o.id),s.size===0))break;if(r.length>0){n=n.slice();for(let i of r.reverse())n.splice(i,1)}return{...t,items:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...Kw(t),pendingShouldSort:!1}:t};class mv extends jT{constructor(e){super(e),Gw(this,"actions",{registerItem:bw(()=>{let n=[],r=new Set;return[(s,i)=>{r.has(i)||(r.add(i),n.push({id:s,dataRef:i}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:bw(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),Gw(this,"selectors",{activeDescendantId(n){var r;let s=n.activeItemIndex,i=n.items;return s===null||(r=i[s])==null?void 0:r.id},isActive(n,r){var s;let i=n.activeItemIndex,o=n.items;return i!==null?((s=o[i])==null?void 0:s.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=um.get(null);this.disposables.add(r.on(ST.Push,s=>{!r.selectors.isTop(s,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:e,__demoMode:n=!1}){return new mv({id:e,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Ot.Nothing}})}reduce(e,n){return Ur(n.type,Tz,e,n)}}const b5=m.createContext(null);function pv(t){let e=m.useContext(b5);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,w5),n}return e}function w5({id:t,__demoMode:e=!1}){let n=m.useMemo(()=>mv.new({id:t,__demoMode:e}),[]);return uv(()=>n.dispose()),n}let Sz=m.Fragment;function Iz(t,e){let n=m.useId(),{__demoMode:r=!1,...s}=t,i=w5({id:n,__demoMode:r}),[o,l,c]=Lr(i,N=>[N.menuState,N.itemsElement,N.buttonElement]),d=zn(e),f=um.get(null),h=Lr(f,m.useCallback(N=>f.selectors.isTop(N,n),[f,n]));FT(h,[c,l],(N,w)=>{var y;i.send({type:Ze.CloseMenu}),rv(w,nv.Loose)||(N.preventDefault(),(y=i.state.buttonElement)==null||y.focus())});let p=Se(()=>{i.send({type:Ze.CloseMenu})}),x=m.useMemo(()=>({open:o===ln.Open,close:p}),[o,p]),_={ref:d},j=Ht();return te.createElement(TU,null,te.createElement(b5.Provider,{value:i},te.createElement(i5,{value:Ur(o,{[ln.Open]:Mn.Open,[ln.Closed]:Mn.Closed})},j({ourProps:_,theirProps:s,slot:x,defaultTag:Sz,name:"Menu"}))))}let Cz="button";function kz(t,e){let n=pv("Menu.Button"),r=m.useId(),{id:s=`headlessui-menu-button-${r}`,disabled:i=!1,autoFocus:o=!1,...l}=t,c=m.useRef(null),d=NU(),f=zn(e,c,_U(),Se(I=>n.send({type:Ze.SetButtonElement,element:I}))),h=Se(I=>{switch(I.key){case Zt.Space:case Zt.Enter:case Zt.ArrowDown:I.preventDefault(),I.stopPropagation(),n.send({type:Ze.OpenMenu,focus:{focus:Ot.First}});break;case Zt.ArrowUp:I.preventDefault(),I.stopPropagation(),n.send({type:Ze.OpenMenu,focus:{focus:Ot.Last}});break}}),p=Se(I=>{switch(I.key){case Zt.Space:I.preventDefault();break}}),[x,_,j]=Lr(n,I=>[I.menuState,I.buttonElement,I.itemsElement]),N=x===ln.Open;Z$(N,{trigger:_,action:m.useCallback(I=>{if(_!=null&&_.contains(I.target))return Ld.Ignore;let R=I.target.closest('[role="menuitem"]:not([data-disabled])');return ur(R)?Ld.Select(R):j!=null&&j.contains(I.target)?Ld.Ignore:Ld.Close},[_,j]),close:m.useCallback(()=>n.send({type:Ze.CloseMenu}),[]),select:m.useCallback(I=>I.click(),[])});let w=Se(I=>{var R;if(I.button===0){if(f$(I.currentTarget))return I.preventDefault();i||(x===ln.Open?(vt.flushSync(()=>n.send({type:Ze.CloseMenu})),(R=c.current)==null||R.focus({preventScroll:!0})):(I.preventDefault(),n.send({type:Ze.OpenMenu,focus:{focus:Ot.Nothing},trigger:fh.Pointer})))}}),{isFocusVisible:y,focusProps:b}=qF({autoFocus:o}),{isHovered:S,hoverProps:P}=WF({isDisabled:i}),{pressed:O,pressProps:T}=JF({disabled:i}),E=m.useMemo(()=>({open:x===ln.Open,active:O||x===ln.Open,disabled:i,hover:S,focus:y,autofocus:o}),[x,S,y,O,i,o]),k=gT(d(),{ref:f,id:s,type:eV(t,c.current),"aria-haspopup":"menu","aria-controls":j==null?void 0:j.id,"aria-expanded":x===ln.Open,disabled:i||void 0,autoFocus:o,onKeyDown:h,onKeyUp:p,onPointerDown:w},b,P,T);return Ht()({ourProps:k,theirProps:l,slot:E,defaultTag:Cz,name:"Menu.Button"})}let Az="div",Pz=sl.RenderStrategy|sl.Static;function Rz(t,e){let n=m.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:s,portal:i=!1,modal:o=!0,transition:l=!1,...c}=t,d=wU(s),f=pv("Menu.Items"),[h,p]=jU(d),x=EU(),[_,j]=m.useState(null),N=zn(e,d?h:null,Se(V=>f.send({type:Ze.SetItemsElement,element:V})),j),[w,y]=Lr(f,V=>[V.menuState,V.buttonElement]),b=il(y),S=il(_);d&&(i=!0);let P=Vu(),[O,T]=zT(l,_,P!==null?(P&Mn.Open)===Mn.Open:w===ln.Open);PT(O,y,()=>{f.send({type:Ze.CloseMenu})});let E=Lr(f,V=>V.__demoMode),k=E?!1:o&&w===ln.Open;VT(k,S);let I=E?!1:o&&w===ln.Open;AT(I,{allowed:m.useCallback(()=>[y,_],[y,_])});let R=w!==ln.Open,L=wz(R,y)?!1:O;m.useEffect(()=>{let V=_;V&&w===ln.Open&&V!==(S==null?void 0:S.activeElement)&&V.focus({preventScroll:!0})},[w,_,S]),pV(w===ln.Open,{container:_,accept(V){return V.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:V.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(V){V.setAttribute("role","none")}});let A=yl(),me=Se(V=>{var q,ae,Z;switch(A.dispose(),V.key){case Zt.Space:if(f.state.searchQuery!=="")return V.preventDefault(),V.stopPropagation(),f.send({type:Ze.Search,value:V.key});case Zt.Enter:if(V.preventDefault(),V.stopPropagation(),f.state.activeItemIndex!==null){let{dataRef:Q}=f.state.items[f.state.activeItemIndex];(ae=(q=Q.current)==null?void 0:q.domRef.current)==null||ae.click()}f.send({type:Ze.CloseMenu}),DT(f.state.buttonElement);break;case Zt.ArrowDown:return V.preventDefault(),V.stopPropagation(),f.send({type:Ze.GoToItem,focus:Ot.Next});case Zt.ArrowUp:return V.preventDefault(),V.stopPropagation(),f.send({type:Ze.GoToItem,focus:Ot.Previous});case Zt.Home:case Zt.PageUp:return V.preventDefault(),V.stopPropagation(),f.send({type:Ze.GoToItem,focus:Ot.First});case Zt.End:case Zt.PageDown:return V.preventDefault(),V.stopPropagation(),f.send({type:Ze.GoToItem,focus:Ot.Last});case Zt.Escape:V.preventDefault(),V.stopPropagation(),vt.flushSync(()=>f.send({type:Ze.CloseMenu})),(Z=f.state.buttonElement)==null||Z.focus({preventScroll:!0});break;case Zt.Tab:V.preventDefault(),V.stopPropagation(),vt.flushSync(()=>f.send({type:Ze.CloseMenu})),Q$(f.state.buttonElement,V.shiftKey?Dr.Previous:Dr.Next);break;default:V.key.length===1&&(f.send({type:Ze.Search,value:V.key}),A.setTimeout(()=>f.send({type:Ze.ClearSearch}),350));break}}),pe=Se(V=>{switch(V.key){case Zt.Space:V.preventDefault();break}}),ke=m.useMemo(()=>({open:w===ln.Open}),[w]),ie=gT(d?x():{},{"aria-activedescendant":Lr(f,f.selectors.activeDescendantId),"aria-labelledby":Lr(f,V=>{var q;return(q=V.buttonElement)==null?void 0:q.id}),id:r,onKeyDown:me,onKeyUp:pe,role:"menu",tabIndex:w===ln.Open?0:void 0,ref:N,style:{...c.style,...p,"--button-width":T$(y,!0).width},...UT(T)}),D=Ht();return te.createElement(u5,{enabled:i?t.static||O:!1,ownerDocument:b},D({ourProps:ie,theirProps:c,slot:ke,defaultTag:Az,features:Pz,visible:L,name:"Menu.Items"}))}let Dz=m.Fragment;function Lz(t,e){let n=m.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:s=!1,...i}=t,o=pv("Menu.Item"),l=Lr(o,R=>o.selectors.isActive(R,r)),c=m.useRef(null),d=zn(e,c),f=Lr(o,R=>o.selectors.shouldScrollIntoView(R,r));et(()=>{if(f)return jr().requestAnimationFrame(()=>{var R,L;(L=(R=c.current)==null?void 0:R.scrollIntoView)==null||L.call(R,{block:"nearest"})})},[f,c]);let h=Nz(c),p=m.useRef({disabled:s,domRef:c,get textValue(){return h()}});et(()=>{p.current.disabled=s},[p,s]),et(()=>(o.actions.registerItem(r,p),()=>o.actions.unregisterItem(r)),[p,r]);let x=Se(()=>{o.send({type:Ze.CloseMenu})}),_=Se(R=>{if(s)return R.preventDefault();o.send({type:Ze.CloseMenu}),DT(o.state.buttonElement)}),j=Se(()=>{if(s)return o.send({type:Ze.GoToItem,focus:Ot.Nothing});o.send({type:Ze.GoToItem,focus:Ot.Specific,id:r})}),N=lV(),w=Se(R=>{N.update(R),!s&&(l||o.send({type:Ze.GoToItem,focus:Ot.Specific,id:r,trigger:fh.Pointer}))}),y=Se(R=>{N.wasMoved(R)&&(s||l||o.send({type:Ze.GoToItem,focus:Ot.Specific,id:r,trigger:fh.Pointer}))}),b=Se(R=>{N.wasMoved(R)&&(s||l&&o.send({type:Ze.GoToItem,focus:Ot.Nothing}))}),[S,P]=_T(),[O,T]=wT(),E=m.useMemo(()=>({active:l,focus:l,disabled:s,close:x}),[l,s,x]),k={id:r,ref:d,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-labelledby":S,"aria-describedby":O,disabled:void 0,onClick:_,onFocus:j,onPointerEnter:w,onMouseEnter:w,onPointerMove:y,onMouseMove:y,onPointerLeave:b,onMouseLeave:b},I=Ht();return te.createElement(P,null,te.createElement(T,null,I({ourProps:k,theirProps:i,slot:E,defaultTag:Dz,name:"Menu.Item"})))}let Mz="div";function Oz(t,e){let[n,r]=_T(),s=t,i={ref:e,"aria-labelledby":n,role:"group"},o=Ht();return te.createElement(r,null,o({ourProps:i,theirProps:s,slot:{},defaultTag:Mz,name:"Menu.Section"}))}let Fz="header";function $z(t,e){let n=m.useId(),{id:r=`headlessui-menu-heading-${n}`,...s}=t,i=tv();et(()=>i.register(r),[r,i.register]);let o={id:r,ref:e,role:"presentation",...i.props};return Ht()({ourProps:o,theirProps:s,slot:{},defaultTag:Fz,name:"Menu.Heading"})}let Vz="div";function Uz(t,e){let n=t,r={ref:e,role:"separator"};return Ht()({ourProps:r,theirProps:n,slot:{},defaultTag:Vz,name:"Menu.Separator"})}let zz=Rt(Iz),Bz=Rt(kz),Hz=Rt(Rz),Wz=Rt(Lz),qz=Rt(Oz),Gz=Rt($z),Kz=Rt(Uz),ao=Object.assign(zz,{Button:Bz,Items:Hz,Item:Wz,Section:qz,Heading:Gz,Separator:Kz});const ta=({isOpen:t,onClose:e,title:n,children:r})=>a.jsx(tr,{appear:!0,show:t,as:m.Fragment,children:a.jsxs(Ap,{as:"div",className:"relative z-50",onClose:e,children:[a.jsx(tr.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:a.jsx(tr.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsxs(Ap.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[a.jsxs(Ap.Title,{as:"div",className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:n}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 transition-colors",children:a.jsx(M,{icon:yt})})]}),r]})})})})]})}),Qz=async t=>{try{return{id:(await Wa(kt(Ne,"areas"),t)).id,...t}}catch(e){throw console.error("Error al crear área:",e),e}},Yz=async()=>{try{return(await Rn(kt(Ne,"areas"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error al obtener áreas:",t),t}},Xz=async t=>{try{await Ei(Qe(Ne,"areas",t))}catch(e){throw console.error("Error al eliminar área:",e),e}},Jz=async t=>{try{return{id:(await Wa(kt(Ne,"mesas"),t)).id,...t}}catch(e){throw console.error("Error al crear mesa:",e),e}},Zz=async()=>{try{return(await Rn(kt(Ne,"mesas"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error al obtener mesas:",t),t}},eB=async t=>{try{await Ei(Qe(Ne,"mesas",t))}catch(e){throw console.error("Error al eliminar mesa:",e),e}},tB=()=>{var Za,eo,Il;const[t,e]=m.useState("mesas"),[n,r]=m.useState("todas"),[s,i]=m.useState("todos"),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[f,h]=m.useState(!1),[p,x]=m.useState(null),[_,j]=m.useState(""),[N,w]=m.useState([]),[y,b]=m.useState([]),[S,P]=m.useState({numero:"",area:""}),[O,T]=m.useState(!1),[E,k]=m.useState(null),[I,R]=m.useState(!1),[L,A]=m.useState(null),[me,pe]=m.useState([]),[ke,ie]=m.useState(!1),[D,V]=m.useState(null),[q,ae]=m.useState(""),[Z,Q]=m.useState([]),[ve,Ve]=m.useState(!1),[Ge,tt]=m.useState([]),[bt,Xt]=m.useState([]),[Yn,Jt]=m.useState(!1),[Xn,Bn]=m.useState({}),[Wt,Sn]=m.useState(!1),[H,se]=m.useState(null),[oe,Ie]=m.useState({}),[ge,ye]=m.useState(1),[fe,pt]=m.useState(null),[mn,Jn]=m.useState(!1),[wt,st]=m.useState(!1),[ps,gs]=m.useState(null),[Tr,Hr]=m.useState(!1),[Zn,Bs]=m.useState({x:0,y:0}),[Hs,ee]=m.useState(!1),[ue,Ee]=m.useState(1),[je,Dt]=m.useState(null),[it,qt]=m.useState([]);m.useEffect(()=>{Lt()},[]),m.useEffect(()=>{ke&&qe()},[ke]),m.useEffect(()=>{if(!Ge.length)return;const F=Ge.map($=>({...$,products:$.products.filter(W=>W.nombre.toLowerCase().includes(q.toLowerCase())||W.descripcion&&W.descripcion.toLowerCase().includes(q.toLowerCase()))})).filter($=>$.products.length>0);Xt(F)},[q,Ge]);const Re=async F=>{if(!F)return console.warn("getImageUrl: No se proporcionó imagePath"),null;if(F.startsWith("http"))return console.log("getImageUrl: Ya es una URL completa",{imagePath:F}),F;console.log("getImageUrl: Iniciando obtención de imagen",{imagePath:F,rutaCompleta:`menu_productos/${F}`});try{const $=J3(ej,`menu_productos/${F}`);console.log("getImageUrl: StorageRef creado correctamente");const W=await X3($);return console.log("getImageUrl: URL obtenida exitosamente",{url:W}),W}catch($){return console.error("getImageUrl: Error al obtener la URL",{error:$.message,code:$.code,imagePath:F,rutaCompleta:`menu_productos/${F}`}),null}},qe=async()=>{Jt(!0);try{const F=kt(Ne,"menuSecciones"),$=await Rn(Jr(F,Zf("orden","asc"))),W=[];for(const K of $.docs){const ne={id:K.id,name:K.data().nombre,...K.data(),products:[]};console.log("Procesando sección:",{id:ne.id,nombre:ne.name});try{const _e=kt(Ne,"menuSecciones",K.id,"productos"),Le=await Rn(Jr(_e,Zf("orden","asc")));if(!Le.empty){const Je=Le.docs.map(Vt=>{const rn=Vt.data();return console.log("Datos del producto cargado:",{id:Vt.id,nombre:rn.nombre,imagen:rn.imagen}),{id:Vt.id,...rn}});Je.forEach(Vt=>{Vt.imagen&&Re(Vt.imagen).then(rn=>{rn&&Bn(Qu=>({...Qu,[Vt.id]:rn}))}).catch(rn=>{console.error("Error al cargar imagen para producto:",{productId:Vt.id,nombre:Vt.nombre,error:rn.message})})}),ne.products=Je}}catch(_e){console.error(`Error al cargar productos de la sección ${K.id}:`,_e)}W.push(ne)}console.log("Datos de secciones cargados:",W.map(K=>({id:K.id,nombre:K.name,numProductos:K.products.length}))),tt(W),Xt(W)}catch(F){console.error("Error al cargar el menú:",F),be.error("Error al cargar el menú")}finally{Jt(!1)}},ot=async F=>{console.log("loadProductImages: Iniciando carga de imágenes",{numSections:F.length,sections:F.map($=>({nombre:$.nombre,numProducts:$.products.length}))});for(const $ of F){console.log(`loadProductImages: Procesando sección ${$.nombre}`);for(const W of $.products){if(console.log("loadProductImages: Procesando producto",{productId:W.id,nombre:W.nombre,imagen:W.imagen}),!W.imagen||W.imagen.trim()===""){console.warn("loadProductImages: Producto sin imagen",{productId:W.id,nombre:W.nombre});continue}try{const K=await Re(W.imagen);console.log("loadProductImages: Resultado de getImageUrl",{productId:W.id,url:K}),K&&Bn(ne=>{const _e={...ne,[W.id]:K};return console.log("loadProductImages: Estado actualizado de productImages",{productId:W.id,totalImages:Object.keys(_e).length}),_e})}catch(K){console.error("loadProductImages: Error procesando imagen",{productId:W.id,nombre:W.nombre,error:K.message})}}}};m.useEffect(()=>{Ge.length>0&&(console.log("Secciones actualizadas, cargando imágenes..."),ot(Ge))},[Ge]);const Lt=async()=>{try{T(!0);const[F,$]=await Promise.all([Yz(),Zz()]);w(F),b($)}catch(F){console.error("Error al cargar datos:",F),be.error("Error al cargar los datos")}finally{T(!1)}},z=async F=>{if(F.preventDefault(),!_.trim()){be.error("El nombre del área es requerido");return}try{T(!0);const $={nombre:_.trim()},W=await Qz($);w([...N,W]),j(""),l(!1),be.success("Área creada exitosamente")}catch($){console.error("Error al crear área:",$),be.error("Error al crear el área")}finally{T(!1)}},le=async F=>{if(F.preventDefault(),!S.numero||!S.area){be.error("Todos los campos son requeridos");return}try{T(!0);const $={...S,estado:"libre",tiempo:null},W=await Jz($);b([...y,W]),P({numero:"",area:""}),d(!1),be.success("Mesa creada exitosamente")}catch($){console.error("Error al crear mesa:",$),be.error("Error al crear la mesa")}finally{T(!1)}},De=async()=>{if(p)try{T(!0),p.type==="area"?(await Xz(p.id),w(N.filter(F=>F.id!==p.id)),be.success("Área eliminada exitosamente")):(await eB(p.id),b(y.filter(F=>F.id!==p.id)),be.success("Mesa eliminada exitosamente"))}catch(F){console.error("Error al eliminar:",F),be.error(`Error al eliminar ${p.type==="area"?"el área":"la mesa"}`)}finally{T(!1),h(!1),x(null)}},Ke=(F,$,W)=>{x({id:F,type:$,nombre:W}),h(!0)},ze=F=>{try{const $=Qa(F.id);$&&(pe(me.filter(W=>W.id!==$.id)),be.success("Mesa desunida exitosamente"))}catch($){console.error("Error al desunir mesa:",$),be.error("Error al desunir la mesa")}},mr=async(F,$)=>{try{const W=Qe(Ne,"mesas",F);await rr(W,{estado:$});const ne=y.map(_e=>_e.id===F?{..._e,estado:$}:_e);b(ne)}catch(W){console.error("Error al actualizar estado de la mesa:",W),be.error("Error al actualizar el estado de la mesa")}},In=async(F,$)=>{switch(F){case"abrir":$.estado==="ocupada"||$.estado==="reservada"?(console.log("Abriendo mesa ocupada:",$.numero),V($),await Ji($.id),Jn(!0)):(V($),Ve(!1),ie(!0),mr($.id,"ocupada"));break;case"reservar":mr($.id,"reservada"),be.info(`Reservando mesa ${$.numero}`);break;case"unir":A($),R(!0);break;case"desunir":ze($);break}},pr=async(F,$)=>{try{const W={id:Date.now().toString(),mesas:[F.id,$.id],areaId:F.area};pe([...me,W]),R(!1),A(null),be.success("Mesas unidas exitosamente")}catch(W){console.error("Error al unir mesas:",W),be.error("Error al unir las mesas")}},Yi=F=>me.some($=>$.mesas.includes(F)),Qa=F=>me.find($=>$.mesas.includes(F)),Sr=F=>{const $=Qa(F);if(!$)return null;const W=y.filter(ne=>$.mesas.includes(ne.id)),K=W.filter(ne=>ne.id!==F);return{grupo:$,mesasDelGrupo:W,otrasMesas:K}},bm=F=>{const $=[],W=new Set;return F.forEach(K=>{if(W.has(K.id))return;const ne=Sr(K.id);if(ne){const _e=ne.mesasDelGrupo;$.push(_e),_e.forEach(Le=>W.add(Le.id))}}),F.forEach(K=>{W.has(K.id)||($.push([K]),W.add(K.id))}),$},zu=F=>[...F].sort(($,W)=>{var Je,Vt;const K=((Je=N.find(rn=>rn.id===$.area))==null?void 0:Je.nombre)||"",ne=((Vt=N.find(rn=>rn.id===W.area))==null?void 0:Vt.nombre)||"";if(K!==ne)return K.localeCompare(ne);const _e=$.numero.match(/\d+/g),Le=W.numero.match(/\d+/g);return _e&&Le?parseInt(_e[0])-parseInt(Le[0]):$.numero.localeCompare(W.numero)}),Ya=()=>{var F;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-emerald-100 rounded-lg",children:a.jsx(M,{icon:Pn,className:"text-emerald-600 text-xl"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-gray-500 text-sm",children:"Mesas Totales"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:y.length})]})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:a.jsx(M,{icon:Nc,className:"text-red-600 text-xl"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-gray-500 text-sm",children:"Mesas Ocupadas"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:y.filter($=>$.estado==="ocupada").length})]})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-emerald-100 rounded-lg",children:a.jsx(M,{icon:Rd,className:"text-emerald-600 text-xl"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-gray-500 text-sm",children:"Mesas Libres"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:y.filter($=>$.estado==="libre").length})]})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:a.jsx(M,{icon:$o,className:"text-amber-600 text-xl"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-gray-500 text-sm",children:"Reservadas"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:y.filter($=>$.estado==="reservada").length})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Áreas del Restaurante"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>r("todas"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${n==="todas"?"bg-emerald-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Todas las áreas"}),N.map($=>a.jsx("button",{onClick:()=>r($.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${n===$.id?"bg-emerald-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:$.nombre},$.id))]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Filtrar por Estado"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>i("todos"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${s==="todos"?"bg-emerald-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Todos los estados"}),a.jsxs("button",{onClick:()=>i("libre"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${s==="libre"?"bg-emerald-500 text-white shadow-md":"bg-emerald-50 text-emerald-700 hover:bg-emerald-100"}`,children:[a.jsx(M,{icon:Rd,className:"mr-2"}),"Libres"]}),a.jsxs("button",{onClick:()=>i("ocupada"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${s==="ocupada"?"bg-red-500 text-white shadow-md":"bg-red-50 text-red-700 hover:bg-red-100"}`,children:[a.jsx(M,{icon:Nc,className:"mr-2"}),"Ocupadas"]}),a.jsxs("button",{onClick:()=>i("reservada"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${s==="reservada"?"bg-amber-500 text-white shadow-md":"bg-amber-50 text-amber-700 hover:bg-amber-100"}`,children:[a.jsx(M,{icon:$o,className:"mr-2"}),"Reservadas"]})]})]})]})})}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-4",children:bm(zu(y.filter($=>{const W=n==="todas"?!0:$.area===n,K=s==="todos"?!0:$.estado===s;return W&&K}))).map(($,W)=>$.length===1?Xa($[0]):a.jsx("div",{className:"relative space-y-2",children:zu($).map((K,ne)=>a.jsxs("div",{className:`relative ${ne>0?"-mt-1":""}`,children:[ne>0&&a.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-0.5 h-1 bg-blue-400"}),Xa(K)]},K.id))},W))}),a.jsx(ta,{isOpen:I,onClose:()=>{R(!1),A(null)},title:`Unir Mesa ${L==null?void 0:L.numero} con otra mesa`,children:a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Selecciona la mesa con la que deseas unir la Mesa ",L==null?void 0:L.numero," del área ",(F=N.find($=>$.id===(L==null?void 0:L.area)))==null?void 0:F.nombre]})}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:y.filter($=>$.id!==(L==null?void 0:L.id)&&$.area===(L==null?void 0:L.area)&&!Yi($.id)).map($=>a.jsxs("button",{onClick:()=>pr(L,$),className:"p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-200 transition-colors flex flex-col items-center",children:[a.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["Mesa ",$.numero]}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:$.estado})]},$.id))}),y.filter($=>$.id!==(L==null?void 0:L.id)&&$.area===(L==null?void 0:L.area)&&!Yi($.id)).length===0&&a.jsxs("div",{className:"text-center py-6",children:[a.jsx(M,{icon:xt,className:"text-yellow-400 text-2xl mb-2"}),a.jsx("p",{className:"text-gray-500",children:"No hay mesas disponibles para unir en esta área"})]})]})})]})},Bu=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Gestión de Áreas"}),a.jsxs("button",{onClick:()=>l(!0),className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors",disabled:O,children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Nueva Área"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre del Área"}),a.jsx("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(F=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:F.nombre}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx("button",{onClick:()=>Ke(F.id,"area",F.nombre),className:"text-red-600 hover:text-red-900 transition-colors",disabled:O,children:a.jsx(M,{icon:mt})})})]},F.id))})]})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Gestión de Mesas"}),a.jsxs("button",{onClick:()=>d(!0),className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors",disabled:O,children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Nueva Mesa"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Número"}),a.jsx("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Área"}),a.jsx("th",{className:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(F=>{var $;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Mesa ",F.numero]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:($=N.find(W=>W.id===F.area))==null?void 0:$.nombre}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.estado==="libre"?"bg-green-100 text-green-800":F.estado==="ocupada"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:F.estado.charAt(0).toUpperCase()+F.estado.slice(1)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx("button",{onClick:()=>Ke(F.id,"mesa",F.numero),className:"text-red-600 hover:text-red-900 transition-colors",disabled:O,children:a.jsx(M,{icon:mt})})})]},F.id)})})]})})]})}),a.jsx(ta,{isOpen:o,onClose:()=>l(!1),title:"Crear Nueva Área",children:a.jsxs("form",{onSubmit:z,className:"mt-2",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Área"}),a.jsx("input",{type:"text",value:_,onChange:F=>j(F.target.value),placeholder:"Ej: Terraza, Salón Principal",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",disabled:O})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",disabled:O,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-emerald-600 border border-transparent rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",disabled:O,children:O?"Creando...":"Crear Área"})]})]})}),a.jsx(ta,{isOpen:c,onClose:()=>d(!1),title:"Crear Nueva Mesa",children:a.jsxs("form",{onSubmit:le,className:"mt-2",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número de Mesa"}),a.jsx("input",{type:"text",value:S.numero,onChange:F=>P({...S,numero:F.target.value}),placeholder:"Ej: 01, T1, B1",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",disabled:O})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Área"}),a.jsxs("select",{value:S.area,onChange:F=>P({...S,area:F.target.value}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",disabled:O,children:[a.jsx("option",{value:"",children:"Selecciona un área"}),N.map(F=>a.jsx("option",{value:F.id,children:F.nombre},F.id))]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",disabled:O,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-emerald-600 border border-transparent rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",disabled:O,children:O?"Creando...":"Crear Mesa"})]})]})}),a.jsx(ta,{isOpen:f,onClose:()=>{h(!1),x(null)},title:"Confirmar Eliminación",children:a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"flex items-center gap-3 text-yellow-600 mb-4",children:[a.jsx(M,{icon:xt,className:"text-2xl"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["¿Estás seguro de que deseas eliminar ",(p==null?void 0:p.type)==="area"?"el área":"la mesa",a.jsxs("span",{className:"font-medium",children:[" ",p==null?void 0:p.nombre]}),"? Esta acción no se puede deshacer."]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{h(!1),x(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",disabled:O,children:"Cancelar"}),a.jsx("button",{type:"button",onClick:De,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",disabled:O,children:O?"Eliminando...":"Eliminar"})]})]})})]}),Xa=F=>{var Le;const $={libre:{bgColor:"bg-emerald-50",borderColor:"border-emerald-200",textColor:"text-emerald-700",icon:Rd,iconColor:"text-emerald-500",label:"Libre"},ocupada:{bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-700",icon:Nc,iconColor:"text-red-500",label:"Ocupada"},reservada:{bgColor:"bg-amber-50",borderColor:"border-amber-200",textColor:"text-amber-700",icon:$o,iconColor:"text-amber-500",label:"Reservada"},default:{bgColor:"bg-gray-50",borderColor:"border-gray-200",textColor:"text-gray-700",icon:Rd,iconColor:"text-gray-500",label:"Estado Desconocido"}},W=$[F.estado]||$.default,K=Sr(F.id),ne=!!K,_e=((Le=N.find(Je=>Je.id===F.area))==null?void 0:Le.nombre)||"";return a.jsxs("div",{className:"relative h-[100px]",children:[F.estado==="ocupada"?a.jsx("button",{onClick:()=>In("abrir",F),className:`w-full h-full text-left relative rounded-lg border ${ne?"border-blue-400 border-dashed":W.borderColor} ${W.bgColor} p-2 transition-all duration-200 hover:shadow-md flex flex-col justify-between group`,children:a.jsx(Xi,{mesa:F,config:W,estaUnida:ne,mesasInfo:K,areaNombre:_e})}):a.jsxs(ao,{as:"div",className:"w-full h-full",children:[a.jsx(ao.Button,{className:`w-full h-full text-left relative rounded-lg border ${ne?"border-blue-400 border-dashed":W.borderColor} ${W.bgColor} p-2 transition-all duration-200 hover:shadow-md flex flex-col justify-between`,children:a.jsx(Xi,{mesa:F,config:W,estaUnida:ne,mesasInfo:K,areaNombre:_e})}),a.jsx(ao.Items,{className:"absolute left-1/2 -translate-x-1/2 bottom-[105%] w-48 bg-white rounded-lg shadow-lg ring-1 ring-black/5 focus:outline-none z-20",children:a.jsxs("div",{className:"py-1",children:[a.jsx(ao.Item,{children:({active:Je})=>a.jsxs("button",{onClick:()=>In("abrir",F),className:`${Je?"bg-gray-50":""} w-full flex items-center px-3 py-1.5 text-sm text-gray-700`,children:[a.jsx(M,{icon:Qy,className:"w-4 h-4 mr-2 text-gray-500"}),"Abrir Mesa"]})}),a.jsx(ao.Item,{children:({active:Je})=>a.jsxs("button",{onClick:()=>In("reservar",F),className:`${Je?"bg-gray-50":""} w-full flex items-center px-3 py-1.5 text-sm text-gray-700`,children:[a.jsx(M,{icon:JO,className:"w-4 h-4 mr-2 text-gray-500"}),"Reservar Mesa"]})}),!Yi(F.id)&&a.jsx(ao.Item,{children:({active:Je})=>a.jsxs("button",{onClick:()=>In("unir",F),className:`${Je?"bg-gray-50":""} w-full flex items-center px-3 py-1.5 text-sm text-gray-700`,children:[a.jsx(M,{icon:lF,className:"w-4 h-4 mr-2 text-gray-500"}),"Unir Mesa"]})})]})})]}),ne&&a.jsxs("button",{onClick:()=>In("desunir",F),className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full flex items-center gap-1 z-10 hover:bg-blue-600",children:[a.jsx(M,{icon:gF,className:"w-3 h-3"}),a.jsx("span",{children:K.otrasMesas.map(Je=>Je.numero).join("+")})]})]},F.id)},Xi=({mesa:F,config:$,estaUnida:W,mesasInfo:K,areaNombre:ne})=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex flex-col",children:a.jsxs("div",{className:"flex items-start justify-between gap-1",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:ne}),a.jsxs("p",{className:"text-base font-bold text-gray-800 truncate",children:["Mesa ",F.numero]})]}),a.jsx("div",{className:`p-1.5 rounded-full ${$.bgColor} ${$.iconColor} flex-shrink-0`,children:a.jsx(M,{icon:$.icon,className:"text-sm"})})]})}),a.jsxs("div",{className:"text-xs flex items-center",children:[a.jsx("span",{className:"text-gray-500 flex-shrink-0",children:"Estado:"}),a.jsx("span",{className:`ml-1 font-medium ${$.textColor} truncate`,children:$.label})]})]}),Ir=()=>{ie(!1),Jn(!1),V(null),Q([]),Ve(!1),ae(""),pt(null)},Hu=()=>{Jn(!1)},Wu=F=>{Q($=>{const W=$.find(K=>K.productKey===F);return W&&W.cantidad>1?$.map(K=>K.productKey===F?{...K,cantidad:K.cantidad-1}:K):$.filter(K=>K.productKey!==F)})},_l=F=>{Q($=>$.filter(W=>W.productKey!==F))},Ja=(F,$={})=>{if(!$||Object.keys($).length===0)return`${F}-simple`;const W=Object.entries($).sort(([K],[ne])=>K.localeCompare(ne)).map(([K,ne])=>ne.seleccion?Array.isArray(ne.seleccion)?`${K}:${ne.seleccion.map(_e=>_e.id).sort().join(",")}`:`${K}:${ne.seleccion.id}`:`${K}:${ne}`).join("|");return`${F}-${W}`},Nl=F=>{Q($=>{const W=Ja(F.id);return $.find(ne=>ne.productKey===W)?$.map(ne=>ne.productKey===W?{...ne,cantidad:(ne.cantidad||1)+1}:ne):[...$,{...F,cantidad:1,productKey:W}]}),be.success(`${F.nombre} agregado al pedido`)},qu=F=>{F.modificadores&&F.modificadores.length>0?(se(F),Sn(!0)):Nl(F)},wm=async()=>{if(Z.length===0){be.warning("No hay productos en el pedido");return}try{const F=kt(Ne,"pedidos"),$=Jr(F,Sd("mesaId","==",D.id),Sd("estado","==","activo")),W=await Rn($);let K,ne=[];const _e=new Date().toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),Le=Z.map(Vt=>({...Vt,hora:_e,estado:"pendiente"}));W.empty?(K=Qe(F),ne=Le):(K=Qe(Ne,"pedidos",W.docs[0].id),ne=[...W.docs[0].data().productos||[],...Le]),await R3(K,{mesaId:D.id,estado:"activo",productos:ne,fechaCreacion:W.empty?new Date().toISOString():void 0,fechaActualizacion:new Date().toISOString()},{merge:!0}),await mr(D.id,"ocupada");const Je=await Ji(D.id);ie(!1),Ve(!0),Jn(!0),Q([]),be.success("Pedido confirmado exitosamente")}catch(F){console.error("Error al confirmar pedido:",F),be.error("Error al confirmar el pedido")}},Ji=async F=>{try{const $=kt(Ne,"pedidos"),W=Jr($,Sd("mesaId","==",F),Sd("estado","==","activo")),K=await Rn(W);if(K.empty)return pt(null),null;{const ne=K.docs[0].data(),_e={id:K.docs[0].id,...ne,productos:ne.productos.map(Le=>({...Le,hora:Le.hora||new Date().toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}))};return pt(_e),_e}}catch($){return console.error("Error al cargar pedido:",$),be.error("Error al cargar el pedido"),null}},El=async()=>{try{if(fe!=null&&fe.id){const F=Qe(Ne,"pedidos",fe.id);await rr(F,{estado:"cancelado",fechaCancelacion:new Date().toISOString()})}if(D!=null&&D.id){const F=Qe(Ne,"mesas",D.id),$=Sr(D.id);if($&&$.length>0){const W=$.map(K=>rr(Qe(Ne,"mesas",K),{estado:"libre",unidaCon:null}));await Promise.all(W)}else await rr(F,{estado:"libre",unidaCon:null});b(W=>W.map(K=>K.id===D.id||$&&$.includes(K.id)?{...K,estado:"libre",unidaCon:null}:K))}pt(null),V(null),st(!1),Jn(!1),ie(!1),be.success(fe!=null&&fe.id?"Pedido cancelado correctamente":"Mesa liberada correctamente")}catch(F){console.error("Error al cancelar pedido:",F),be.error("Error al cancelar el pedido")}},jl=(F,$)=>{F.preventDefault(),F.stopPropagation();const W=F.currentTarget.getBoundingClientRect(),K=window.pageYOffset||document.documentElement.scrollTop;Bs({x:W.left+W.width/2,y:W.top+K}),Dt($),Hr(!0)},Zi=F=>{Hr(!1),F.cantidad>1?(Dt(F),Ee(1),ee(!0)):Wr(F,1)},Wr=async(F,$)=>{try{if(!(fe!=null&&fe.id)||!F)return;const W=Qe(Ne,"pedidos",fe.id),K=[...fe.productos],ne=K.findIndex(_e=>_e.id===F.id&&JSON.stringify(_e.modifiers)===JSON.stringify(F.modifiers));if(ne===-1)return;K[ne].cantidad<=$?K.splice(ne,1):K[ne].cantidad-=$,await rr(W,{productos:K}),pt(_e=>({..._e,productos:K})),ee(!1)}catch(W){console.error("Error al quitar productos:",W)}};m.useEffect(()=>{const F=$=>{Tr&&Hr(!1)};return document.addEventListener("click",F),()=>{document.removeEventListener("click",F)}},[Tr]);const Tl=(F,$)=>a.jsxs("div",{className:"flex items-start space-x-2 p-3 hover:bg-gray-50 rounded-lg transition-colors relative group cursor-pointer",onClick:W=>jl(W,F),children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-8 text-lg font-medium text-gray-900",children:$+1}),a.jsx("h4",{className:"font-medium text-gray-900",children:F.nombre})]}),F.modifiers&&Object.keys(F.modifiers).length>0&&a.jsx("ul",{className:"mt-1 space-y-1 ml-8",children:Object.entries(F.modifiers).map(([W,K])=>a.jsxs("li",{className:"text-sm text-gray-500",children:[W,": ",K]},W))}),a.jsxs("div",{className:"flex items-center gap-2 ml-8 mt-1 text-sm text-gray-500",children:[a.jsx("span",{children:F.hora||"00:00"}),F.cantidad>1&&a.jsxs("span",{className:"bg-gray-100 px-2 py-0.5 rounded-full",children:["x",F.cantidad]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"font-medium text-gray-900",children:["$",io(F.precio*F.cantidad)]})})]})}),Tr&&(je==null?void 0:je.id)===F.id&&a.jsx("div",{className:"fixed z-50 bg-white rounded-lg shadow-lg border border-gray-200 py-1 w-48",style:{top:Zn.y,left:Zn.x-96},onClick:W=>W.stopPropagation(),children:a.jsx("button",{className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50",onClick:()=>Zi(F),children:"Quitar del pedido"})})]},`${F.id}-${$}`),_m=()=>{var F,$,W,K,ne;return a.jsx(tr.Root,{show:mn,as:m.Fragment,children:a.jsxs("div",{className:"fixed inset-0 overflow-hidden z-50",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx(tr.Child,{as:m.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>{Hr(!1),Hu()}})}),a.jsx("section",{className:"absolute inset-y-0 right-0 max-w-full flex",children:a.jsx(tr.Child,{as:m.Fragment,enter:"transform transition ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:a.jsx("div",{className:"relative w-screen max-w-md",children:a.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl overflow-y-scroll",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Mesa ",D==null?void 0:D.numero]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("button",{type:"button",className:"text-red-400 hover:text-red-500",onClick:()=>st(!0),children:a.jsx(M,{icon:yt,className:"h-5 w-5"})})})]})}),a.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center text-lg",children:[a.jsx("span",{className:"mr-2",children:"🍽️"}),a.jsxs("span",{children:["Mesa ",D==null?void 0:D.numero]})]}),a.jsxs("button",{onClick:()=>{Jn(!1),ie(!0)},className:"px-3 py-1.5 bg-emerald-600 text-white rounded-lg text-sm hover:bg-emerald-700 transition-colors flex items-center gap-2",children:[a.jsx(M,{icon:Et,className:"h-3 w-3"}),a.jsx("span",{children:"Agregar productos"})]})]})}),a.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:((F=fe==null?void 0:fe.productos)==null?void 0:F.length)>0?"Resumen del pedido":"Mesa sin pedidos"}),a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:`h-2 w-2 rounded-full ${(($=fe==null?void 0:fe.productos)==null?void 0:$.length)>0?"bg-emerald-400":"bg-gray-400"} mr-2`})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:fe!=null&&fe.productos&&fe.productos.length>0?a.jsx("div",{className:"divide-y divide-gray-200",children:fe.productos.map((_e,Le)=>Tl(_e,Le))}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 py-8",children:[a.jsx(M,{icon:Pn,className:"h-12 w-12 mb-4"}),a.jsxs("p",{className:"text-center px-4",children:["No hay productos en la mesa.",(D==null?void 0:D.estado)==="ocupada"&&a.jsx("span",{className:"block mt-2 text-sm",children:"Puedes agregar productos usando el botón superior o cerrar la mesa si fue abierta por error."})]})]})}),((W=fe==null?void 0:fe.productos)==null?void 0:W.length)>0&&a.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("span",{className:"text-gray-900 font-medium",children:"Total del Pedido"}),a.jsxs("span",{className:"text-lg font-semibold text-emerald-600",children:["$",io(fe.productos.reduce((_e,Le)=>_e+Le.precio*Le.cantidad,0)||0)]})]})})]})})})})]}),a.jsx(ta,{isOpen:Hs,onClose:()=>ee(!1),title:"Quitar productos del pedido",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("p",{className:"text-gray-600 mb-4",children:['¿Cuántas unidades de "',je==null?void 0:je.nombre,'" deseas quitar?']}),a.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[a.jsx("button",{onClick:()=>Ee(_e=>Math.max(1,_e-1)),className:"p-2 text-gray-600 hover:text-gray-800 bg-gray-100 rounded-full",children:"-"}),a.jsx("span",{className:"text-xl font-medium w-12 text-center",children:ue}),a.jsx("button",{onClick:()=>Ee(_e=>Math.min((je==null?void 0:je.cantidad)||1,_e+1)),className:"p-2 text-gray-600 hover:text-gray-800 bg-gray-100 rounded-full",children:"+"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>ee(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancelar"}),a.jsx("button",{onClick:()=>Wr(je,ue),className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Quitar productos"})]})]})}),a.jsx(ta,{isOpen:wt,onClose:()=>st(!1),title:"Cancelar Mesa",children:a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"text-gray-600 mb-4",children:((K=fe==null?void 0:fe.productos)==null?void 0:K.length)>0?"¿Estás seguro de que deseas cancelar el pedido?":"¿Estás seguro de que deseas liberar esta mesa?"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>st(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"No, mantener"}),a.jsx("button",{onClick:El,className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700",children:((ne=fe==null?void 0:fe.productos)==null?void 0:ne.length)>0?"Sí, cancelar pedido":"Sí, liberar mesa"})]})]})})]})})},Sl=(F,$)=>{Ie(W=>({...W,[F]:$}))},Gu=F=>{if(!F.id)return null;const $=Xn[F.id];return $?a.jsx("img",{src:$,alt:F.nombre,className:"w-full h-full object-cover",onError:W=>{W.target.onerror=null,W.target.src="",W.target.parentElement.innerHTML=`
            <div class="w-full h-full flex items-center justify-center bg-gray-100">
              <svg class="h-6 w-6 text-gray-400" ... />
            </div>
          `}}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:a.jsx(M,{icon:Pn,className:"h-6 w-6 text-gray-400"})})},Ku=()=>{if(!H)return;const F=H.modificadores.reduce((W,K)=>{const ne=oe[K.id];return ne&&(W[K.id]={nombre:K.nombre,tipo:K.tipo,seleccion:K.tipo==="multiple"?(Array.isArray(ne)?ne:[]).map(_e=>{const Le=K.opciones.find(Je=>Je.id===_e);return{id:_e,nombre:(Le==null?void 0:Le.nombre)||""}}):(()=>{const _e=K.opciones.find(Le=>Le.id===ne);return{id:ne,nombre:(_e==null?void 0:_e.nombre)||""}})()}),W},{}),$={...H,modificadores:F,cantidad:ge,productKey:Ja(H.id,F)};Q(W=>{const K=W.findIndex(ne=>ne.productKey===$.productKey);return K>=0?W.map((ne,_e)=>_e===K?{...ne,cantidad:(ne.cantidad||1)+ge}:ne):[...W,$]}),Sn(!1),se(null),Ie({}),ye(1),be.success(`${H.nombre} agregado al pedido`)};return O&&!N.length&&!y.length?a.jsx(fs,{children:a.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-emerald-600"}),a.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})})}):a.jsx(fs,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 overflow-x-hidden",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestión de Mesas"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Administra las mesas y su disponibilidad"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex -mb-px","aria-label":"Tabs",children:[a.jsxs("button",{onClick:()=>e("mesas"),className:`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${t==="mesas"?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(M,{icon:Pn,className:"mr-2"}),"Vista de Mesas"]}),a.jsxs("button",{onClick:()=>e("gestion"),className:`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${t==="gestion"?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(M,{icon:ii,className:"mr-2"}),"Gestión de Mesas"]})]})})}),t==="mesas"?Ya():Bu(),a.jsx(tr.Root,{show:ke,as:m.Fragment,children:a.jsxs("div",{className:"fixed inset-0 overflow-hidden z-50",children:[a.jsx(tr.Child,{as:m.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),a.jsx("div",{className:"fixed inset-y-0 right-0 pl-10 max-w-full flex",children:a.jsx(tr.Child,{as:m.Fragment,enter:"transform transition ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:a.jsx("div",{className:"relative w-screen max-w-7xl",children:a.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl",children:[a.jsx("div",{className:"px-6 py-5 bg-white border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:["Mesa ",D==null?void 0:D.numero]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:(Za=N.find(F=>F.id===(D==null?void 0:D.area)))==null?void 0:Za.nombre})]}),a.jsx("div",{className:"h-8 w-0.5 bg-gray-200"}),a.jsx("div",{className:"text-sm font-medium text-emerald-600 bg-emerald-50 px-3 py-1 rounded-full",children:"Nuevos pedidos"})]}),a.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-full transition-colors",onClick:Ir,children:a.jsx(M,{icon:yt,className:"h-6 w-6"})})]})}),a.jsxs("div",{className:"flex-1 flex h-full",children:[a.jsxs("div",{className:"flex-1 flex flex-col border-r border-gray-200",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 bg-white",children:a.jsxs("div",{className:"relative max-w-lg mx-auto",children:[a.jsx(M,{icon:om,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:q,onChange:F=>ae(F.target.value),placeholder:"Buscar productos...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-900 text-base"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:Yn?a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})}):a.jsx("div",{className:"p-6",children:bt.map(F=>a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[a.jsx("span",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(M,{icon:Pn,className:"text-emerald-600"})}),F.name]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:F.products.map($=>{var W;return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group p-4 flex items-start gap-4",children:[a.jsx("div",{className:"w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:Gu($)}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 group-hover:text-emerald-600 transition-colors",children:$.nombre}),$.descripcion&&a.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:$.descripcion})]}),a.jsxs("div",{className:"flex flex-col items-end ml-4",children:[a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",(W=$.precio)==null?void 0:W.toLocaleString("es-CL")]}),a.jsxs("button",{onClick:()=>qu($),className:"mt-2 bg-emerald-50 text-emerald-600 px-3 py-1.5 rounded-lg hover:bg-emerald-100 transition-colors flex items-center justify-center font-medium text-sm",children:[a.jsx(M,{icon:Et,className:"mr-1.5"}),"Agregar"]})]})]})})]},$.id)})})]},F.id))})})]}),a.jsxs("div",{className:"w-[480px] flex flex-col bg-white",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 bg-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Pedido actual"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[Z.length," items"]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:Z.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500 p-6",children:[a.jsx(M,{icon:mw,className:"h-12 w-12 mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:"Tu carrito está vacío"}),a.jsx("p",{className:"text-sm mt-2 text-center",children:"Agrega productos del menú para comenzar tu pedido"})]}):a.jsx("div",{className:"divide-y divide-gray-200",children:Z.map((F,$)=>a.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600 font-medium",children:$+1}),a.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-base font-medium text-gray-900",children:F.nombre}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Cantidad: ",F.cantidad]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-base font-semibold text-gray-900",children:io(F.precio*(F.cantidad||1))}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>_l(F.productKey),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",title:"Eliminar producto",children:a.jsx(M,{icon:mt,className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>Wu(F.productKey),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",title:"Reducir cantidad",children:a.jsx(M,{icon:hw,className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>Nl(F),className:"p-1 text-gray-400 hover:text-emerald-500 hover:bg-emerald-50 rounded-full transition-colors",title:"Aumentar cantidad",children:a.jsx(M,{icon:Et,className:"h-4 w-4"})})]})]})]}),F.modificadores&&Object.entries(F.modificadores).length>0&&a.jsx("div",{className:"mt-3 pl-4 border-l-2 border-gray-100",children:Object.entries(F.modificadores).map(([W,K])=>a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx(M,{icon:jg,className:"h-3 w-3 text-emerald-400 mr-2"}),a.jsx("span",{className:"font-medium text-gray-700",children:K.nombre})]}),K.tipo==="multiple"?Array.isArray(K.seleccion)&&K.seleccion.map(ne=>a.jsxs("div",{className:"ml-5 flex items-center text-sm",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full mr-2"}),a.jsx("span",{className:"text-gray-600",children:ne.nombre})]},ne.id)):a.jsxs("div",{className:"ml-5 flex items-center text-sm",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full mr-2"}),a.jsx("span",{className:"text-gray-600",children:K.seleccion.nombre})]})]},W))})]})]})},`${F.id}-${JSON.stringify(F.modificadores)}`))})}),a.jsxs("div",{className:"border-t border-gray-200 p-6 bg-white",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Anterior"}),a.jsx("span",{className:"text-gray-900 font-medium",children:io(0)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Agregado"}),a.jsx("span",{className:"text-gray-900 font-medium",children:io(Z.reduce((F,$)=>F+$.precio*($.cantidad||1),0))})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[a.jsx("span",{className:"text-gray-900",children:"Total"}),a.jsx("span",{className:"text-emerald-600",children:io(Z.reduce((F,$)=>F+$.precio*($.cantidad||1),0))})]})})]}),a.jsxs("button",{className:"mt-6 w-full bg-emerald-600 text-white px-6 py-4 rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{wm(),Ir()},disabled:Z.length===0,children:[a.jsx(M,{icon:mw,className:"mr-2"}),"Confirmar Pedido"]})]})]})]})]})})})})]})}),a.jsx(tr.Root,{show:Wt,as:m.Fragment,children:a.jsxs("div",{className:"fixed inset-0 overflow-hidden z-50",children:[a.jsx(tr.Child,{as:m.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),a.jsx("div",{className:"fixed inset-y-0 right-0 pl-10 max-w-full flex",children:a.jsx(tr.Child,{as:m.Fragment,enter:"transform transition ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:a.jsx("div",{className:"relative w-screen max-w-md",children:a.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl",children:[a.jsx("div",{className:"px-6 py-5 bg-white border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:H==null?void 0:H.nombre}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Selecciona las opciones para este producto"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>ye(F=>Math.max(1,F-1)),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",disabled:ge<=1,children:a.jsx(M,{icon:hw,className:"h-4 w-4"})}),a.jsx("span",{className:"text-lg font-medium text-gray-900 w-8 text-center",children:ge}),a.jsx("button",{onClick:()=>ye(F=>F+1),className:"p-1 text-gray-400 hover:text-emerald-500 hover:bg-emerald-50 rounded-full transition-colors",children:a.jsx(M,{icon:Et,className:"h-4 w-4"})})]})]})]}),a.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-full transition-colors",onClick:()=>{Sn(!1),se(null),Ie({}),ye(1)},children:a.jsx(M,{icon:yt,className:"h-6 w-6"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"p-6 space-y-6",children:(eo=H==null?void 0:H.modificadores)==null?void 0:eo.map(F=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:F.nombre}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:F.tipo==="multiple"?"Puedes seleccionar varias opciones":"Selecciona una opción"})]}),a.jsx("div",{className:"divide-y divide-gray-200",children:F.opciones.map($=>{var W,K;return a.jsxs("label",{className:"flex items-center p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[a.jsx("input",{type:F.tipo==="multiple"?"checkbox":"radio",name:`modificador-${F.id}`,value:$.id,checked:F.tipo==="multiple"?(W=oe[F.id])==null?void 0:W.includes($.id):oe[F.id]===$.id,onChange:()=>{if(F.tipo==="multiple"){const ne=oe[F.id]||[],_e=ne.includes($.id)?ne.filter(Le=>Le!==$.id):[...ne,$.id];Sl(F.id,_e)}else Sl(F.id,$.id)},className:`h-4 w-4 ${F.tipo==="multiple"?"rounded text-emerald-600 focus:ring-emerald-500":"rounded-full text-emerald-600 focus:ring-emerald-500"} border-gray-300`}),a.jsxs("div",{className:"ml-3 flex flex-1 justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:$.nombre}),$.precio>0&&a.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["+ $",(K=$.precio)==null?void 0:K.toLocaleString("es-CL")]})]})]},$.id)})})]},F.id))})}),a.jsxs("div",{className:"border-t border-gray-200 p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[a.jsx("span",{children:"Precio unitario:"}),a.jsxs("span",{className:"font-medium text-gray-900",children:["$",(Il=H==null?void 0:H.precio)==null?void 0:Il.toLocaleString("es-CL")]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2 text-sm text-gray-500",children:[a.jsx("span",{children:"Cantidad:"}),a.jsx("span",{className:"font-medium text-gray-900",children:ge})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2 text-base font-semibold",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{className:"text-emerald-600",children:["$",(((H==null?void 0:H.precio)||0)*ge).toLocaleString("es-CL")]})]})]}),a.jsxs("button",{type:"button",onClick:Ku,className:"w-full bg-emerald-600 text-white px-6 py-4 rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center font-semibold text-lg",children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Agregar ",ge," al Pedido"]})]})]})})})})]})}),a.jsx(ta,{isOpen:wt,onClose:()=>st(!1),title:"Confirmar Cancelación",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[a.jsx(M,{icon:xt,className:"text-2xl"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["¿Estás seguro de que deseas cancelar el pedido de la mesa ",D==null?void 0:D.numero,"? Esta acción eliminará todos los productos agregados."]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>st(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{onClick:El,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700",children:"Sí, Cancelar Pedido"})]})]})}),a.jsx(_m,{})]})})},nB=()=>a.jsx(fs,{children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Gestión de Pedidos"}),a.jsx("p",{className:"text-gray-600",children:"Bienvenido a la sección de gestión de pedidos. Aquí podrás crear nuevos pedidos, dar seguimiento a los existentes y gestionar el estado de las órdenes en curso."}),a.jsx("div",{className:"mt-8 p-8 bg-emerald-50 rounded-lg border border-emerald-200 text-center",children:a.jsx("p",{className:"text-emerald-700 text-lg font-medium",children:"El módulo de administración de pedidos está en desarrollo."})})]})}),rB=({isOpen:t,onClose:e,onCategorySaved:n,editingCategory:r=null})=>{const s=!!r,[i,o]=m.useState({nombre:"",descripcion:"",color:"#6EE7B7"}),[l,c]=m.useState(!0),[d,f]=m.useState(!1),[h,p]=m.useState(""),[x,_]=m.useState(!1),[j,N]=m.useState(!1),w=[{nombre:"Lácteos",color:"#2DD4BF"},{nombre:"Carnes",color:"#34D399"},{nombre:"Verduras",color:"#6EE7B7"},{nombre:"Frutas",color:"#14B8A6"},{nombre:"Bebidas",color:"#059669"},{nombre:"Abarrotes",color:"#0D9488"},{nombre:"Condimentos",color:"#10B981"},{nombre:"Congelados",color:"#0F766E"},{nombre:"Snacks",color:"#047857"},{nombre:"Limpieza",color:"#0F766E"}];m.useEffect(()=>{N(!!t)},[t]),m.useEffect(()=>{s&&r?(o({nombre:r.nombre||"",descripcion:r.descripcion||"",color:r.color||"#6EE7B7"}),c(!1)):(o({nombre:"",descripcion:"",color:"#6EE7B7"}),c(!0)),p(""),_(!1)},[t,r,s]);const y=P=>{const O=w.find(T=>T.nombre===P.target.value);O&&o({...i,nombre:O.nombre,color:O.color})},b=P=>{const{name:O,value:T}=P.target;o(E=>({...E,[O]:T}))},S=async P=>{if(P.preventDefault(),!i.nombre.trim()){p("El nombre de la categoría es obligatorio");return}f(!0),p("");try{let O;const T=!s;s?(await rr(Qe(Ne,"inventarioCategorias",r.id),{nombre:i.nombre,descripcion:i.descripcion,color:i.color,actualizado:new Date().toISOString()}),O={id:r.id,...i,actualizado:new Date().toISOString()}):O={id:(await Wa(kt(Ne,"inventarioCategorias"),{nombre:i.nombre,descripcion:i.descripcion,color:i.color,creado:new Date().toISOString()})).id,...i,creado:new Date().toISOString()},_(!0),setTimeout(()=>{n(O,T),setTimeout(()=>{e()},500)},1e3)}catch(O){console.error("Error al guardar categoría:",O),p(`Error: ${O.message}`)}finally{f(!1)}};return m.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),t?vt.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 md:p-0",children:[a.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${j?"bg-opacity-70":"bg-opacity-0"} backdrop-blur-sm`,onClick:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 transform transition-all duration-300 ${j?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[a.jsxs("div",{className:"sticky top-0 bg-white z-10 flex justify-between items-center p-4 border-b rounded-t-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:s?"Editar Categoría":"Añadir Categoría"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 rounded-full p-1","aria-label":"Cerrar",children:a.jsx(M,{icon:yt,className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:S,className:"p-6",children:[h&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 animate-fadeIn",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:xt,className:"mr-2"}),a.jsx("span",{children:h})]})}),x&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700 animate-fadeIn",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:Yt,className:"mr-2"}),a.jsxs("span",{children:["Categoría ",s?"actualizada":"creada"," exitosamente"]})]})}),!s&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-gray-700 font-medium",children:"Tipo de categoría"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"radio",className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300",checked:l,onChange:()=>c(!0)}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Predefinida"})]}),a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"radio",className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300",checked:!l,onChange:()=>c(!1)}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Personalizada"})]})]})]}),l?a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seleccionar categoría"}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",onChange:y,value:i.nombre,children:[a.jsx("option",{value:"",children:"-- Seleccione una categoría --"}),w.map(P=>a.jsx("option",{value:P.nombre,children:P.nombre},P.nombre))]})]}):null]}),a.jsxs("div",{className:`mb-4 ${l?"opacity-50":""}`,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la categoría"}),a.jsx("input",{type:"text",name:"nombre",value:i.nombre,onChange:b,disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),a.jsxs("div",{className:`mb-4 ${l?"opacity-50":""}`,children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Descripción ",a.jsx("span",{className:"text-xs text-gray-400",children:"(opcional)"})]}),a.jsx("textarea",{name:"descripcion",value:i.descripcion,onChange:b,disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 resize-none",rows:3})]}),a.jsxs("div",{className:`mb-6 ${l?"opacity-50":""}`,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"color",name:"color",value:i.color,onChange:b,disabled:l,className:"h-10 w-10 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",name:"color",value:i.color,onChange:b,disabled:l,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md",disabled:d,children:"Cancelar"}),a.jsxs("button",{type:"submit",className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:d||x,children:[d?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):x?a.jsx(M,{icon:Yt,className:"mr-2"}):a.jsx(M,{icon:Et,className:"mr-2"}),d?"Guardando...":x?"¡Guardado!":s?"Actualizar":"Agregar"]})]})]})]})]}),document.body):null},sB=({isOpen:t,onClose:e,onConfirm:n,category:r})=>{const[s,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[f,h]=m.useState("");m.useEffect(()=>{i(!!t)},[t]),m.useEffect(()=>{t&&(l(!1),d(!1),h(""))},[t]);const p=async()=>{l(!0),h("");try{await n(r.id),d(!0),setTimeout(()=>{e(),setTimeout(()=>{d(!1)},300)},1e3)}catch(x){console.error("Error al eliminar categoría:",x),h(`Error: ${x.message}`)}finally{l(!1)}};return m.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),t?vt.createPortal(a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${s?"bg-opacity-70":"bg-opacity-0"} backdrop-blur-sm`,onClick:o?void 0:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl max-w-md w-full mx-auto transform transition-all duration-300 ${s?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b rounded-t-lg",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Eliminar Categoría"}),a.jsx("button",{onClick:o?void 0:e,className:"text-emerald-600 hover:text-emerald-900 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 rounded-full p-1",disabled:o,children:a.jsx(M,{icon:yt,className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-6 text-center",children:[f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:xt,className:"mr-2"}),a.jsx("span",{children:f})]})}),c?a.jsxs("div",{className:"animate-fadeIn",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:a.jsx(M,{icon:Yt,className:"h-8 w-8 text-green-600"})}),a.jsx("h3",{className:"text-lg font-medium text-green-900 mb-2",children:"¡Categoría eliminada!"}),a.jsx("p",{className:"text-sm text-gray-600",children:"La categoría ha sido eliminada exitosamente."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:a.jsx(M,{icon:mt,className:"h-8 w-8 text-red-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"¿Eliminar esta categoría?"}),a.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Estás a punto de eliminar la categoría ",a.jsx("span",{className:"font-semibold",children:r==null?void 0:r.nombre}),". Esta acción no se puede deshacer y podría afectar a los productos asociados a esta categoría."]}),a.jsxs("div",{className:"mt-6 flex justify-center space-x-3",children:[a.jsx("button",{type:"button",onClick:o?void 0:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md",disabled:o,children:"Cancelar"}),a.jsxs("button",{type:"button",onClick:p,className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:o||c,children:[o?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):a.jsx(M,{icon:mt,className:"mr-2"}),o?"Eliminando...":"Eliminar"]})]})]})]})]})]}),document.body):null},gv=({type:t="success",message:e,duration:n=3e3,onClose:r,isVisible:s})=>{const[i,o]=m.useState(s);m.useEffect(()=>{if(o(s),s&&n>0){const f=setTimeout(()=>{o(!1),setTimeout(()=>r==null?void 0:r(),300)},n);return()=>clearTimeout(f)}},[s,n,r]);const l={success:Yt,error:yt,warning:xt,info:Yy},c={success:"bg-green-500",error:"bg-red-500",warning:"bg-amber-500",info:"bg-blue-500"},d={success:"bg-gradient-to-r from-green-500 to-green-600",error:"bg-gradient-to-r from-red-500 to-red-600",warning:"bg-gradient-to-r from-amber-500 to-amber-600",info:"bg-gradient-to-r from-blue-500 to-blue-600"};return i?vt.createPortal(a.jsx("div",{className:`fixed top-4 right-4 z-[10000] rounded-lg shadow-lg max-w-sm transition-all transform duration-300 ${i?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:a.jsxs("div",{className:`${d[t]} text-white px-4 py-3 rounded-lg shadow-md flex items-center space-x-3`,children:[a.jsx("div",{className:`flex-shrink-0 h-8 w-8 rounded-full ${c[t]} flex items-center justify-center bg-opacity-80`,children:a.jsx(M,{icon:l[t],className:"h-4 w-4"})}),a.jsx("div",{className:"flex-1 ml-2 mr-1",children:e}),a.jsx("button",{onClick:()=>{o(!1),setTimeout(()=>r==null?void 0:r(),300)},className:"focus:outline-none bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full h-6 w-6 inline-flex items-center justify-center",children:a.jsx(M,{icon:yt,className:"h-3 w-3"})})]})}),document.body):null},iB=({isOpen:t,onClose:e,onProviderSaved:n,editingProvider:r=null})=>{const s=!!r,[i,o]=m.useState({nombre:"",rut:"",contacto:"",telefono:"",email:"",direccion:"",notas:""}),[l,c]=m.useState(!1),[d,f]=m.useState(""),[h,p]=m.useState(!1),[x,_]=m.useState(!1);m.useEffect(()=>{_(!!t)},[t]),m.useEffect(()=>{o(s&&r?{nombre:r.nombre||"",rut:r.rut||"",contacto:r.contacto||"",telefono:r.telefono||"",email:r.email||"",direccion:r.direccion||"",notas:r.notas||""}:{nombre:"",rut:"",contacto:"",telefono:"",email:"",direccion:"",notas:""}),f(""),p(!1)},[t,r,s]);const j=y=>{let b=y.replace(/[^0-9kK]/g,"").toUpperCase();if(b.length===0)return"";let S=b.slice(-1),P=b.slice(0,-1),O="",T=P.length;for(;T>0;)O=(T>=3?P.slice(T-3,T):P.slice(0,T))+(O?"."+O:""),T-=3;return O+"-"+S},N=y=>{const{name:b,value:S}=y.target;o(b==="rut"?P=>({...P,[b]:j(S)}):P=>({...P,[b]:S}))},w=async y=>{if(y.preventDefault(),!i.nombre.trim()){f("El nombre del proveedor es obligatorio");return}c(!0),f("");try{let b;const S=!s,P={nombre:i.nombre,rut:i.rut,contacto:i.contacto,telefono:i.telefono,email:i.email,direccion:i.direccion,notas:i.notas};s?(await rr(Qe(Ne,"proveedores",r.id),{...P,actualizado:new Date().toISOString()}),b={id:r.id,...P,actualizado:new Date().toISOString()}):b={id:(await Wa(kt(Ne,"proveedores"),{...P,creado:new Date().toISOString()})).id,...P,creado:new Date().toISOString()},p(!0),setTimeout(()=>{n(b,S),setTimeout(()=>{e()},500)},1e3)}catch(b){console.error("Error al guardar proveedor:",b),f(`Error: ${b.message}`)}finally{c(!1)}};return m.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),t?vt.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 md:p-0",children:[a.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${x?"bg-opacity-70":"bg-opacity-0"} backdrop-blur-sm`,onClick:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 transform transition-all duration-300 ${x?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[a.jsxs("div",{className:"sticky top-0 bg-white z-10 flex justify-between items-center p-4 border-b rounded-t-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:s?"Editar Proveedor":"Añadir Proveedor"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 rounded-full p-1","aria-label":"Cerrar",children:a.jsx(M,{icon:yt,className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:w,className:"p-6",children:[d&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 animate-fadeIn",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:xt,className:"mr-2"}),a.jsx("span",{children:d})]})}),h&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700 animate-fadeIn",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:Yt,className:"mr-2"}),a.jsxs("span",{children:["Proveedor ",s?"actualizado":"creado"," exitosamente"]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre del Proveedor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"nombre",value:i.nombre,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["RUT ",a.jsx("span",{className:"text-xs text-gray-500",children:"(formato XX.XXX.XXX-X)"})]}),a.jsx("input",{type:"text",name:"rut",value:i.rut,onChange:N,placeholder:"12.345.678-9",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Persona de Contacto"}),a.jsx("input",{type:"text",name:"contacto",value:i.contacto,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),a.jsx("input",{type:"tel",name:"telefono",value:i.telefono,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección"}),a.jsx("input",{type:"text",name:"direccion",value:i.direccion,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Notas ",a.jsx("span",{className:"text-xs text-gray-400",children:"(opcional)"})]}),a.jsx("textarea",{name:"notas",value:i.notas,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm resize-none",rows:3})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md",disabled:l,children:"Cancelar"}),a.jsxs("button",{type:"submit",className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:l||h,children:[l?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):h?a.jsx(M,{icon:Yt,className:"mr-2"}):a.jsx(M,{icon:s?Ti:Et,className:"mr-2"}),l?"Guardando...":h?"¡Guardado!":s?"Actualizar":"Agregar"]})]})]})]})]}),document.body):null},aB=({isOpen:t,onClose:e,onConfirm:n,provider:r})=>{const[s,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[f,h]=m.useState("");m.useEffect(()=>{i(!!t)},[t]),m.useEffect(()=>{t&&(l(!1),d(!1),h(""))},[t]);const p=async()=>{l(!0),h("");try{await n(r.id),d(!0),setTimeout(()=>{e(),setTimeout(()=>{d(!1)},300)},1e3)}catch(x){console.error("Error al eliminar proveedor:",x),h(`Error: ${x.message}`)}finally{l(!1)}};return m.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),t?vt.createPortal(a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${s?"bg-opacity-70":"bg-opacity-0"} backdrop-blur-sm`,onClick:o?void 0:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl max-w-md w-full mx-auto transform transition-all duration-300 ${s?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b rounded-t-lg",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Eliminar Proveedor"}),a.jsx("button",{onClick:o?void 0:e,className:"text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 rounded-full p-1",disabled:o,children:a.jsx(M,{icon:yt,className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-6 text-center",children:[f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:xt,className:"mr-2"}),a.jsx("span",{children:f})]})}),c?a.jsxs("div",{className:"animate-fadeIn",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:a.jsx(M,{icon:Yt,className:"h-8 w-8 text-green-600"})}),a.jsx("h3",{className:"text-lg font-medium text-green-900 mb-2",children:"¡Proveedor eliminado!"}),a.jsx("p",{className:"text-sm text-gray-600",children:"El proveedor ha sido eliminado exitosamente."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:a.jsx(M,{icon:mt,className:"h-8 w-8 text-red-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"¿Eliminar este proveedor?"}),a.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Estás a punto de eliminar al proveedor ",a.jsx("span",{className:"font-semibold",children:r==null?void 0:r.nombre}),". Esta acción no se puede deshacer."]}),a.jsxs("div",{className:"mt-6 flex justify-center space-x-3",children:[a.jsx("button",{type:"button",onClick:o?void 0:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md",disabled:o,children:"Cancelar"}),a.jsxs("button",{type:"button",onClick:p,className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:o||c,children:[o?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):a.jsx(M,{icon:mt,className:"mr-2"}),o?"Eliminando...":"Eliminar"]})]})]})]})]})]}),document.body):null},oB=({isOpen:t,onClose:e,onProductSaved:n,editingProduct:r=null})=>{const s=!!r,[i,o]=m.useState({nombre:"",codigo:"",descripcion:"",categoria:"",proveedor:"",unidad_medida:"unidad",stock_actual:"",stock_minimo:"",ubicacion:"",notas:"",unidades_por_medida:"",tiene_unidades_sueltas:!1,cantidad_unidades_sueltas:""}),[l,c]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState([]),[x,_]=m.useState([]),[j,N]=m.useState(!1),[w,y]=m.useState(!1),[b,S]=m.useState(""),[P,O]=m.useState(!1),[T,E]=m.useState(!1),[k,I]=m.useState(!1);m.useEffect(()=>{t?(E(!0),R()):E(!1)},[t]);const R=async()=>{y(!0);try{const ie=kt(Ne,"inventarioCategorias"),D=await Rn(Jr(ie));if(!D.empty){const ae=D.docs.map(Z=>({id:Z.id,...Z.data()}));p(ae)}const V=kt(Ne,"proveedores"),q=await Rn(Jr(V));if(!q.empty){const ae=q.docs.map(Z=>({id:Z.id,...Z.data()}));_(ae)}}catch(ie){console.error("Error al cargar datos relacionados:",ie)}finally{y(!1)}},L=ie=>["caja","paquete","kg","l"].includes(ie);m.useEffect(()=>{var ie,D,V,q;if(s&&r){const ae=L(r.unidad_medida);f(ae),c(ae),o({nombre:r.nombre||"",codigo:r.codigo||"",descripcion:r.descripcion||"",categoria:r.categoria||"",proveedor:r.proveedor||"",unidad_medida:r.unidad_medida||"unidad",stock_actual:((ie=r.stock_actual)==null?void 0:ie.toString())||"",stock_minimo:((D=r.stock_minimo)==null?void 0:D.toString())||"",ubicacion:r.ubicacion||"",notas:r.notas||"",unidades_por_medida:((V=r.unidades_por_medida)==null?void 0:V.toString())||"",tiene_unidades_sueltas:r.tiene_unidades_sueltas||!1,cantidad_unidades_sueltas:((q=r.cantidad_unidades_sueltas)==null?void 0:q.toString())||""})}else o({nombre:"",codigo:"",descripcion:"",categoria:"",proveedor:"",unidad_medida:"unidad",stock_actual:"",stock_minimo:"",ubicacion:"",notas:"",unidades_por_medida:"",tiene_unidades_sueltas:!1,cantidad_unidades_sueltas:""}),f(!1),c(!1);S(""),O(!1),I(!1)},[t,r,s]);const A=ie=>{const{name:D,value:V,type:q,checked:ae}=ie.target;if(q==="checkbox")o(Z=>({...Z,[D]:ae}));else if(["stock_actual","stock_minimo","unidades_por_medida","cantidad_unidades_sueltas"].includes(D)){if(!/^[0-9]*\.?[0-9]*$/.test(V)&&V!=="")return;if(o(Z=>({...Z,[D]:V})),D==="stock_actual"||D==="stock_minimo"){const Z=parseFloat(D==="stock_actual"?V:i.stock_actual),Q=parseFloat(D==="stock_minimo"?V:i.stock_minimo);!isNaN(Z)&&!isNaN(Q)&&Z<=Q?I(!0):I(!1)}}else if(D==="unidad_medida"){const Z=L(V);f(Z),c(Z),o(Q=>({...Q,[D]:V,unidades_por_medida:Z?Q.unidades_por_medida:"",tiene_unidades_sueltas:Z?Q.tiene_unidades_sueltas:!1,cantidad_unidades_sueltas:Z?Q.cantidad_unidades_sueltas:""}))}else o(Z=>({...Z,[D]:V}))},me=()=>{if(!d)return parseFloat(i.stock_actual)||0;const ie=parseFloat(i.stock_actual)||0,D=parseFloat(i.unidades_por_medida)||0,V=i.tiene_unidades_sueltas&&parseFloat(i.cantidad_unidades_sueltas)||0;return ie*D+V},pe=()=>{switch(i.unidad_medida){case"caja":return"unidades";case"paquete":return"unidades";case"kg":return"gramos";case"l":return"mililitros";default:return"unidades"}},ke=async ie=>{if(ie.preventDefault(),!i.nombre.trim()){S("El nombre del producto es obligatorio");return}if(d&&!i.unidades_por_medida){S(`Por favor, especifica cuántas ${pe()} hay en cada ${i.unidad_medida}`);return}if(d&&i.tiene_unidades_sueltas&&!i.cantidad_unidades_sueltas){S(`Por favor, especifica cuántas ${pe()} sueltas hay`);return}N(!0),S("");try{const D={...i,stock_actual:i.stock_actual?parseFloat(i.stock_actual):0,stock_minimo:i.stock_minimo?parseFloat(i.stock_minimo):0,unidades_por_medida:i.unidades_por_medida?parseFloat(i.unidades_por_medida):null,tiene_unidades_sueltas:d?i.tiene_unidades_sueltas:!1,cantidad_unidades_sueltas:i.cantidad_unidades_sueltas?parseFloat(i.cantidad_unidades_sueltas):0,stock_total_unidades:me()};let V;const q=!s;s?(await rr(Qe(Ne,"inventario",r.id),{...D,actualizado:new Date().toISOString()}),V={id:r.id,...D,actualizado:new Date().toISOString()}):V={id:(await Wa(kt(Ne,"inventario"),{...D,creado:new Date().toISOString()})).id,...D,creado:new Date().toISOString()},O(!0),setTimeout(()=>{n(V,q),setTimeout(()=>{e()},500)},1e3)}catch(D){console.error("Error al guardar producto:",D),S(`Error: ${D.message}`)}finally{N(!1)}};return t?vt.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 md:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 transform transition-all duration-300 ${T?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,style:{maxHeight:"calc(100vh - 32px)"},children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b rounded-t",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s?"Editar Producto":"Agregar Nuevo Producto"}),a.jsx("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",onClick:e,children:a.jsx(M,{icon:yt})})]}),a.jsxs("div",{className:"overflow-y-auto p-6",style:{maxHeight:"calc(100vh - 120px)"},children:[b&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg relative flex items-center",children:[a.jsx(M,{icon:xt,className:"w-5 h-5 mr-2 text-red-600"}),a.jsx("div",{className:"text-sm",children:b})]}),k&&a.jsxs("div",{className:"mb-4 p-3 bg-emerald-50 border border-emerald-200 text-emerald-800 rounded-lg relative flex items-center",children:[a.jsx(M,{icon:xF,className:"w-5 h-5 mr-2 text-emerald-600"}),a.jsx("div",{className:"text-sm",children:"El stock actual está por debajo o es igual al stock mínimo. Se marcará como stock bajo."})]}),a.jsxs("form",{onSubmit:ke,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Producto *"}),a.jsx("input",{type:"text",name:"nombre",value:i.nombre,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Ej: Harina de trigo",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código"}),a.jsx("input",{type:"text",name:"codigo",value:i.codigo,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Ej: PROD-001"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),a.jsx("textarea",{name:"descripcion",value:i.descripcion,onChange:A,rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Añade una descripción del producto..."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoría"}),a.jsxs("select",{name:"categoria",value:i.categoria,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[a.jsx("option",{value:"",children:"-- Seleccionar Categoría --"}),h.map(ie=>a.jsx("option",{value:ie.id,children:ie.nombre},ie.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proveedor"}),a.jsxs("select",{name:"proveedor",value:i.proveedor,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[a.jsx("option",{value:"",children:"-- Seleccionar Proveedor --"}),x.map(ie=>a.jsx("option",{value:ie.id,children:ie.nombre},ie.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidad de Medida"}),a.jsxs("select",{name:"unidad_medida",value:i.unidad_medida,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[a.jsx("option",{value:"unidad",children:"Unidad"}),a.jsx("option",{value:"kg",children:"Kilogramo (kg)"}),a.jsx("option",{value:"g",children:"Gramo (g)"}),a.jsx("option",{value:"l",children:"Litro (l)"}),a.jsx("option",{value:"ml",children:"Mililitro (ml)"}),a.jsx("option",{value:"caja",children:"Caja"}),a.jsx("option",{value:"paquete",children:"Paquete"})]})]}),l&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i.unidad_medida==="caja"||i.unidad_medida==="paquete"?`Unidades por ${i.unidad_medida}`:i.unidad_medida==="kg"?"Gramos por kilogramo":i.unidad_medida==="l"?"Mililitros por litro":"Cantidad base"}),a.jsx("input",{type:"text",name:"unidades_por_medida",value:i.unidades_por_medida,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:i.unidad_medida==="caja"?"Ej: 24 (unidades por caja)":i.unidad_medida==="kg"?"1000 (g por kg)":i.unidad_medida==="l"?"1000 (ml por l)":"Cantidad",inputMode:"numeric"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:i.unidad_medida==="caja"?"Cuántas unidades vienen en cada caja":i.unidad_medida==="paquete"?"Cuántas unidades vienen en cada paquete":i.unidad_medida==="kg"?"Normalmente 1000 g = 1 kg":i.unidad_medida==="l"?"Normalmente 1000 ml = 1 l":"Cantidad base"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d?`Stock (en ${i.unidad_medida}s completas)`:"Stock Actual"}),a.jsx("input",{type:"text",name:"stock_actual",value:i.stock_actual,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:d?`Ej: 10 ${i.unidad_medida}s`:"Stock actual",inputMode:"decimal"}),d&&a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Cantidad de ",i.unidad_medida,"s completos en inventario"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Mínimo"}),a.jsx("input",{type:"text",name:"stock_minimo",value:i.stock_minimo,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Stock mínimo",inputMode:"decimal"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Nivel para alertas de stock bajo"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicación"}),a.jsx("input",{type:"text",name:"ubicacion",value:i.ubicacion,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Ej: Bodega A, Estante 2"})]})]}),d&&a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex items-start mb-2",children:[a.jsx(M,{icon:Yy,className:"text-blue-500 mt-1 mr-2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-blue-800 font-medium",children:"Unidades sueltas o parciales"}),a.jsxs("p",{className:"text-sm text-blue-700",children:["Si tienes ",i.unidad_medida,"s abiertas o unidades sueltas, regístralas aquí"]})]})]}),a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("input",{type:"checkbox",id:"tiene_unidades_sueltas",name:"tiene_unidades_sueltas",checked:i.tiene_unidades_sueltas,onChange:A,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsxs("label",{htmlFor:"tiene_unidades_sueltas",className:"ml-2 block text-sm text-blue-700",children:["Tengo ",i.unidad_medida,"s abiertas o unidades sueltas"]})]}),i.tiene_unidades_sueltas&&a.jsxs("div",{className:"pl-6 border-l-2 border-blue-200",children:[a.jsxs("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:["Cantidad de ",pe()," sueltas"]}),a.jsx("input",{type:"text",name:"cantidad_unidades_sueltas",value:i.cantidad_unidades_sueltas,onChange:A,className:"w-full px-3 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 bg-white",placeholder:`Ej: 5 ${pe()}`,inputMode:"decimal"}),a.jsx("p",{className:"mt-1 text-xs text-blue-600",children:i.unidad_medida==="caja"?"Unidades individuales (fuera de cajas completas)":i.unidad_medida==="paquete"?"Unidades individuales (fuera de paquetes completos)":i.unidad_medida==="kg"?"Gramos sueltos (menos de 1 kg)":i.unidad_medida==="l"?"Mililitros sueltos (menos de 1 litro)":"Unidades sueltas"})]}),(i.stock_actual||i.tiene_unidades_sueltas&&i.cantidad_unidades_sueltas)&&a.jsxs("div",{className:"mt-4 bg-white p-3 rounded border border-blue-200",children:[a.jsxs("p",{className:"text-sm font-medium text-blue-800",children:["Stock total: ",me()," ",pe()]}),a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["(",i.stock_actual||0," ",i.unidad_medida,"s × ",i.unidades_por_medida||0," ",pe(),")",i.tiene_unidades_sueltas&&i.cantidad_unidades_sueltas?` + ${i.cantidad_unidades_sueltas} ${pe()} sueltas`:""]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas adicionales"}),a.jsx("textarea",{name:"notas",value:i.notas,onChange:A,rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Información adicional, instrucciones, etc."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:j,children:"Cancelar"}),a.jsxs("button",{type:"submit",className:"px-6 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 flex items-center space-x-2",disabled:j||P,children:[j?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):P?a.jsx(M,{icon:Yt,className:"mr-2"}):a.jsx(M,{icon:Ti,className:"mr-2"}),a.jsx("span",{children:j?"Guardando...":P?"Guardado":s?"Actualizar":"Guardar"})]})]})]})]})]})]}),document.body):null},lB=({isOpen:t,onClose:e,onConfirm:n,product:r})=>{const[s,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[f,h]=m.useState("");m.useEffect(()=>{i(!!t)},[t]),m.useEffect(()=>{t&&(l(!1),d(!1),h(""))},[t]);const p=async()=>{l(!0),h("");try{await n(r.id),d(!0),setTimeout(()=>{e(),setTimeout(()=>{d(!1)},300)},1e3)}catch(x){console.error("Error al eliminar producto:",x),h(`Error: ${x.message}`)}finally{l(!1)}};return m.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),t?vt.createPortal(a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${s?"bg-opacity-70":"bg-opacity-0"} backdrop-blur-sm`,onClick:o?void 0:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl max-w-md w-full mx-auto transform transition-all duration-300 ${s?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b rounded-t-lg",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Eliminar Producto"}),a.jsx("button",{onClick:o?void 0:e,className:"text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 rounded-full p-1",disabled:o,children:a.jsx(M,{icon:yt,className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-6 text-center",children:[f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:xt,className:"mr-2"}),a.jsx("span",{children:f})]})}),c?a.jsxs("div",{className:"animate-fadeIn",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:a.jsx(M,{icon:Yt,className:"h-8 w-8 text-green-600"})}),a.jsx("h3",{className:"text-lg font-medium text-green-900 mb-2",children:"¡Producto eliminado!"}),a.jsx("p",{className:"text-sm text-gray-600",children:"El producto ha sido eliminado exitosamente del inventario."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:a.jsx(M,{icon:mt,className:"h-8 w-8 text-red-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"¿Eliminar este producto?"}),a.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Estás a punto de eliminar ",a.jsx("span",{className:"font-semibold",children:r==null?void 0:r.nombre})," del inventario. Esta acción no se puede deshacer y podría afectar a reportes históricos y recetas asociadas."]}),a.jsxs("div",{className:"mt-6 flex justify-center space-x-3",children:[a.jsx("button",{type:"button",onClick:o?void 0:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md",disabled:o,children:"Cancelar"}),a.jsxs("button",{type:"button",onClick:p,className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:o||c,children:[o?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):a.jsx(M,{icon:mt,className:"mr-2"}),o?"Eliminando...":"Eliminar"]})]})]})]})]})]}),document.body):null},cB=()=>{const[t,e]=m.useState("inventario"),[n,r]=m.useState([]),[s,i]=m.useState(!1),[o,l]=m.useState(null),[c,d]=m.useState(!1),[f,h]=m.useState(null),[p,x]=m.useState({visible:!1,type:"success",message:""}),[_,j]=m.useState(!1),[N,w]=m.useState(null),[y,b]=m.useState([]),[S,P]=m.useState(!1),[O,T]=m.useState(null),[E,k]=m.useState(!1),[I,R]=m.useState(null),[L,A]=m.useState([]),[me,pe]=m.useState([]),[ke,ie]=m.useState(!1),[D,V]=m.useState(null),[q,ae]=m.useState(!1),[Z,Q]=m.useState(null),[ve,Ve]=m.useState(""),[Ge,tt]=m.useState("todos"),[bt,Xt]=m.useState(0),Yn=[{id:"inventario",label:"Inventario",icon:ih},{id:"categorias",label:"Categorías",icon:dw},{id:"proveedores",label:"Proveedores",icon:fw},{id:"reportes",label:"Reportes",icon:Eg}];m.useEffect(()=>{t==="categorias"&&Jt()},[t]),m.useEffect(()=>{t==="proveedores"&&Xn()},[t]),m.useEffect(()=>{t==="inventario"&&Bn()},[t]),m.useEffect(()=>{Jt()},[]);const Jt=async()=>{i(!0),l(null);try{const z=kt(Ne,"inventarioCategorias"),le=await Rn(z);if(le.empty)r([]);else{const De=le.docs.map(Ke=>({id:Ke.id,...Ke.data()}));r(De)}}catch(z){console.error("Error al cargar categorías:",z),l("Error al cargar las categorías. Intenta nuevamente.")}finally{i(!1)}},Xn=async()=>{i(!0),l(null);try{const z=kt(Ne,"proveedores"),le=await Rn(z);if(le.empty)b([]);else{const De=le.docs.map(Ke=>({id:Ke.id,...Ke.data()}));b(De)}}catch(z){console.error("Error al cargar proveedores:",z),l("Error al cargar los proveedores. Intenta nuevamente.")}finally{i(!1)}},Bn=async()=>{i(!0),l(null);try{const z=kt(Ne,"inventario"),le=await Rn(z);if(le.empty)A([]),pe([]),Xt(0);else{const De=le.docs.map(ze=>({id:ze.id,...ze.data()}));console.log("Productos cargados:",De);const Ke=De.filter(ze=>ze.stock_actual<=ze.stock_minimo);pe(Ke),A(De),Xt(0)}}catch(z){console.error("Error al cargar productos:",z),l("Error al cargar los productos. Intenta nuevamente.")}finally{i(!1)}},Wt=(z,le,De=4e3)=>{x({visible:!0,type:z,message:le,duration:De})},Sn=()=>{x(z=>({...z,visible:!1}))},H=z=>{w(z),j(!0)},se=()=>{j(!1),setTimeout(()=>w(null),300)},oe=async z=>{try{return await Ei(Qe(Ne,"inventarioCategorias",z)),r(le=>le.filter(De=>De.id!==z)),Wt("success","La categoría ha sido eliminada exitosamente."),!0}catch(le){throw console.error("Error al eliminar categoría:",le),Wt("error",`Error al eliminar categoría: ${le.message}`),le}},Ie=z=>{h(z),d(!0)},ge=()=>{h(null),d(!0)},ye=()=>{d(!1),setTimeout(()=>h(null),300)},fe=(z,le)=>{Jt(),Wt("success",z==="create"?"La categoría ha sido creada exitosamente.":"La categoría ha sido actualizada exitosamente.")},pt=()=>{T(null),P(!0)},mn=()=>{P(!1),setTimeout(()=>T(null),300)},Jn=z=>{T(z),P(!0)},wt=z=>{R(z),k(!0)},st=()=>{k(!1),setTimeout(()=>R(null),300)},ps=async z=>{try{return await Ei(Qe(Ne,"proveedores",z)),b(le=>le.filter(De=>De.id!==z)),Wt("success","El proveedor ha sido eliminado exitosamente."),!0}catch(le){throw console.error("Error al eliminar proveedor:",le),Wt("error",`Error al eliminar proveedor: ${le.message}`),le}},gs=z=>{Xn(),Wt("success",z==="create"?"El proveedor ha sido creado exitosamente.":"El proveedor ha sido actualizado exitosamente.")},Tr=()=>{V(null),ie(!0)},Hr=()=>{ie(!1),setTimeout(()=>V(null),300)},Zn=z=>{V(z),ie(!0)},Bs=z=>{Q(z),ae(!0)},Hs=()=>{ae(!1),setTimeout(()=>Q(null),300)},ee=async z=>{try{await Ei(Qe(Ne,"inventario",z)),A(Ke=>Ke.filter(ze=>ze.id!==z)),pe(Ke=>Ke.filter(ze=>ze.id!==z));const le=L.filter(Ke=>Ke.id!==z);let De=0;return le.forEach(Ke=>{const ze=parseFloat(Ke.precio_compra)||0,mr=parseFloat(Ke.stock_actual)||0,In=parseFloat(Ke.unidades_por_medida)||1;let pr;if(In>1){const Yi=ze/In,Qa=Ke.tiene_unidades_sueltas&&parseFloat(Ke.cantidad_unidades_sueltas)||0;pr=(mr*In+Qa)*Yi}else pr=ze*mr;pr>0&&(De+=pr)}),Xt(De),Wt("success","El producto ha sido eliminado exitosamente."),!0}catch(le){throw console.error("Error al eliminar producto:",le),Wt("error",`Error al eliminar producto: ${le.message}`),le}},ue=(z,le)=>{Bn(),Jt(),Wt("success",le?`El producto "${z.nombre}" ha sido agregado exitosamente.`:`El producto "${z.nombre}" ha sido actualizado exitosamente.`)},Ee=()=>{let z=[...L];if(ve){const le=ve.toLowerCase();z=z.filter(De=>{var Ke,ze,mr;return((Ke=De.nombre)==null?void 0:Ke.toLowerCase().includes(le))||((ze=De.codigo)==null?void 0:ze.toLowerCase().includes(le))||((mr=De.descripcion)==null?void 0:mr.toLowerCase().includes(le))})}return Ge!=="todos"&&(Ge==="stock_bajo"?z=z.filter(le=>le.stock_actual<=le.stock_minimo):z=z.filter(le=>le.categoria===Ge)),z},je=z=>{if(!z)return"Sin categoría";const le=n.find(De=>De.id===z);return le?le.nombre:`Categoría ID: ${z.substring(0,5)}...`},Dt=()=>s?a.jsxs("div",{className:"flex justify-center items-center p-8",children:[a.jsx(M,{icon:dt,spin:!0,className:"text-emerald-500 text-3xl"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando categorías..."})]}):o?a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 text-center",children:[a.jsx("p",{className:"text-red-700",children:o}),a.jsx("button",{className:"mt-2 px-4 py-1 bg-emerald-100 text-emerald-800 rounded-md text-sm hover:bg-emerald-200",onClick:Jt,children:"Intentar nuevamente"})]}):n.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-500",children:"No hay categorías registradas."}),a.jsxs("button",{onClick:ge,className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center mx-auto",children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Crear primera categoría"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha de creación"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(z=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-4 w-4 rounded-full mr-3",style:{backgroundColor:z.color||"#6EE7B7"}}),a.jsx("span",{className:"font-medium text-gray-900",children:z.nombre})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:z.descripcion||a.jsx("span",{className:"text-gray-400 italic",children:"Sin descripción"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z.creado?new Date(z.creado).toLocaleDateString("es-ES"):"N/A"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>Ie(z),className:"text-emerald-600 hover:text-emerald-900 mx-2",title:"Editar categoría",children:a.jsx(M,{icon:va})}),a.jsx("button",{onClick:()=>H(z),className:"text-red-600 hover:text-red-900 mx-2",title:"Eliminar categoría",children:a.jsx(M,{icon:mt})})]})]},z.id))})]})}),it=()=>s?a.jsxs("div",{className:"flex justify-center items-center p-8",children:[a.jsx(M,{icon:dt,spin:!0,className:"text-emerald-500 text-3xl"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando proveedores..."})]}):o?a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 text-center",children:[a.jsx("p",{className:"text-red-700",children:o}),a.jsx("button",{className:"mt-2 px-4 py-1 bg-emerald-100 text-emerald-800 rounded-md text-sm hover:bg-emerald-200",onClick:Xn,children:"Intentar nuevamente"})]}):y.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-500",children:"No hay proveedores registrados."}),a.jsxs("button",{onClick:pt,className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center mx-auto",children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Añadir primer proveedor"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"RUT"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teléfono"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(z=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.nombre})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:z.rut||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:z.contacto||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:z.telefono||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:z.email||"-"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>Jn(z),className:"text-emerald-600 hover:text-emerald-900 mx-2",title:"Editar proveedor",children:a.jsx(M,{icon:va})}),a.jsx("button",{onClick:()=>wt(z),className:"text-red-600 hover:text-red-900 mx-2",title:"Eliminar proveedor",children:a.jsx(M,{icon:mt})})]})]},z.id))})]})}),qt=()=>a.jsxs("div",{className:"animate-fadeIn w-full",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-emerald-100 mr-4",children:a.jsx(M,{icon:oF,className:"text-emerald-600 text-xl"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total de Productos"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:L.length})]})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-teal-100 mr-4",children:a.jsx(M,{icon:Pd,className:"text-teal-600 text-xl"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Productos con Stock Bajo"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:me.length})]})]})})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[a.jsx(M,{icon:ih,className:"mr-3 text-emerald-600"}),"Productos en Inventario"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx("input",{type:"text",className:"pl-10 pr-3 py-2 w-full border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Buscar producto...",value:ve,onChange:z=>Ve(z.target.value)}),a.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:a.jsx(M,{icon:om,className:"h-4 w-4"})})]}),a.jsxs("button",{onClick:Tr,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center",children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Nuevo Producto"]})]})]}),a.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[a.jsxs("button",{className:`px-3 py-1.5 rounded-full text-sm font-medium flex items-center ${Ge==="todos"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-700"}`,onClick:()=>tt("todos"),children:[a.jsx(M,{icon:WO,className:"mr-2 text-xs"}),"Todos"]}),a.jsxs("button",{className:`px-3 py-1.5 rounded-full text-sm font-medium flex items-center ${Ge==="stock_bajo"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-700"}`,onClick:()=>tt("stock_bajo"),children:[a.jsx(M,{icon:Pd,className:"mr-2 text-xs"}),"Stock Bajo"]}),n.map(z=>a.jsxs("button",{className:`px-3 py-1.5 rounded-full text-sm font-medium flex items-center ${Ge===z.id?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-700"}`,onClick:()=>tt(z.id),style:Ge===z.id?{backgroundColor:`${z.color}30`,color:z.color}:{},children:[a.jsx("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:z.color}}),z.nombre]},z.id))]}),s?a.jsxs("div",{className:"flex justify-center items-center p-8",children:[a.jsx(M,{icon:dt,spin:!0,className:"text-emerald-500 text-3xl"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando productos..."})]}):o?a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 text-center",children:[a.jsx("p",{className:"text-red-700",children:o}),a.jsx("button",{className:"mt-2 px-4 py-1 bg-emerald-100 text-emerald-800 rounded-md text-sm hover:bg-emerald-200",onClick:Bn,children:"Intentar nuevamente"})]}):Ee().length===0?a.jsx("div",{className:"text-center py-8",children:L.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-500 mb-4",children:"No hay productos en el inventario."}),a.jsxs("button",{onClick:Tr,className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center mx-auto",children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Agregar primer producto"]})]}):a.jsx("p",{className:"text-gray-500",children:"No se encontraron productos que coincidan con el filtro."})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Código"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ee().map(z=>{const le=z.stock_actual<=z.stock_minimo,De=z.unidades_por_medida>1;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.nombre})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:z.codigo||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:je(z.categoria)})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:`text-sm ${le?"text-red-600 font-semibold":"text-gray-900"}`,children:[z.stock_actual||0," ",z.unidad_medida,le&&a.jsx(M,{icon:Pd,className:"ml-2 text-red-500"})]}),le&&a.jsxs("div",{className:"text-xs text-red-500",children:["Mínimo: ",z.stock_minimo]}),De&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",z.stock_total_unidades||0," ",z.unidad_medida==="caja"?"unidades":z.unidad_medida==="kg"?"gramos":z.unidad_medida==="l"?"ml":"unidades"]})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>Zn(z),className:"text-emerald-600 hover:text-emerald-900 mx-2",title:"Editar producto",children:a.jsx(M,{icon:va})}),a.jsx("button",{onClick:()=>Bs(z),className:"text-red-600 hover:text-red-900 mx-2",title:"Eliminar producto",children:a.jsx(M,{icon:mt})})]})]},z.id)})})]})}),a.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-600",children:[a.jsxs("div",{children:["Mostrando ",Ee().length," de ",L.length," productos"]}),a.jsxs("button",{className:"flex items-center text-emerald-600 hover:text-emerald-800",children:[a.jsx(M,{icon:BO,className:"mr-1"}),"Exportar"]})]})]})]}),me.length>0&&a.jsxs("div",{className:"mt-6 bg-white shadow rounded-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx(M,{icon:Pd,className:"mr-3 text-emerald-600"}),"Productos con Stock Bajo"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Actual"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Mínimo"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ubicación"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:me.map(z=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.nombre})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-red-600 font-medium",children:[z.stock_actual," ",z.unidad_medida]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[z.stock_minimo," ",z.unidad_medida]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:z.ubicacion||"-"})})]},z.id))})]})})]}),a.jsx(oB,{isOpen:ke,onClose:Hr,onProductSaved:ue,editingProduct:D}),a.jsx(lB,{isOpen:q,onClose:Hs,onConfirm:ee,product:Z})]}),Re=()=>a.jsxs("div",{className:"animate-fadeIn w-full",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(M,{icon:dw,className:"mr-3 text-emerald-600"}),"Categorías de Inventario"]}),a.jsx("p",{className:"text-gray-600",children:"Organiza tu inventario mediante categorías personalizadas. Crea, edita y gestiona categorías para clasificar tus productos e ingredientes."})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Listado de Categorías"}),a.jsxs("button",{onClick:ge,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center",children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Nueva Categoría"]})]}),Dt()]}),a.jsx(rB,{isOpen:c,onClose:ye,onCategorySaved:(z,le)=>fe(le?"create":"update"),editingCategory:f}),a.jsx(sB,{isOpen:_,onClose:se,onConfirm:oe,category:N})]}),qe=()=>a.jsxs("div",{className:"animate-fadeIn w-full",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(M,{icon:fw,className:"mr-3 text-emerald-600"}),"Gestión de Proveedores"]}),a.jsx("p",{className:"text-gray-600",children:"Administra tus proveedores de insumos y productos. Mantén un registro de contactos, historial de compras y catálogo de productos por proveedor."})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Listado de Proveedores"}),a.jsxs("button",{onClick:pt,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center",children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Nuevo Proveedor"]})]}),it()]}),a.jsx(iB,{isOpen:S,onClose:mn,onProviderSaved:(z,le)=>gs(le?"create":"update"),editingProvider:O}),a.jsx(aB,{isOpen:E,onClose:st,onConfirm:ps,provider:I})]}),ot=()=>a.jsxs("div",{className:"animate-fadeIn w-full",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(M,{icon:Eg,className:"mr-3 text-emerald-600"}),"Reportes de Inventario"]}),a.jsx("p",{className:"text-gray-600",children:"Genera informes detallados sobre el estado de tu inventario, movimientos, valoración económica y proyecciones de stock."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Movimientos por Período"}),a.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[a.jsxs("div",{className:"flex items-center text-emerald-700",children:[a.jsx(M,{icon:xt,className:"h-5 w-5 mr-2"}),a.jsx("span",{children:"Esta sección está en desarrollo."})]}),a.jsx("p",{className:"text-sm text-emerald-600 mt-2",children:"Aquí podrás generar reportes de movimientos de inventario por período."})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Valoración de Inventario"}),a.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[a.jsxs("div",{className:"flex items-center text-emerald-700",children:[a.jsx(M,{icon:xt,className:"h-5 w-5 mr-2"}),a.jsx("span",{children:"Esta sección está en desarrollo."})]}),a.jsx("p",{className:"text-sm text-emerald-600 mt-2",children:"Aquí podrás ver el valor económico total de tu inventario actual."})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Rotación de Productos"}),a.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[a.jsxs("div",{className:"flex items-center text-emerald-700",children:[a.jsx(M,{icon:xt,className:"h-5 w-5 mr-2"}),a.jsx("span",{children:"Esta sección está en desarrollo."})]}),a.jsx("p",{className:"text-sm text-emerald-600 mt-2",children:"Aquí podrás ver estadísticas de rotación de productos para optimizar tu inventario."})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Productos Críticos"}),a.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[a.jsxs("div",{className:"flex items-center text-emerald-700",children:[a.jsx(M,{icon:xt,className:"h-5 w-5 mr-2"}),a.jsx("span",{children:"Esta sección está en desarrollo."})]}),a.jsx("p",{className:"text-sm text-emerald-600 mt-2",children:"Aquí se mostrarán los productos que requieren atención urgente."})]})]})]})]}),Lt=()=>{switch(t){case"inventario":return qt();case"categorias":return Re();case"proveedores":return qe();case"reportes":return ot();default:return qt()}};return a.jsx(fs,{children:a.jsxs("div",{className:"pb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Control de Inventario"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Gestiona productos, ingredientes, stocks y realiza un seguimiento de movimientos."}),a.jsx("div",{className:"bg-white shadow rounded-lg mb-6",children:a.jsx("div",{className:"px-4 flex border-b border-gray-200 overflow-x-auto",children:Yn.map(z=>a.jsxs("button",{className:`py-4 px-6 font-medium flex items-center transition-colors duration-300 whitespace-nowrap
                  ${t===z.id?"text-emerald-600 border-b-2 border-emerald-500 -mb-px":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,onClick:()=>e(z.id),children:[a.jsx(M,{icon:z.icon,className:"mr-2"}),z.label]},z.id))})}),Lt(),a.jsx(gv,{type:p.type,message:p.message,isVisible:p.visible,duration:p.duration,onClose:Sn})]})})},uB=({isOpen:t,onClose:e,onSaveSections:n,editingSection:r=null})=>{const s=!!r,[i,o]=m.useState({name:"",description:""}),[l,c]=m.useState(!1),[d,f]=m.useState(""),[h,p]=m.useState(!1);m.useEffect(()=>{p(!!t)},[t]),m.useEffect(()=>{o(s&&r?{name:r.name||"",description:r.description||""}:{name:"",description:""}),f(""),c(!1)},[t,r,s]);const x=j=>{const{name:N,value:w}=j.target;o(y=>({...y,[N]:w}))},_=async j=>{if(j.preventDefault(),!i.name.trim()){f("El nombre de la sección es obligatorio");return}c(!0),f("");try{const N={name:i.name,description:i.description,orden:0,actualizado:new Date().toISOString()};let w;if(s){const y=Qe(Ne,"menuSecciones",r.id);await rr(y,N),w={id:r.id,...N}}else N.creado=new Date().toISOString(),w={id:(await Wa(kt(Ne,"menuSecciones"),N)).id,...N};n(w,!s),e()}catch(N){console.error("Error al guardar sección:",N),f(`Error: ${N.message}`),c(!1)}};return t?vt.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 md:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 transform transition-all duration-300 ${h?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b rounded-t",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s?"Editar Sección":"Crear Nueva Sección"}),a.jsx("button",{type:"button",onClick:e,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:a.jsx(M,{icon:yt})})]}),a.jsxs("div",{className:"p-6",children:[d&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg relative flex items-center",children:[a.jsx(M,{icon:xt,className:"w-5 h-5 mr-2 text-red-600"}),a.jsx("div",{className:"text-sm",children:d})]}),a.jsxs("form",{onSubmit:_,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la Sección *"}),a.jsx("input",{type:"text",name:"name",value:i.name,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",placeholder:"Ej: Entrantes, Platos Principales, Postres...",required:!0})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),a.jsx("textarea",{name:"description",value:i.description,onChange:x,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Descripción opcional para esta sección"})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md",disabled:l,children:"Cancelar"}),a.jsxs("button",{type:"submit",className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:l,children:[l?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):a.jsx(M,{icon:Ti,className:"mr-2"}),a.jsx("span",{children:l?"Guardando...":s?"Actualizar":"Guardar"})]})]})]})]})]})]}),document.body):null},dB=({isOpen:t,onClose:e,onSaveProduct:n,editingProduct:r=null,section:s})=>{const i=!!r,[o,l]=m.useState("producto"),[c,d]=m.useState({nombre:"",precio:"",descripcion:"",categoria:(s==null?void 0:s.id)||"",imagen:null,destacado:!1,disponible:!0,tiempo_preparacion:"",alergenos:"",orden:0,receta:[]}),[f,h]=m.useState(null),[p,x]=m.useState(!1),[_,j]=m.useState(""),[N,w]=m.useState(!1),[y,b]=m.useState(!1),[S,P]=m.useState([]),[O,T]=m.useState(!1),[E,k]=m.useState({nombre:"",tipo:"single",opciones:[],required:!1,min_selections:0,max_selections:1,incluido_menu:!0}),[I,R]=m.useState(""),[L,A]=m.useState([]),[me,pe]=m.useState(!1),[ke,ie]=m.useState(null);m.useEffect(()=>{b(!!t)},[t]),m.useEffect(()=>{var H;i&&r?(l("producto"),d({nombre:r.nombre||"",precio:D(r.precio)||"",descripcion:r.descripcion||"",categoria:r.categoria||(s==null?void 0:s.id)||"",destacado:r.destacado||!1,disponible:r.disponible!==!1,tiempo_preparacion:((H=r.tiempo_preparacion)==null?void 0:H.toString())||"",alergenos:r.alergenos||"",orden:r.orden||0,receta:r.receta||[]}),r.imagen_url?h(r.imagen_url):h(null),r!=null&&r.modificadores?P(r.modificadores):P([])):(l("producto"),d({nombre:"",precio:"",descripcion:"",categoria:(s==null?void 0:s.id)||"",imagen:null,destacado:!1,disponible:!0,tiempo_preparacion:"",alergenos:"",orden:0,receta:[]}),h(null),P([])),j(""),w(!1)},[t,r,i,s]);const D=H=>!H&&H!==0?"":(typeof H=="string"?parseFloat(H.replace(/[^\d.-]/g,"")):H).toLocaleString("es-CL"),V=H=>H?parseFloat(H.replace(/[^\d.,]/g,"").replace(/\./g,"").replace(",",".")):0,q=H=>{const{name:se,value:oe,type:Ie,checked:ge}=H.target;if(Ie==="checkbox")d(ye=>({...ye,[se]:ge}));else if(se==="precio"){const ye=oe.replace(/\D/g,"");if(ye===""){d(pt=>({...pt,precio:""}));return}const fe=parseInt(ye,10);if(!isNaN(fe)){const pt=fe.toLocaleString("es-CL");d(mn=>({...mn,precio:pt}))}}else se==="tiempo_preparacion"?(/^\d*$/.test(oe)||oe==="")&&d(ye=>({...ye,[se]:oe})):d(ye=>({...ye,[se]:oe}))},ae=H=>{const se=H.target.files[0];if(!se)return;if(!se.type.match("image.*")){j("Por favor, seleccione una imagen válida");return}if(se.size>2*1024*1024){j("La imagen debe tener un tamaño máximo de 2MB");return}d(Ie=>({...Ie,imagen:se}));const oe=new FileReader;oe.onloadend=()=>{h(oe.result)},oe.readAsDataURL(se)},Z=async(H,se)=>{if(!H)return null;const oe=H.name.split(".").pop(),Ie=`menu_productos/${se}_${Date.now()}.${oe}`,ge=J3(ej,Ie);try{const ye=await a9(ge,H);return await X3(ye.ref)}catch(ye){throw console.error("Error al subir imagen:",ye),ye}},Q=()=>{E.nombre&&(P([...S,{...E,id:Date.now().toString()}]),k({nombre:"",tipo:"single",opciones:[],required:!1,min_selections:0,max_selections:1,incluido_menu:!0}))},ve=H=>{const se={id:Date.now().toString(),nombre:"",precio_adicional:0};P(S.map(oe=>oe.id===H?{...oe,opciones:[...oe.opciones,se]}:oe))},Ve=async H=>{if(!H.trim()){A([]);return}pe(!0);try{const se=kt(Ne,"inventario"),oe=Jr(se,G7(20)),Ie=await Rn(oe),ge=H.toLowerCase(),ye=Ie.docs.map(fe=>({id:fe.id,...fe.data()})).filter(fe=>{var pt,mn;return((pt=fe.nombre)==null?void 0:pt.toLowerCase().includes(ge))||((mn=fe.codigo)==null?void 0:mn.toLowerCase().includes(ge))}).slice(0,5);A(ye)}catch(se){console.error("Error al buscar ingredientes:",se),j("Error al buscar ingredientes")}finally{pe(!1)}},Ge=H=>{const se={id:H.id,nombre:H.nombre,cantidad:0,unidad:H.unidad_medida||"gr",costo_unitario:H.precio_compra||0,stock_actual:H.stock_actual||0};d(oe=>({...oe,receta:[...oe.receta,se]})),R(""),A([]),ie(null)},tt=H=>{d(se=>({...se,receta:se.receta.filter((oe,Ie)=>Ie!==H)}))},bt=(H,se,oe)=>{d(Ie=>({...Ie,receta:Ie.receta.map((ge,ye)=>ye===H?{...ge,[se]:oe}:ge)}))},Xt=(H,se,oe)=>{const Ie={id:oe.id,nombre:oe.nombre,cantidad:0,unidad:oe.unidad_medida||"gr",costo_unitario:oe.precio_compra||0,stock_actual:oe.stock_actual||0};P(S.map(ge=>ge.id===H?{...ge,opciones:ge.opciones.map(ye=>ye.id===se?{...ye,ingredientes:[...ye.ingredientes||[],Ie]}:ye)}:ge)),R(""),A([])},Yn=(H,se,oe)=>{P(S.map(Ie=>Ie.id===H?{...Ie,opciones:Ie.opciones.map(ge=>ge.id===se?{...ge,ingredientes:ge.ingredientes.filter((ye,fe)=>fe!==oe)}:ge)}:Ie))},Jt=(H,se,oe,Ie,ge)=>{P(S.map(ye=>ye.id===H?{...ye,opciones:ye.opciones.map(fe=>fe.id===se?{...fe,ingredientes:fe.ingredientes.map((pt,mn)=>mn===oe?{...pt,[Ie]:ge}:pt)}:fe)}:ye))},Xn=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"Agregar Modificador"}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(M,{icon:Yy,className:"mr-2"}),a.jsx("span",{children:"Personaliza las opciones del producto"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del modificador"}),a.jsx("input",{type:"text",value:E.nombre,onChange:H=>k({...E,nombre:H.target.value}),placeholder:"Ej: Tamaño, Extras, Toppings",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de selección"}),a.jsxs("select",{value:E.tipo,onChange:H=>k({...E,tipo:H.target.value}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",children:[a.jsx("option",{value:"single",children:"Selección única"}),a.jsx("option",{value:"multiple",children:"Selección múltiple"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:E.required,onChange:H=>k({...E,required:H.target.checked}),className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Obligatorio"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:E.incluido_menu,onChange:H=>k({...E,incluido_menu:H.target.checked}),className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Incluido en el menú"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[E.tipo==="multiple"&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mínimo selecciones"}),a.jsx("input",{type:"number",min:"0",value:E.min_selections,onChange:H=>k({...E,min_selections:parseInt(H.target.value)||0}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Máximo selecciones"}),a.jsx("input",{type:"number",min:"1",value:E.max_selections,onChange:H=>k({...E,max_selections:parseInt(H.target.value)||1}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:E.required,onChange:H=>k({...E,required:H.target.checked}),className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Obligatorio"})]}),a.jsxs("button",{type:"button",onClick:Q,disabled:!E.nombre.trim(),className:"px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center",children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Agregar modificador"]})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[S.map(H=>a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-gray-800",children:H.nombre}),a.jsxs("p",{className:"text-sm text-gray-500",children:[H.tipo==="single"?"Selección única":"Selección múltiple",H.required&&" • Obligatorio",H.tipo==="multiple"&&` • Mín: ${H.min_selections}, Máx: ${H.max_selections}`,a.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${H.incluido_menu?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"}`,children:H.incluido_menu?"Incluido en menú":"Costo adicional"})]})]}),a.jsx("button",{type:"button",onClick:()=>Wt(H.id),disabled:O,className:`p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all duration-200 ${O?"opacity-50 cursor-not-allowed":""}`,title:"Eliminar modificador",children:O?a.jsx(M,{icon:dt,className:"animate-spin"}):a.jsx(M,{icon:mt})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("h6",{className:"text-sm font-medium text-gray-700",children:["Opciones disponibles",!H.incluido_menu&&a.jsx("span",{className:"ml-2 text-xs text-amber-600",children:"(Con costo adicional)"})]}),a.jsxs("button",{type:"button",onClick:()=>ve(H.id),className:"text-emerald-600 hover:text-emerald-700 text-sm flex items-center",children:[a.jsx(M,{icon:Et,className:"mr-1"}),"Agregar opción"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[H.opciones.map((se,oe)=>a.jsxs("div",{className:"flex gap-3 items-center bg-white p-3 rounded-md shadow-sm",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",value:se.nombre,onChange:Ie=>{const ge=[...H.opciones];ge[oe].nombre=Ie.target.value,P(S.map(ye=>ye.id===H.id?{...ye,opciones:ge}:ye))},placeholder:"Nombre de la opción",className:"w-full rounded-md border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"})}),!H.incluido_menu&&a.jsx("div",{className:"w-36",children:a.jsxs("div",{className:"relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),a.jsx("input",{type:"number",value:se.precio_adicional,onChange:Ie=>{const ge=[...H.opciones];ge[oe].precio_adicional=parseInt(Ie.target.value)||0,P(S.map(ye=>ye.id===H.id?{...ye,opciones:ge}:ye))},placeholder:"Precio extra",className:"w-full pl-7 rounded-md border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"})]})}),a.jsx("button",{type:"button",onClick:()=>{const Ie=H.opciones.filter((ge,ye)=>ye!==oe);P(S.map(ge=>ge.id===H.id?{...ge,opciones:Ie}:ge))},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all duration-200",title:"Eliminar opción",children:a.jsx(M,{icon:mt})})]},se.id)),H.opciones.length===0&&a.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No hay opciones agregadas"})]})]})]},H.id)),S.length===0&&a.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[a.jsx(M,{icon:Et,className:"text-gray-400 text-3xl mb-2"}),a.jsx("p",{className:"text-gray-500",children:"No hay modificadores agregados"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Agrega modificadores para personalizar el producto"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md",disabled:p,children:"Cancelar"}),a.jsxs("button",{type:"button",onClick:Sn,className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:p||N,children:[p?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):N?a.jsx(M,{icon:Yt,className:"mr-2"}):a.jsx(M,{icon:Ti,className:"mr-2"}),a.jsx("span",{children:p?"Guardando...":N?"Guardado":i?"Actualizar":"Guardar"})]})]})]}),Bn=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"Ingredientes del Producto"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Agrega los ingredientes necesarios para preparar este producto"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(M,{icon:Pn,className:"mr-2"}),a.jsx("span",{children:"Receta base"})]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(M,{icon:om,className:"text-gray-400"})}),a.jsx("input",{type:"text",value:I,onChange:H=>{R(H.target.value),Ve(H.target.value)},placeholder:"Buscar ingrediente...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-emerald-500 focus:border-emerald-500"}),L.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg border border-gray-200",children:L.map(H=>a.jsxs("button",{onClick:()=>Ge(H),className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:H.nombre}),a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",H.codigo||"Sin código",")"]})]}),a.jsx("div",{className:"text-sm",children:a.jsxs("span",{className:`${H.stock_actual<=H.stock_minimo?"text-red-600 font-semibold":"text-gray-600"}`,children:["Stock: ",H.stock_actual," ",H.unidad_medida]})})]},H.id))}),me&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx(M,{icon:dt,className:"animate-spin text-gray-400"})})]})}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm font-medium text-gray-500 mb-2 px-4",children:[a.jsx("div",{className:"col-span-4",children:"Ingrediente"}),a.jsx("div",{className:"col-span-3",children:"Cantidad"}),a.jsx("div",{className:"col-span-3",children:"Unidad"}),a.jsx("div",{className:"col-span-2",children:"Acciones"})]}),c.receta.length>0?a.jsx("div",{className:"space-y-2",children:c.receta.map((H,se)=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 bg-white p-3 rounded-md items-center",children:[a.jsx("div",{className:"col-span-4",children:H.nombre}),a.jsx("div",{className:"col-span-3",children:a.jsx("input",{type:"number",min:"0",value:H.cantidad,onChange:oe=>bt(se,"cantidad",parseFloat(oe.target.value)||0),className:"w-full rounded-md border-gray-300 focus:ring-emerald-500 focus:border-emerald-500"})}),a.jsx("div",{className:"col-span-3",children:a.jsxs("select",{value:H.unidad,onChange:oe=>bt(se,"unidad",oe.target.value),className:"w-full rounded-md border-gray-300 focus:ring-emerald-500 focus:border-emerald-500",children:[a.jsx("option",{value:"gr",children:"Gramos"}),a.jsx("option",{value:"ml",children:"Mililitros"}),a.jsx("option",{value:"unidad",children:"Unidades"}),a.jsx("option",{value:"kg",children:"Kilogramos"}),a.jsx("option",{value:"lt",children:"Litros"})]})}),a.jsx("div",{className:"col-span-2 flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>tt(se),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full",children:a.jsx(M,{icon:mt})})})]},se))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(M,{icon:Pn,className:"text-gray-400 text-3xl mb-2"}),a.jsx("p",{className:"text-gray-500",children:"No hay ingredientes agregados"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Busca y agrega los ingredientes necesarios"})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"Ingredientes de Modificadores"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Gestiona los ingredientes de cada opción de modificador"})]})}),S.length>0?a.jsx("div",{className:"space-y-4",children:S.map(H=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:H.nombre}),H.opciones.map(se=>a.jsxs("div",{className:"ml-4 mt-2 p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h6",{className:"text-sm font-medium text-gray-600",children:se.nombre}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Buscar ingrediente...",className:"text-sm px-3 py-1 border border-gray-300 rounded-md focus:ring-emerald-500 focus:border-emerald-500",value:I,onChange:oe=>{R(oe.target.value),Ve(oe.target.value)}}),L.length>0&&a.jsx("div",{className:"absolute z-10 w-64 right-0 mt-1 bg-white rounded-md shadow-lg border border-gray-200",children:L.map(oe=>a.jsx("button",{onClick:()=>Xt(H.id,se.id,oe),className:"w-full text-left px-3 py-2 hover:bg-gray-50 text-sm",children:oe.nombre},oe.id))})]})]}),se.ingredientes&&se.ingredientes.length>0?a.jsx("div",{className:"space-y-2",children:se.ingredientes.map((oe,Ie)=>a.jsxs("div",{className:"grid grid-cols-12 gap-2 bg-white p-2 rounded-md items-center text-sm",children:[a.jsx("div",{className:"col-span-4",children:oe.nombre}),a.jsx("div",{className:"col-span-3",children:a.jsx("input",{type:"number",min:"0",value:oe.cantidad,onChange:ge=>Jt(H.id,se.id,Ie,"cantidad",parseFloat(ge.target.value)||0),className:"w-full rounded-md border-gray-300 focus:ring-emerald-500 focus:border-emerald-500"})}),a.jsx("div",{className:"col-span-3",children:a.jsxs("select",{value:oe.unidad,onChange:ge=>Jt(H.id,se.id,Ie,"unidad",ge.target.value),className:"w-full rounded-md border-gray-300 focus:ring-emerald-500 focus:border-emerald-500",children:[a.jsx("option",{value:"gr",children:"Gramos"}),a.jsx("option",{value:"ml",children:"Mililitros"}),a.jsx("option",{value:"unidad",children:"Unidades"}),a.jsx("option",{value:"kg",children:"Kilogramos"}),a.jsx("option",{value:"lt",children:"Litros"})]})}),a.jsx("div",{className:"col-span-2 flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>Yn(H.id,se.id,Ie),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full",children:a.jsx(M,{icon:mt})})})]},Ie))}):a.jsx("div",{className:"text-sm text-gray-500 text-center py-2",children:"Sin ingredientes configurados"})]},se.id))]},H.id))}):a.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-gray-500",children:"No hay modificadores agregados"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Agrega modificadores en la pestaña correspondiente"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md",disabled:p,children:"Cancelar"}),a.jsxs("button",{type:"button",onClick:Sn,className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:p||N,children:[p?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):N?a.jsx(M,{icon:Yt,className:"mr-2"}):a.jsx(M,{icon:Ti,className:"mr-2"}),a.jsx("span",{children:p?"Guardando...":N?"Guardado":i?"Actualizar":"Guardar"})]})]})]}),Wt=async H=>{if(!(r!=null&&r.id)){P(S.filter(se=>se.id!==H));return}T(!0);try{const se=Qe(Ne,"menuSecciones",c.categoria,"productos",r.id),oe=S.filter(Ie=>Ie.id!==H);await rr(se,{modificadores:oe,actualizado:new Date().toISOString(),updated:new Date().toISOString()}),P(oe),w(!0),setTimeout(()=>w(!1),2e3)}catch(se){console.error("Error al eliminar modificador:",se),j("Error al eliminar el modificador. Por favor, intenta de nuevo.")}finally{T(!1)}},Sn=async H=>{if(H&&H.preventDefault(),!c.nombre.trim()){j("El nombre del producto es obligatorio");return}if(!c.precio){j("El precio del producto es obligatorio");return}if(!c.categoria){j("La categoría es obligatoria");return}x(!0),j("");try{let se={...c,precio:V(c.precio),tiempo_preparacion:c.tiempo_preparacion?parseInt(c.tiempo_preparacion):null,modificadores:S,name:c.nombre,price:V(c.precio),description:c.descripcion,category:c.categoria};delete se.imagen;let oe;const Ie=!i;if(i){const ge=Qe(Ne,"menuSecciones",c.categoria,"productos",r.id);if(c.imagen){const fe=await Z(c.imagen,r.id);se.imagen_url=fe,se.image_url=fe}await rr(ge,{...se,actualizado:new Date().toISOString(),updated:new Date().toISOString()});const ye=await Cu(ge);oe={id:r.id,...ye.data()}}else{const ge=kt(Ne,"menuSecciones",c.categoria,"productos"),ye=await Wa(ge,{...se,creado:new Date().toISOString(),created:new Date().toISOString(),orden:c.orden||0,order:c.orden||0});if(c.imagen){const fe=await Z(c.imagen,ye.id);await rr(ye,{imagen_url:fe,image_url:fe}),se.imagen_url=fe,se.image_url=fe}oe={id:ye.id,...se,creado:new Date().toISOString(),created:new Date().toISOString()}}w(!0),setTimeout(()=>{n(oe,Ie),setTimeout(()=>{e()},300)},1e3)}catch(se){console.error("Error al guardar producto:",se),j(`Error: ${se.message}`)}finally{x(!1)}};return t?vt.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 md:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity backdrop-blur-sm",onClick:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full max-w-3xl mx-4 transform transition-all duration-300 ${y?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,style:{maxHeight:"calc(100vh - 32px)"},children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b rounded-t",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:i?`Editar ${r.nombre}`:"Agregar Nuevo Producto al Menú"}),a.jsx("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",onClick:e,children:a.jsx(M,{icon:yt})})]}),a.jsxs("div",{className:"flex border-b",children:[a.jsx("button",{className:`flex-1 py-3 px-4 text-center text-sm font-medium transition-colors ${o==="producto"?"text-emerald-600 border-b-2 border-emerald-500":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l("producto"),children:"Producto"}),a.jsx("button",{className:`flex-1 py-3 px-4 text-center text-sm font-medium transition-colors ${o==="modificadores"?"text-emerald-600 border-b-2 border-emerald-500":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l("modificadores"),children:"Modificadores"}),a.jsx("button",{className:`flex-1 py-3 px-4 text-center text-sm font-medium transition-colors ${o==="receta"?"text-emerald-600 border-b-2 border-emerald-500":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l("receta"),children:"Receta"})]}),a.jsxs("div",{className:"overflow-y-auto p-6",style:{maxHeight:"calc(100vh - 180px)"},children:[_&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg relative flex items-center",children:[a.jsx(M,{icon:xt,className:"w-5 h-5 mr-2 text-red-600"}),a.jsx("div",{className:"text-sm",children:_})]}),o==="producto"?a.jsxs("form",{onSubmit:Sn,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Producto *"}),a.jsx("input",{type:"text",name:"nombre",value:c.nombre,onChange:q,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",placeholder:"Ej: Pizza Margherita",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio *"}),a.jsxs("div",{className:"relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),a.jsx("input",{type:"text",name:"precio",value:c.precio,onChange:q,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",placeholder:"0",inputMode:"numeric",required:!0})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Formato: $1.000 (pesos chilenos)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiempo de Preparación (minutos)"}),a.jsx("input",{type:"text",name:"tiempo_preparacion",value:c.tiempo_preparacion,onChange:q,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",placeholder:"Ej: 15",inputMode:"numeric"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alérgenos"}),a.jsx("input",{type:"text",name:"alergenos",value:c.alergenos,onChange:q,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",placeholder:"Ej: Gluten, Lácteos, Frutos secos"})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"disponible",name:"disponible",checked:c.disponible,onChange:q,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"disponible",className:"block text-sm text-gray-700",children:"Disponible para ordenar"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"destacado",name:"destacado",checked:c.destacado,onChange:q,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"destacado",className:"block text-sm text-gray-700",children:"Destacar en el menú"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),a.jsx("textarea",{name:"descripcion",value:c.descripcion,onChange:q,rows:"3",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",placeholder:"Breve descripción del producto..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imagen del Producto"}),a.jsxs("div",{className:"flex flex-col items-center border-2 border-dashed border-gray-300 rounded-lg p-4 transition-all hover:bg-gray-50",children:[f?a.jsxs("div",{className:"relative w-full mb-3",children:[a.jsx("img",{src:f,alt:"Vista previa",className:"w-full h-48 object-cover rounded-md shadow-sm"}),a.jsx("button",{type:"button",onClick:()=>{h(null),d(H=>({...H,imagen:null}))},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:a.jsx(M,{icon:yt,className:"h-3 w-3"})})]}):a.jsxs("div",{className:"text-center",children:[a.jsx(M,{icon:VO,className:"h-10 w-10 text-gray-300 mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Arrastra y suelta una imagen, o haz clic para seleccionar"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, GIF (máx. 2MB)"})]}),a.jsx("input",{id:"imagen",name:"imagen",type:"file",accept:"image/*",onChange:ae,className:`mt-3 px-3 py-2 w-full border border-gray-300 rounded-md text-sm ${f?"file:bg-emerald-700 file:text-white":"file:bg-emerald-600 file:text-white"} file:border-0 file:rounded file:px-3 file:py-1 file:mr-3 file:cursor-pointer focus:outline-none`})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md",disabled:p,children:"Cancelar"}),a.jsxs("button",{type:"submit",className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:p||N,children:[p?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):N?a.jsx(M,{icon:Yt,className:"mr-2"}):a.jsx(M,{icon:Ti,className:"mr-2"}),a.jsx("span",{children:p?"Guardando...":N?"Guardado":i?"Actualizar":"Guardar"})]})]})]}):o==="modificadores"?Xn():Bn()]})]})]}),document.body):null},fB=({isOpen:t,onClose:e,onConfirm:n,section:r})=>{const[s,i]=m.useState(!1),[o,l]=m.useState(""),[c,d]=m.useState(!1);m.useEffect(()=>{d(!!t)},[t]);const f=async()=>{if(r){i(!0),l("");try{await n(r.id)&&setTimeout(()=>{e()},300)}catch(h){console.error("Error al eliminar la sección:",h),l(`Error: ${h.message}`)}finally{i(!1)}}};return t?vt.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 md:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 transform transition-all duration-300 ${c?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b rounded-t",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Confirmar Eliminación"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 rounded-full p-1",children:a.jsx(M,{icon:yt})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-5",children:a.jsx("div",{className:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center text-red-500",children:a.jsx(M,{icon:xt,size:"lg"})})}),a.jsx("p",{className:"text-center text-gray-700 text-lg mb-2",children:"¿Estás seguro que deseas eliminar esta sección?"}),r&&a.jsx("div",{className:"bg-gray-100 p-3 rounded-lg mb-4 text-center",children:a.jsx("p",{className:"font-semibold text-gray-900",children:r.name})}),a.jsx("p",{className:"text-center text-gray-500 mb-4 text-sm",children:"Esta acción eliminará esta sección del menú y todos los productos que contiene. Esta acción no se puede deshacer."}),o&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-center",children:a.jsx("p",{className:"text-sm",children:o})}),a.jsxs("div",{className:"flex justify-center space-x-3 pt-4",children:[a.jsx("button",{onClick:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md",disabled:s,children:"Cancelar"}),a.jsx("button",{onClick:f,className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}),a.jsx("span",{children:"Eliminando..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(M,{icon:mt,className:"mr-2"}),a.jsx("span",{children:"Eliminar"})]})})]})]})]})]}),document.body):null},hB=({isOpen:t,onClose:e,onConfirm:n,product:r,section:s})=>{const[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState("");m.useEffect(()=>{o(!!t)},[t]),m.useEffect(()=>{t&&(c(!1),f(!1),p(""))},[t]);const x=async()=>{if(!s||!r){p("No se puede eliminar el producto: información incompleta");return}c(!0),p("");try{await n(s.id,r.id),f(!0),setTimeout(()=>{e(),setTimeout(()=>{f(!1)},300)},1e3)}catch(_){console.error("Error al eliminar producto del menú:",_),p(`Error: ${_.message}`)}finally{c(!1)}};return m.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),t?vt.createPortal(a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${i?"bg-opacity-70":"bg-opacity-0"} backdrop-blur-sm`,onClick:l?void 0:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl max-w-md w-full mx-auto transform transition-all duration-300 ${i?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b rounded-t-lg",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Eliminar Producto del Menú"}),a.jsx("button",{onClick:l?void 0:e,className:"text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 rounded-full p-1",disabled:l,children:a.jsx(M,{icon:yt,className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-6 text-center",children:[h&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:xt,className:"mr-2"}),a.jsx("span",{children:h})]})}),d?a.jsxs("div",{className:"animate-fadeIn",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:a.jsx(M,{icon:Yt,className:"h-8 w-8 text-green-600"})}),a.jsx("h3",{className:"text-lg font-medium text-green-900 mb-2",children:"¡Producto eliminado!"}),a.jsx("p",{className:"text-sm text-gray-600",children:"El producto ha sido eliminado exitosamente del menú."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:a.jsx(M,{icon:mt,className:"h-8 w-8 text-red-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"¿Eliminar este producto?"}),a.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Estás a punto de eliminar ",a.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.nombre)||(r==null?void 0:r.name)})," de la sección ",a.jsx("span",{className:"font-semibold",children:(s==null?void 0:s.name)||(s==null?void 0:s.nombre)}),". Esta acción no se puede deshacer."]}),a.jsxs("div",{className:"mt-6 flex justify-center space-x-3",children:[a.jsx("button",{type:"button",onClick:l?void 0:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md",disabled:l,children:"Cancelar"}),a.jsxs("button",{type:"button",onClick:x,className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:l||d,children:[l?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):a.jsx(M,{icon:mt,className:"mr-2"}),l?"Eliminando...":"Eliminar"]})]})]})]})]})]}),document.body):null},mB=()=>{const[t,e]=m.useState("menu"),[n,r]=m.useState([]),[s,i]=m.useState(!1),[o,l]=m.useState(null),[c,d]=m.useState(!1),[f,h]=m.useState(new Date),[p,x]=m.useState(!1),[_,j]=m.useState(!1),[N,w]=m.useState(!1),[y,b]=m.useState(!1),[S,P]=m.useState(null),[O,T]=m.useState(null),[E,k]=m.useState(null),[I,R]=m.useState(null),[L,A]=m.useState(null),[me,pe]=m.useState({visible:!1,type:"success",message:"",duration:4e3}),[ke,ie]=m.useState({}),[D,V]=m.useState(!1),[q,ae]=m.useState(!1),[Z,Q]=m.useState({}),[ve,Ve]=m.useState(!1),Ge=[{id:"menu",label:"Menú",icon:Pn},{id:"horario",label:"Horario",icon:$o}];m.useEffect(()=>{t==="menu"&&tt()},[t]),m.useEffect(()=>{if(t==="horario"&&n.length>0&&!ve){const ee={};n.forEach(ue=>{ee[ue.id]=ue.horarios||{disponible:!0,siempreDisponible:!0,horarios:[{dia:"lunes",inicio:"08:00",fin:"22:00",activo:!0},{dia:"martes",inicio:"08:00",fin:"22:00",activo:!0},{dia:"miércoles",inicio:"08:00",fin:"22:00",activo:!0},{dia:"jueves",inicio:"08:00",fin:"22:00",activo:!0},{dia:"viernes",inicio:"08:00",fin:"22:00",activo:!0},{dia:"sábado",inicio:"08:00",fin:"22:00",activo:!0},{dia:"domingo",inicio:"08:00",fin:"22:00",activo:!0}]}}),ie(ee),Q(ee),Ve(!0)}},[n,ve,t]),m.useEffect(()=>{},[]),m.useEffect(()=>{const ee=setInterval(()=>{h(new Date)},6e4);return()=>clearInterval(ee)},[]);const tt=async()=>{i(!0),l(null);try{const ee=kt(Ne,"menuSecciones"),ue=await Rn(Jr(ee,Zf("orden","asc"))),Ee=[];for(const je of ue.docs){const Dt={id:je.id,...je.data(),products:[]};try{const it=kt(Ne,"menuSecciones",je.id,"productos"),qt=await Rn(Jr(it,Zf("orden","asc")));qt.empty||(Dt.products=qt.docs.map(Re=>({id:Re.id,...Re.data()})))}catch(it){console.error(`Error al cargar productos de la sección ${je.id}:`,it)}Ee.push(Dt)}r(Ee)}catch(ee){console.error("Error al cargar secciones del menú:",ee),l("Error al cargar las secciones del menú. Intente nuevamente.")}finally{i(!1)}},bt=(ee,ue,Ee=4e3)=>{pe({visible:!0,type:ee,message:ue,duration:Ee})},Xt=()=>{pe(ee=>({...ee,visible:!1}))},Yn=()=>{P(null),x(!0)},Jt=ee=>{P(ee),x(!0)},Xn=()=>{x(!1),setTimeout(()=>P(null),300)},Bn=ee=>{k(ee),T(null),j(!0)},Wt=(ee,ue)=>{k(ee),T(ue),j(!0)},Sn=()=>{j(!1),setTimeout(()=>{k(null),T(null)},300)},H=ee=>{R(ee),w(!0)},se=()=>{w(!1),setTimeout(()=>R(null),300)},oe=(ee,ue)=>{k(ee),A(ue),b(!0)},Ie=()=>{b(!1),setTimeout(()=>{k(null),A(null)},300)},ge=async ee=>{try{return await Ei(Qe(Ne,"menuSecciones",ee)),r(ue=>ue.filter(Ee=>Ee.id!==ee)),bt("success","Sección eliminada correctamente"),!0}catch(ue){return console.error("Error al eliminar sección:",ue),bt("error",`Error al eliminar sección: ${ue.message}`),!1}},ye=async(ee,ue)=>{try{return await Ei(Qe(Ne,"menuSecciones",ee,"productos",ue)),r(Ee=>Ee.map(je=>je.id===ee?{...je,products:je.products.filter(Dt=>Dt.id!==ue)}:je)),bt("success","Producto eliminado correctamente"),!0}catch(Ee){return console.error("Error al eliminar producto:",Ee),bt("error",`Error al eliminar producto: ${Ee.message}`),!1}},fe=async ee=>{d(!0);try{const ue=w2(Ne);ee.forEach((Ee,je)=>{const Dt=Qe(Ne,"menuSecciones",Ee.id);ue.update(Dt,{orden:je})}),await ue.commit(),bt("success","Orden de secciones actualizado correctamente")}catch(ue){console.error("Error al actualizar el orden de las secciones:",ue),bt("error","Error al actualizar el orden de las secciones")}finally{d(!1)}},pt=(ee,ue)=>{tt(),bt("success",ue?"Sección creada correctamente":"Sección actualizada correctamente")},mn=(ee,ue)=>{tt(),bt("success",ue?"Producto agregado correctamente":"Producto actualizado correctamente")},Jn=ee=>ee?`$${parseFloat(ee.toString().replace(/\D/g,"")).toLocaleString("es-CL")}`:"$0",wt=ee=>{if(ee<=0)return;const ue=[...n],Ee=[...n];[Ee[ee-1],Ee[ee]]=[Ee[ee],Ee[ee-1]],r(Ee),fe(Ee).catch(()=>{r(ue)})},st=ee=>{if(ee>=n.length-1)return;const ue=[...n],Ee=[...n];[Ee[ee],Ee[ee+1]]=[Ee[ee+1],Ee[ee]],r(Ee),fe(Ee).catch(()=>{r(ue)})},ps=ee=>{var De;if(!ee.horarios||ee.horarios.siempreDisponible)return!1;const ue=f,Ee=ue.toLocaleDateString("es-ES",{weekday:"long"}).toLowerCase(),je=ue.getHours(),Dt=ue.getMinutes(),it=je*60+Dt,qt=(De=ee.horarios.horarios)==null?void 0:De.find(Ke=>Ke.dia===Ee);if(!qt||!qt.activo)return!0;const[Re,qe]=qt.inicio.split(":").map(Number),[ot,Lt]=qt.fin.split(":").map(Number),z=Re*60+qe,le=ot*60+Lt;return it<z||it>le},gs=ee=>ee.charAt(0).toUpperCase()+ee.slice(1),Tr=ee=>{var Ee;return ee.horarios?ee.horarios.siempreDisponible?"Siempre disponible":`Disponible: ${(Ee=ee.horarios.horarios)==null?void 0:Ee.map(je=>je.activo?`${gs(je.dia)}: ${je.inicio} a ${je.fin}`:`${gs(je.dia)}: Inactivo`).join(", ")}`:"No hay configuración de horarios"},Hr=te.memo(({sections:ee})=>a.jsx(a.Fragment,{children:ee.map((ue,Ee)=>{var Dt;const je=ps(ue);return a.jsxs("div",{className:`bg-white shadow-md rounded-lg overflow-hidden border border-gray-200 w-full ${je?"opacity-75":""}`,children:[a.jsxs("div",{className:"bg-emerald-50 p-4 border-b border-emerald-100 flex items-center",children:[a.jsx("div",{className:"flex items-center mr-3",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("button",{onClick:()=>wt(Ee),disabled:Ee===0,className:`p-1 text-xs ${Ee===0?"text-gray-300 cursor-default":"text-emerald-600 hover:bg-emerald-100 rounded"}`,title:"Mover arriba",children:a.jsx(M,{icon:uF})}),a.jsx("button",{onClick:()=>st(Ee),disabled:Ee===ee.length-1,className:`p-1 text-xs ${Ee===ee.length-1?"text-gray-300 cursor-default":"text-emerald-600 hover:bg-emerald-100 rounded"}`,title:"Mover abajo",children:a.jsx(M,{icon:iF})})]})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:ue.name}),je&&a.jsxs("div",{className:"ml-2 px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full flex items-center",children:[a.jsx(M,{icon:sh,className:"mr-1"}),a.jsx("span",{children:"Bloqueada"})]}),!je&&ue.horarios&&!ue.horarios.siempreDisponible&&a.jsxs("div",{className:"ml-2 px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full flex items-center",children:[a.jsx(M,{icon:$O,className:"mr-1"}),a.jsx("span",{children:"Disponible"})]})]}),ue.description&&a.jsx("p",{className:"text-sm text-gray-600",children:ue.description}),ue.horarios&&a.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[a.jsx(M,{icon:$o,className:"mr-1"}),a.jsxs("div",{className:"tooltip",children:[a.jsx("span",{children:"Horarios configurados"}),a.jsx("div",{className:"tooltip-text",children:Tr(ue)})]})]})]}),a.jsxs("div",{className:"flex",children:[a.jsx("button",{onClick:()=>Jt(ue),className:"p-2 text-emerald-600 hover:text-emerald-800",title:"Editar sección",children:a.jsx(M,{icon:va})}),a.jsx("button",{onClick:()=>H(ue),className:"p-2 text-red-600 hover:text-red-800",title:"Eliminar sección",children:a.jsx(M,{icon:mt})})]})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("h5",{className:"text-sm font-medium text-gray-500",children:[((Dt=ue.products)==null?void 0:Dt.length)||0," productos"]}),a.jsxs("button",{onClick:()=>Bn(ue),className:`px-3 py-1.5 bg-emerald-100 text-emerald-800 rounded-md text-sm hover:bg-emerald-200 transition-colors inline-flex items-center ${je?"opacity-50 cursor-not-allowed":""}`,disabled:je,title:je?"Esta sección está bloqueada actualmente":"Añadir producto",children:[a.jsx(M,{icon:Et,className:"mr-1.5 text-xs"}),"Añadir Producto"]})]}),a.jsx("ul",{className:"space-y-3",children:!ue.products||ue.products.length===0?a.jsx("li",{className:"text-center p-3 bg-gray-50 rounded-md text-gray-500 text-sm",children:"Sin productos en esta sección"}):ue.products.map(it=>a.jsxs("li",{className:`p-3 bg-gray-50 rounded-md flex justify-between items-start hover:bg-gray-100 transition-colors ${je?"opacity-50":""}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("h6",{className:"font-medium text-gray-800",children:it.nombre||it.name}),a.jsx("span",{className:"font-semibold text-emerald-700",children:Jn(it.precio||it.price)})]}),(it.descripcion||it.description)&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:it.descripcion||it.description}),je&&a.jsxs("div",{className:"mt-1 text-xs text-red-600",children:[a.jsx(M,{icon:sh,className:"mr-1"}),"No disponible"]})]}),a.jsxs("div",{className:"ml-4 flex",children:[a.jsx("button",{onClick:()=>Wt(ue,it),className:"p-1.5 text-emerald-600 hover:text-emerald-800",title:"Editar producto",children:a.jsx(M,{icon:LO,className:"text-xs"})}),a.jsx("button",{onClick:()=>oe(ue,it),className:"p-1.5 text-red-600 hover:text-red-800",title:"Eliminar producto",children:a.jsx(M,{icon:mt,className:"text-xs"})})]})]},it.id))}),je&&a.jsx("div",{className:"mt-4 p-2 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:KO,className:"text-red-500 mr-2"}),a.jsx("p",{className:"text-sm text-red-700",children:"Esta sección está actualmente bloqueada según el horario configurado."})]})})]})]},ue.id)})})),Zn=()=>a.jsxs("div",{className:"animate-fadeIn w-full",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(M,{icon:Pn,className:"mr-3 text-emerald-600"}),"Gestión del Menú"]}),a.jsx("p",{className:"text-gray-600",children:"Administra las secciones y productos de tu menú. Organiza tus platos, bebidas y otros productos en categorías para facilitar su gestión y visualización."})]}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Secciones del Menú"}),a.jsxs("button",{onClick:Yn,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center",children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Nueva Sección"]})]}),s&&a.jsxs("div",{className:"flex justify-center items-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-emerald-500"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando datos..."})]}),o&&a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 text-center mb-6",children:[a.jsx("p",{className:"text-red-600",children:o}),a.jsx("button",{className:"mt-2 px-4 py-1 bg-emerald-100 text-emerald-800 rounded-md text-sm hover:bg-emerald-200",onClick:tt,children:"Intentar nuevamente"})]}),!s&&!o&&n.length===0?a.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg border-2 border-dashed border-gray-300 text-center",children:[a.jsx(M,{icon:lw,className:"text-gray-400 text-4xl mb-3"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"No has creado ninguna sección en tu menú"}),a.jsxs("button",{onClick:Yn,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors inline-flex items-center",children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Crear Primera Sección"]})]}):a.jsxs("div",{className:"flex flex-col gap-6 mb-6 relative",children:[c&&a.jsx("div",{className:"absolute inset-0 bg-black/10 backdrop-blur-sm rounded-lg flex items-center justify-center z-10",children:a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg flex items-center",children:[a.jsx(M,{icon:dt,spin:!0,className:"text-emerald-600 mr-3 text-xl"}),a.jsx("p",{className:"text-gray-700",children:"Guardando nuevo orden..."})]})}),!s&&n.length>0&&a.jsx("div",{className:"flex flex-col gap-6",children:a.jsx(Hr,{sections:n})})]}),a.jsx(uB,{isOpen:p,onClose:Xn,onSaveSections:pt,editingSection:S}),a.jsx(dB,{isOpen:_,onClose:Sn,onSaveProduct:mn,editingProduct:O,section:E}),a.jsx(fB,{isOpen:N,onClose:se,onConfirm:ge,section:I}),a.jsx(hB,{isOpen:y,onClose:Ie,onConfirm:ye,section:E,product:L})]}),Bs=()=>{const ee=async()=>{ae(!0);try{const Re=w2(Ne);for(const[qe,ot]of Object.entries(Z)){const Lt=Qe(Ne,"menuSecciones",qe);Re.update(Lt,{horarios:ot})}await Re.commit(),ie(Z),V(!1),bt("success","Horarios guardados correctamente")}catch(Re){console.error("Error al guardar horarios:",Re),bt("error","Error al guardar los horarios: "+Re.message)}finally{ae(!1)}},ue=(Re,qe,ot,Lt)=>{Q(z=>{const le={...z};if(le[Re]){const De=[...le[Re].horarios];De[qe]={...De[qe],[ot]:Lt},le[Re]={...le[Re],horarios:De}}return le})},Ee=(Re,qe)=>{Q(ot=>{const Lt={...ot};return Lt[Re]&&(Lt[Re]={...Lt[Re],siempreDisponible:qe}),Lt})},je=(Re,qe,ot)=>{ue(Re,qe,"activo",ot)},Dt=()=>{Q(ke),V(!0)},it=()=>{Q(ke),V(!1)},qt=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"];return a.jsxs("div",{className:"animate-fadeIn w-full",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(M,{icon:$o,className:"mr-3 text-emerald-600"}),"Horarios de Disponibilidad"]}),a.jsx("p",{className:"text-gray-600",children:"Configura los horarios en que cada sección del menú estará disponible para ordenar. Las secciones fuera de su horario se marcarán como no disponibles junto con todos sus productos."})]}),s?a.jsxs("div",{className:"flex justify-center items-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-emerald-500"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando datos..."})]}):o?a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 text-center mb-6",children:[a.jsx("p",{className:"text-red-600",children:o}),a.jsx("button",{className:"mt-2 px-4 py-1 bg-emerald-100 text-emerald-800 rounded-md text-sm hover:bg-emerald-200",onClick:tt,children:"Intentar nuevamente"})]}):n.length===0?a.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg border-2 border-dashed border-gray-300 text-center",children:[a.jsx(M,{icon:lw,className:"text-gray-400 text-4xl mb-3"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"No hay secciones en tu menú para configurar horarios"}),a.jsxs("button",{onClick:()=>e("menu"),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors inline-flex items-center",children:[a.jsx(M,{icon:Et,className:"mr-2"}),"Ir a crear secciones"]})]}):a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Configuración de Horarios por Sección"}),a.jsx("div",{className:"flex gap-2",children:D?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:it,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors inline-flex items-center",disabled:q,children:[a.jsx(M,{icon:yt,className:"mr-1.5 text-xs"}),"Cancelar"]}),a.jsxs("button",{onClick:ee,className:"px-3 py-1.5 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition-colors inline-flex items-center",disabled:q,children:[q?a.jsx(M,{icon:dt,className:"mr-1.5 text-xs animate-spin"}):a.jsx(M,{icon:Ti,className:"mr-1.5 text-xs"}),q?"Guardando...":"Guardar cambios"]})]}):a.jsxs("button",{onClick:Dt,className:"px-3 py-1.5 bg-emerald-100 text-emerald-800 rounded-md hover:bg-emerald-200 transition-colors inline-flex items-center",children:[a.jsx(M,{icon:va,className:"mr-1.5 text-xs"}),"Editar horarios"]})})]}),a.jsx("div",{className:"space-y-6",children:n.map(Re=>{const qe=D?Z[Re.id]:ke[Re.id];return qe?a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden border border-gray-200",children:[a.jsxs("div",{className:"bg-emerald-50 p-4 border-b border-emerald-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:Re.name}),Re.description&&a.jsx("p",{className:"text-sm text-gray-600",children:Re.description})]}),D&&a.jsx("div",{className:"flex items-center ml-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"Siempre disponible:"}),a.jsx("button",{type:"button",onClick:()=>Ee(Re.id,!qe.siempreDisponible),className:`text-2xl focus:outline-none ${qe.siempreDisponible?"text-green-500":"text-gray-400"}`,disabled:!D,title:qe.siempreDisponible?"Desactivar disponibilidad permanente":"Activar disponibilidad permanente",children:a.jsx(M,{icon:qe.siempreDisponible?uw:ow})})]})}),!D&&a.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${qe.siempreDisponible?"bg-green-100 text-green-800":"bg-emerald-100 text-emerald-800"}`,children:qe.siempreDisponible?"Siempre disponible":"Disponible según horario"})]}),(!qe.siempreDisponible||D)&&a.jsxs("div",{className:"p-4",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Horarios de disponibilidad"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Día"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hora inicio"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hora fin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:qt.map((ot,Lt)=>{const z=qe.horarios.find(le=>le.dia===ot)||{inicio:"08:00",fin:"22:00",activo:!0};return a.jsxs("tr",{className:z.activo?"":"bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:"font-medium text-gray-900",children:gs(ot)})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:D?a.jsx("button",{onClick:()=>je(Re.id,Lt,!z.activo),className:`text-2xl focus:outline-none ${z.activo?"text-green-500":"text-gray-400"}`,title:z.activo?"Desactivar día":"Activar día",children:a.jsx(M,{icon:z.activo?uw:ow})}):a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${z.activo?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:z.activo?"Activo":"Inactivo"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:D?a.jsx("input",{type:"time",value:z.inicio,onChange:le=>ue(Re.id,Lt,"inicio",le.target.value),className:"px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",disabled:!z.activo||qe.siempreDisponible}):a.jsx("span",{className:"text-sm text-gray-700",children:z.inicio})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:D?a.jsx("input",{type:"time",value:z.fin,onChange:le=>ue(Re.id,Lt,"fin",le.target.value),className:"px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",disabled:!z.activo||qe.siempreDisponible}):a.jsx("span",{className:"text-sm text-gray-700",children:z.fin})})]},ot)})})]})}),D&&qe.siempreDisponible&&a.jsxs("div",{className:"mt-3 text-sm text-emerald-600 bg-emerald-50 p-3 rounded-md border border-emerald-200",children:[a.jsx(M,{icon:xt,className:"mr-1"}),'Esta sección está configurada como "siempre disponible". Para editar horarios específicos, desactiva esta opción primero.']})]})]},Re.id):null})})]})]})},Hs=()=>{switch(t){case"menu":return Zn();case"horario":return Bs();default:return Zn()}};return a.jsx(fs,{children:a.jsxs("div",{className:"pb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Gestión de Menú y Horarios"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Administra los productos de tu menú y configura los horarios de atención del restaurante"}),a.jsx("div",{className:"bg-white shadow rounded-lg mb-6",children:a.jsx("div",{className:"px-4 flex border-b border-gray-200 overflow-x-auto",children:Ge.map(ee=>a.jsxs("button",{className:`py-4 px-6 font-medium flex items-center transition-colors duration-300 whitespace-nowrap
                  ${t===ee.id?"text-emerald-600 border-b-2 border-emerald-500 -mb-px":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,onClick:()=>e(ee.id),children:[a.jsx(M,{icon:ee.icon,className:"mr-2"}),ee.label]},ee.id))})}),Hs(),a.jsx(gv,{type:me.type,message:me.message,isVisible:me.visible,duration:me.duration,onClose:Xt})]})})},pB=()=>a.jsx(fs,{children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Reportes de Ventas"}),a.jsx("p",{className:"text-gray-600",children:"Bienvenido a la sección de reportes de ventas. Aquí podrás visualizar información detallada sobre ventas diarias, semanales, mensuales y personalizadas por periodo."}),a.jsx("div",{className:"mt-8 p-8 bg-emerald-50 rounded-lg border border-emerald-200 text-center",children:a.jsx("p",{className:"text-emerald-700 text-lg font-medium",children:"El módulo de reportes de ventas está en desarrollo."})})]})}),gB=()=>a.jsx(fs,{children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Reportes de Productos"}),a.jsx("p",{className:"text-gray-600",children:"Bienvenido a la sección de reportes de productos. Aquí podrás visualizar estadísticas sobre los productos más vendidos, márgenes de ganancia, y rotación de inventario."}),a.jsx("div",{className:"mt-8 p-8 bg-emerald-50 rounded-lg border border-emerald-200 text-center",children:a.jsx("p",{className:"text-emerald-700 text-lg font-medium",children:"El módulo de reportes de productos está en desarrollo."})})]})}),xB=()=>a.jsx(fs,{children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Reportes de Clientes"}),a.jsx("p",{className:"text-gray-600",children:"Bienvenido a la sección de reportes de clientes. Aquí podrás visualizar información sobre clientes frecuentes, patrones de consumo y preferencias de tus comensales."}),a.jsx("div",{className:"mt-8 p-8 bg-emerald-50 rounded-lg border border-emerald-200 text-center",children:a.jsx("p",{className:"text-emerald-700 text-lg font-medium",children:"El módulo de reportes de clientes está en desarrollo."})})]})}),yB=({isOpen:t,onClose:e,onUserAdded:n})=>{const{currentUser:r}=qa(),[s,i]=m.useState({email:"",password:""}),[o,l]=m.useState(!1),[c,d]=m.useState({nombre:"",apellido:"",email:"",password:"",confirmPassword:"",rol:"cajero",estado:"activo",permisos:{dashboard:!1,mesas:!1,pedidos:!1,inventario:!1,menu:!1,reportes:!1,configuracion:!1}}),[f,h]=m.useState(!1),[p,x]=m.useState(""),[_,j]=m.useState(!1),[N,w]=m.useState(!1);m.useEffect(()=>{w(!!t)},[t]),m.useEffect(()=>{t&&(d({nombre:"",apellido:"",email:"",password:"",confirmPassword:"",rol:"cajero",estado:"activo",permisos:{dashboard:!1,mesas:!1,pedidos:!1,inventario:!1,menu:!1,reportes:!1,configuracion:!1}}),x(""),j(!1))},[t]);const y=I=>{const R={dashboard:I==="administrador",mesas:["administrador","garzon"].includes(I),pedidos:["administrador","garzon","cajero"].includes(I),inventario:["administrador","cocina"].includes(I),menu:["administrador","cocina","cajero"].includes(I),reportes:I==="administrador",configuracion:I==="administrador"};d(L=>({...L,rol:I,permisos:R}))},b=I=>{const{name:R,value:L}=I.target;d(A=>({...A,[R]:L})),R==="rol"&&y(L)},S=I=>{const{name:R,checked:L}=I.target;d(A=>({...A,permisos:{...A.permisos,[R]:L}}))},P=()=>c.nombre.trim()?c.apellido.trim()?c.email.trim()?c.password?c.password.length<6?"La contraseña debe tener al menos 6 caracteres":c.password!==c.confirmPassword?"Las contraseñas no coinciden":"":"La contraseña es obligatoria":"El email es obligatorio":"El apellido es obligatorio":"El nombre es obligatorio",O=async I=>{I.preventDefault();const R=P();if(R){x(R);return}if(!s.password){l(!0);return}h(!0),x("");try{const A=(await LA(ji,c.email,c.password)).user.uid,me=new Date().toISOString();await R3(Qe(Ne,"usuarios",A),{uid:A,nombre:c.nombre,apellido:c.apellido,email:c.email,rol:c.rol,estado:c.estado,fechaCreacion:me,permisos:c.permisos}),await Uf(ji,s.email,s.password),j(!0);const pe={uid:A,id:A,nombre:c.nombre,apellido:c.apellido,email:c.email,rol:c.rol,estado:c.estado,name:`${c.nombre} ${c.apellido}`,role:c.rol,status:c.estado,permisos:c.permisos};setTimeout(()=>{i({email:"",password:""}),l(!1),n(pe),e()},1800)}catch(L){console.error("Error al crear usuario:",L),L.code==="auth/email-already-in-use"?x(a.jsxs("div",{children:[a.jsx("p",{children:"El correo electrónico ya está registrado en el sistema."}),a.jsx("p",{className:"mt-2 text-sm",children:"Esto puede suceder cuando el usuario fue eliminado de la lista pero no del sistema de autenticación. Por favor, utilice un correo electrónico diferente o contacte al administrador del sistema."}),a.jsxs("p",{className:"mt-2 text-xs text-gray-600",children:["Código de error: ",L.code]})]})):L.code==="auth/wrong-password"||L.code==="auth/user-not-found"?(x("Credenciales de administrador incorrectas"),l(!0)):x(`Error al crear usuario: ${L.message}`)}finally{h(!1)}},T=async I=>{I.preventDefault(),h(!0);try{await Uf(ji,s.email,s.password),l(!1),await O(I)}catch(R){console.error("Error al verificar credenciales:",R),x("Credenciales de administrador incorrectas")}finally{h(!1)}};if(m.useEffect(()=>{t&&(r!=null&&r.email)&&i(I=>({...I,email:r.email}))},[t,r==null?void 0:r.email]),m.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),!t)return null;const E=a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[a.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${N?"bg-opacity-70":"bg-opacity-0"} backdrop-blur-sm`,onClick:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 transform transition-all duration-300 ${N?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[a.jsxs("div",{className:"sticky top-0 bg-white z-10 flex justify-between items-center p-4 border-b rounded-t-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Autenticación Requerida"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 rounded-full p-1",children:a.jsx(M,{icon:yt,className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:T,className:"p-6",children:[p&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:xt,className:"mr-2"}),a.jsx("span",{children:p})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"mb-4 text-gray-700",children:"Para crear un nuevo usuario, necesitamos confirmar tu identidad. Por favor introduce tu contraseña:"}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email de Administrador"}),a.jsx("input",{type:"email",value:s.email,onChange:I=>i({...s,email:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña de Administrador"}),a.jsx("input",{type:"password",value:s.password,onChange:I=>i({...s,password:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",required:!0})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:f,children:"Cancelar"}),a.jsxs("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 flex items-center justify-center min-w-[100px]",disabled:f,children:[f?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):null,f?"Verificando...":"Continuar"]})]})]})]})]}),k=a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[a.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${N?"bg-opacity-70":"bg-opacity-0"} backdrop-blur-sm`,onClick:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 transform transition-all duration-300 ${N?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,style:{maxHeight:"calc(100vh - 40px)"},children:[a.jsxs("div",{className:"sticky top-0 bg-white z-10 flex justify-between items-center p-4 border-b rounded-t-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Agregar Nuevo Usuario"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 rounded-full p-1","aria-label":"Cerrar",children:a.jsx(M,{icon:yt,className:"h-5 w-5"})})]}),a.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 130px)"},children:a.jsxs("form",{onSubmit:O,className:"p-6",children:[p&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 animate-fadeIn",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:xt,className:"mr-2"}),a.jsx("span",{children:p})]})}),_&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700 animate-fadeIn",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:Yt,className:"mr-2"}),a.jsx("span",{children:"Usuario creado exitosamente"})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),a.jsx("input",{type:"text",name:"nombre",value:c.nombre,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),a.jsx("input",{type:"text",name:"apellido",value:c.apellido,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",required:!0})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo Electrónico"}),a.jsx("input",{type:"email",name:"email",value:c.email,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña"}),a.jsx("input",{type:"password",name:"password",value:c.password,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",required:!0,minLength:6})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Contraseña"}),a.jsx("input",{type:"password",name:"confirmPassword",value:c.confirmPassword,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",required:!0})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol"}),a.jsxs("select",{name:"rol",value:c.rol,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[a.jsx("option",{value:"administrador",children:"Administrador"}),a.jsx("option",{value:"cajero",children:"Cajero"}),a.jsx("option",{value:"garzon",children:"Garzón/Mesero"}),a.jsx("option",{value:"cocina",children:"Cocina"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),a.jsxs("select",{name:"estado",value:c.estado,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[a.jsx("option",{value:"activo",children:"Activo"}),a.jsx("option",{value:"inactivo",children:"Inactivo"})]})]}),c.rol!=="administrador"&&a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permisos de Acceso"}),a.jsx("div",{className:"p-3 bg-gray-50 border border-gray-300 rounded-md",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"dashboard",name:"dashboard",checked:c.permisos.dashboard,onChange:S,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"dashboard",className:"ml-2 text-sm text-gray-700",children:"Dashboard"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"mesas",name:"mesas",checked:c.permisos.mesas,onChange:S,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"mesas",className:"ml-2 text-sm text-gray-700",children:"Mesas"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"pedidos",name:"pedidos",checked:c.permisos.pedidos,onChange:S,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"pedidos",className:"ml-2 text-sm text-gray-700",children:"Pedidos"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"inventario",name:"inventario",checked:c.permisos.inventario,onChange:S,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"inventario",className:"ml-2 text-sm text-gray-700",children:"Inventario"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"menu",name:"menu",checked:c.permisos.menu,onChange:S,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"menu",className:"ml-2 text-sm text-gray-700",children:"Menú"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"reportes",name:"reportes",checked:c.permisos.reportes,onChange:S,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"reportes",className:"ml-2 text-sm text-gray-700",children:"Reportes"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"configuracion",name:"configuracion",checked:c.permisos.configuracion,onChange:S,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"configuracion",className:"ml-2 text-sm text-gray-700",children:"Configuración"})]})]})})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:f,children:"Cancelar"}),a.jsxs("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 flex items-center justify-center min-w-[100px]",disabled:f||_,children:[f?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):_?a.jsx(M,{icon:Yt,className:"mr-2"}):null,f?"Guardando...":_?"Guardado":"Guardar"]})]})]})})]})]});return vt.createPortal(o?E:k,document.body)},vB=({isOpen:t,onClose:e,onUserUpdated:n,user:r})=>{const[s,i]=m.useState({nombre:"",apellido:"",email:"",rol:"",estado:"",permisos:{dashboard:!1,mesas:!1,pedidos:!1,inventario:!1,menu:!1,reportes:!1,configuracion:!1}}),[o,l]=m.useState(!1),[c,d]=m.useState(""),[f,h]=m.useState(!1),[p,x]=m.useState(!1);m.useEffect(()=>{x(!!t)},[t]),m.useEffect(()=>{t&&r&&(i({nombre:r.nombre||"",apellido:r.apellido||"",email:r.email||"",rol:r.role||"cajero",estado:r.status||"activo",permisos:r.permisos||{dashboard:!1,mesas:!1,pedidos:!1,inventario:!1,menu:!1,reportes:!1,configuracion:!1}}),d(""),h(!1))},[t,r]);const _=b=>{const S={dashboard:b==="administrador",mesas:["administrador","garzon"].includes(b),pedidos:["administrador","garzon","cajero"].includes(b),inventario:["administrador","cocina"].includes(b),menu:["administrador","cocina","cajero"].includes(b),reportes:b==="administrador",configuracion:b==="administrador"};i(P=>({...P,rol:b,permisos:S}))},j=b=>{const{name:S,value:P}=b.target;i(O=>({...O,[S]:P})),S==="rol"&&_(P)},N=b=>{const{name:S,checked:P}=b.target;i(O=>({...O,permisos:{...O.permisos,[S]:P}}))},w=async b=>{b.preventDefault(),l(!0),d("");try{const S=Qe(Ne,"usuarios",r.id);await rr(S,{nombre:s.nombre,apellido:s.apellido,rol:s.rol,estado:s.estado,permisos:s.permisos}),h(!0),setTimeout(()=>{n({...r,nombre:s.nombre,apellido:s.apellido,role:s.rol,status:s.estado,permisos:s.permisos,name:`${s.nombre} ${s.apellido}`}),setTimeout(()=>{e()},800)},1e3)}catch(S){console.error("Error al actualizar usuario:",S),d(`Error al actualizar usuario: ${S.message}`)}finally{l(!1)}};if(m.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),!t)return null;const y=a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 md:p-0 overflow-hidden",children:[a.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${p?"bg-opacity-70":"bg-opacity-0"} backdrop-blur-sm`,onClick:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 transform transition-all duration-300 ${p?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,style:{maxHeight:"calc(100vh - 40px)"},children:[a.jsxs("div",{className:"sticky top-0 bg-white z-10 flex justify-between items-center p-4 border-b rounded-t-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Editar Usuario"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 rounded-full p-1","aria-label":"Cerrar",children:a.jsx(M,{icon:yt,className:"h-5 w-5"})})]}),a.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 130px)"},children:a.jsxs("form",{onSubmit:w,className:"p-6",children:[c&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 animate-fadeIn",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:xt,className:"mr-2"}),a.jsx("span",{children:c})]})}),f&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700 animate-fadeIn",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:Yt,className:"mr-2"}),a.jsx("span",{children:"Usuario actualizado exitosamente"})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),a.jsx("input",{type:"text",name:"nombre",value:s.nombre,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),a.jsx("input",{type:"text",name:"apellido",value:s.apellido,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",required:!0})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo Electrónico"}),a.jsx("input",{type:"email",name:"email",value:s.email,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 bg-gray-100",disabled:!0,required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El correo electrónico no se puede modificar"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol"}),a.jsxs("select",{name:"rol",value:s.rol,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[a.jsx("option",{value:"administrador",children:"Administrador"}),a.jsx("option",{value:"cajero",children:"Cajero"}),a.jsx("option",{value:"garzon",children:"Garzón/Mesero"}),a.jsx("option",{value:"cocina",children:"Cocina"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),a.jsxs("select",{name:"estado",value:s.estado,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[a.jsx("option",{value:"activo",children:"Activo"}),a.jsx("option",{value:"inactivo",children:"Inactivo"})]})]}),s.rol!=="administrador"&&a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permisos de Acceso"}),a.jsx("div",{className:"p-3 bg-gray-50 border border-gray-300 rounded-md",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"dashboard",name:"dashboard",checked:s.permisos.dashboard,onChange:N,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"dashboard",className:"ml-2 text-sm text-gray-700",children:"Dashboard"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"mesas",name:"mesas",checked:s.permisos.mesas,onChange:N,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"mesas",className:"ml-2 text-sm text-gray-700",children:"Mesas"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"pedidos",name:"pedidos",checked:s.permisos.pedidos,onChange:N,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"pedidos",className:"ml-2 text-sm text-gray-700",children:"Pedidos"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"inventario",name:"inventario",checked:s.permisos.inventario,onChange:N,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"inventario",className:"ml-2 text-sm text-gray-700",children:"Inventario"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"menu",name:"menu",checked:s.permisos.menu,onChange:N,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"menu",className:"ml-2 text-sm text-gray-700",children:"Menú"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"reportes",name:"reportes",checked:s.permisos.reportes,onChange:N,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"reportes",className:"ml-2 text-sm text-gray-700",children:"Reportes"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"configuracion",name:"configuracion",checked:s.permisos.configuracion,onChange:N,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"configuracion",className:"ml-2 text-sm text-gray-700",children:"Configuración"})]})]})})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-200",disabled:o,children:"Cancelar"}),a.jsxs("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 flex items-center justify-center min-w-[120px] transition-all duration-200 transform hover:scale-105",disabled:o||f,children:[o?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):f?a.jsx(M,{icon:Yt,className:"mr-2"}):a.jsx(M,{icon:Ti,className:"mr-2"}),o?"Guardando...":f?"¡Guardado!":"Guardar cambios"]})]})]})})]})]});return vt.createPortal(y,document.body)},bB=({isOpen:t,onClose:e,onUserDeleted:n,user:r})=>{var T;const[s,i]=m.useState(!1),[o,l]=m.useState(""),[c,d]=m.useState(!1),[f,h]=m.useState(!1),{currentUser:p}=qa(),[x,_]=m.useState({email:"",password:""}),[j,N]=m.useState(!1),w=p&&r&&p.uid===r.id&&((T=r.role)==null?void 0:T.toLowerCase())==="administrador";m.useEffect(()=>{h(!!t)},[t]),m.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),m.useEffect(()=>{t&&(p!=null&&p.email)&&_(E=>({...E,email:p.email}))},[t,p==null?void 0:p.email]);const y=()=>{N(!0)},b=async E=>{E.preventDefault(),i(!0),l("");try{await Uf(ji,x.email,x.password),N(!1),await S()}catch(k){console.error("Error de autenticación:",k),l("Credenciales de administrador incorrectas"),i(!1)}},S=async()=>{try{i(!0),await Ei(Qe(Ne,"usuarios",r.id));try{await C9(A9,"deleteUser")({uid:r.id}),console.log("Usuario eliminado de Authentication con éxito")}catch(E){console.error("No se pudo eliminar de Authentication:",E)}d(!0),setTimeout(()=>{n(r.id,{success:!0,message:`Usuario ${r.name} eliminado correctamente`,userData:r}),setTimeout(()=>{e(),d(!1),N(!1),_(E=>({...E,password:""}))},500)},1200)}catch(E){console.error("Error al eliminar usuario:",E),l(`Error: ${E.message}`)}finally{i(!1)}},P=async()=>{if(!r||!r.id){l("No se pudo identificar el usuario a eliminar");return}if(w){l("No puedes eliminar tu propia cuenta de administrador por seguridad");return}y()};if(!t)return null;if(j)return vt.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 md:p-0",children:[a.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${f?"bg-opacity-70":"bg-opacity-0"} backdrop-blur-sm`,onClick:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 transform transition-all duration-300 ${f?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[a.jsxs("div",{className:"sticky top-0 bg-white z-10 flex justify-between items-center p-4 border-b rounded-t-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Autenticación Requerida"}),a.jsx("button",{onClick:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md","aria-label":"Cerrar",children:a.jsx(M,{icon:yt,className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-6",children:[o&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 animate-fadeIn",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:xt,className:"mr-2"}),a.jsx("span",{children:o})]})}),a.jsxs("div",{className:"text-center mb-5",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-14 w-14 rounded-full bg-amber-100 mb-3",children:a.jsx(M,{icon:sh,className:"h-7 w-7 text-amber-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Confirma tu identidad"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Para eliminar usuarios, necesitamos verificar tu identidad como administrador."})]}),a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"admin-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email de Administrador"}),a.jsx("input",{id:"admin-email",type:"email",value:x.email,onChange:E=>_({...x,email:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"admin-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña de Administrador"}),a.jsx("input",{id:"admin-password",type:"password",value:x.password,onChange:E=>_({...x,password:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[a.jsx("button",{type:"button",onClick:e,className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:s,children:"Cancelar"}),a.jsxs("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 flex items-center justify-center min-w-[120px]",disabled:s,children:[s?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):a.jsx(M,{icon:sh,className:"mr-2"}),s?"Verificando...":"Continuar"]})]})]})]})]})]}),document.body);const O=a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 md:p-0",children:[a.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${f?"bg-opacity-70":"bg-opacity-0"} backdrop-blur-sm`,onClick:e}),a.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 transform transition-all duration-300 ${f?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[a.jsxs("div",{className:"sticky top-0 bg-white z-10 flex justify-between items-center p-4 border-b rounded-t-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Eliminar Usuario"}),a.jsx("button",{onClick:e,className:"text-emerald-600 hover:text-emerald-900 px-4 py-2 border border-emerald-200 rounded-md","aria-label":"Cerrar",children:a.jsx(M,{icon:yt,className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-6",children:[o&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 animate-fadeIn",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(M,{icon:xt,className:"mr-2"}),a.jsx("span",{children:o})]})}),c?a.jsxs("div",{className:"text-center py-4 animate-fadeIn",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:a.jsx(M,{icon:Yt,className:"h-8 w-8 text-green-600"})}),a.jsx("h3",{className:"text-lg font-medium text-green-900 mb-2",children:"Usuario eliminado"}),a.jsx("p",{className:"text-gray-600",children:"El usuario ha sido eliminado exitosamente de la base de datos y del sistema de autenticación."})]}):w?a.jsxs("div",{className:"text-center py-4 animate-fadeIn",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-amber-100 mb-4",children:a.jsx(M,{icon:HO,className:"h-8 w-8 text-amber-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Operación no permitida"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["Por motivos de seguridad, no puedes eliminar tu propia cuenta de administrador.",a.jsx("br",{}),a.jsx("span",{className:"text-amber-600 text-sm mt-2 block",children:"Esta restricción evita que el sistema se quede sin acceso administrativo."})]}),a.jsx("button",{type:"button",onClick:e,className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",children:"Entendido"})]}):a.jsxs("div",{className:"text-center py-4 animate-fadeIn",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:a.jsx(M,{icon:mt,className:"h-8 w-8 text-red-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Confirmar eliminación"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["¿Estás seguro de que deseas eliminar al usuario",a.jsxs("span",{className:"font-semibold",children:[" ",(r==null?void 0:r.name)||"seleccionado"]}),"?",a.jsx("br",{}),a.jsx("span",{className:"text-gray-600 mt-1 block",children:"Esta acción eliminará al usuario tanto de la base de datos como del sistema de autenticación."}),a.jsx("span",{className:"text-red-600 text-sm mt-2 block font-medium",children:"Esta acción no se puede deshacer."})]}),a.jsxs("div",{className:"flex justify-center space-x-3",children:[a.jsx("button",{type:"button",onClick:e,className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",disabled:s,children:"Cancelar"}),a.jsxs("button",{type:"button",onClick:P,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center justify-center min-w-[120px] transition-all duration-200 transform hover:scale-105",disabled:s||w,children:[s?a.jsx(M,{icon:dt,spin:!0,className:"mr-2"}):a.jsx(M,{icon:mt,className:"mr-2"}),s?"Eliminando...":"Eliminar"]})]})]})]})]})]});return vt.createPortal(O,document.body)},wB=()=>{const[t,e]=m.useState("general"),[n,r]=m.useState([]),[s,i]=m.useState(!1),[o,l]=m.useState(null),{currentUser:c}=qa(),[d,f]=m.useState(!1),[h,p]=m.useState(!1),[x,_]=m.useState(!1),[j,N]=m.useState(null),[w,y]=m.useState({visible:!1,type:"success",message:""});m.useEffect(()=>{t==="usuarios"&&b()},[t]);const b=async()=>{var D,V;i(!0),l(null);try{const q=kt(Ne,"usuarios"),ae=await Rn(Jr(q));let Z=[];if(!ae.empty)Z=ae.docs.map(Q=>{const ve=Q.data();return console.log(`Usuario encontrado: ${Q.id}`,ve),{id:Q.id,uid:ve.uid||Q.id,name:`${ve.nombre||""} ${ve.apellido||""}`.trim()||"Usuario Sin Nombre",nombre:ve.nombre||"",apellido:ve.apellido||"",email:ve.email||"",role:ve.rol||"Usuario",status:ve.estado||"Activo",lastLogin:ve.fechaCreacion||null,fechaCreacion:ve.fechaCreacion}}),console.log("Usuarios procesados:",Z);else if(c){console.log("Usando usuario actual:",c.uid);try{const Q=await Cu(Qe(Ne,"usuarios",c.uid));if(Q.exists()){const ve=Q.data();console.log("Datos del usuario encontrados:",ve),Z.push({id:c.uid,uid:ve.uid||c.uid,name:`${ve.nombre||""} ${ve.apellido||""}`.trim()||"Usuario Sin Nombre",email:ve.email||c.email||"",role:ve.rol||"Usuario",status:ve.estado||"Activo",lastLogin:ve.fechaCreacion||((D=c.metadata)==null?void 0:D.lastSignInTime)||null})}else{console.log("Usuario no encontrado en Firestore, usando datos de autenticación");const ve=c.email||"",Ve=c.displayName||ve.split("@")[0]||"Usuario";Z.push({id:c.uid,uid:c.uid,name:Ve,email:ve,role:"Usuario",status:"Activo",lastLogin:((V=c.metadata)==null?void 0:V.lastSignInTime)||new Date().toISOString()}),console.log("Se podría crear un registro para este usuario en Firestore")}}catch(Q){console.error("Error al obtener datos del usuario:",Q),Z.push({id:c.uid,uid:c.uid,name:c.email?c.email.split("@")[0]:"Usuario",email:c.email||"",role:"Usuario",status:"Activo",lastLogin:new Date().toISOString()})}}Z.length===0?l("No se encontraron usuarios en la base de datos."):r(Z)}catch(q){console.error("Error al cargar usuarios:",q),l("Error al cargar la lista de usuarios. Intenta nuevamente.")}finally{i(!1)}},S=()=>{f(!0)},P=()=>{f(!1)},O=D=>{t==="usuarios"&&b(),A("success","Usuario creado exitosamente")},T=D=>{N(D),p(!0)},E=()=>{p(!1),setTimeout(()=>{N(null)},300)},k=D=>{var q;if(c&&c.uid===D.id&&((q=D.role)==null?void 0:q.toLowerCase())==="administrador"){A("warning","No puedes eliminar tu propia cuenta de administrador por seguridad",6e3);return}N(D),_(!0)},I=()=>{_(!1),setTimeout(()=>{N(null)},300)},R=D=>{r(V=>V.map(q=>q.id===D.id?{...q,...D}:q)),A("success",`Usuario ${D.name} actualizado correctamente`)},L=(D,V)=>{r(q=>q.filter(ae=>ae.id!==D)),V!=null&&V.success&&A("success",V.message)},A=(D,V,q=4e3)=>{y({visible:!0,type:D,message:V,duration:q})},me=()=>{y(D=>({...D,visible:!1}))},pe=[{id:"general",label:"Configuración General",icon:ii},{id:"usuarios",label:"Usuarios",icon:Nc},{id:"menu",label:"Menú",icon:Pn}],ke=()=>a.jsxs("div",{className:"animate-fadeIn w-full overflow-hidden",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2 sm:mb-4",children:"Gestión de Usuarios"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Administra los usuarios del sistema, asigna roles y permisos, configura el acceso a diferentes áreas y gestiona la seguridad de la aplicación."})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[a.jsx("div",{className:"p-3 sm:p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:"Usuarios del Sistema"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[a.jsxs("div",{className:"relative flex-grow sm:flex-grow-0 order-2 sm:order-1",children:[a.jsx("input",{type:"text",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Buscar usuario..."}),a.jsx("div",{className:"absolute left-2.5 top-2 text-gray-400",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),a.jsxs("button",{onClick:S,className:"w-full sm:w-auto px-3 py-1.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center order-1 sm:order-2 text-sm",children:[a.jsx(M,{icon:Et,className:"mr-1.5"}),a.jsx("span",{children:"Nuevo Usuario"})]})]})]})}),s?a.jsxs("div",{className:"flex justify-center items-center p-8",children:[a.jsx(M,{icon:dt,spin:!0,className:"text-emerald-500 text-2xl sm:text-3xl"}),a.jsx("span",{className:"ml-2 text-sm sm:text-base text-gray-600",children:"Cargando usuarios..."})]}):o?a.jsxs("div",{className:"m-4 sm:m-6 bg-red-50 p-4 rounded-lg border border-red-200 text-center",children:[a.jsx("p",{className:"text-sm sm:text-base text-red-700",children:o}),a.jsx("button",{className:"mt-2 px-4 py-1 bg-emerald-100 text-emerald-800 rounded-md text-sm hover:bg-emerald-200 transition-colors",onClick:b,children:"Intentar nuevamente"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden md:block overflow-x-auto",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:a.jsx("div",{className:"overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Último Acceso"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:a.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.length>0?n.map(D=>{var V,q,ae,Z,Q,ve,Ve;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gradient-to-br from-emerald-500 to-teal-700 flex items-center justify-center text-white",children:D.photoURL?a.jsx("img",{src:D.photoURL,alt:D.name,className:"h-full w-full object-cover rounded-full"}):((V=D.role)==null?void 0:V.toLowerCase())==="admin"?a.jsx(M,{icon:pw,className:"h-5 w-5"}):a.jsx(M,{icon:cw,className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:D.name||"Usuario Sin Nombre"}),a.jsx("div",{className:"text-sm text-gray-500 truncate",children:D.email||"Sin correo"})]})]})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`h-2.5 w-2.5 rounded-full mr-2 flex-shrink-0 ${((q=D.role)==null?void 0:q.toLowerCase())==="administrador"?"bg-emerald-500":((ae=D.role)==null?void 0:ae.toLowerCase())==="cajero"?"bg-teal-500":((Z=D.role)==null?void 0:Z.toLowerCase())==="garzon"?"bg-emerald-400":"bg-gray-500"}`}),a.jsx("span",{className:"text-sm text-gray-900",children:((Q=D.role)==null?void 0:Q.charAt(0).toUpperCase())+((ve=D.role)==null?void 0:ve.slice(1))||"Usuario"})]})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:`px-2.5 py-1 inline-flex text-xs font-semibold rounded-full ${((Ve=D.status)==null?void 0:Ve.toLowerCase())==="activo"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.status||"Desconocido"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:D.lastLogin?typeof D.lastLogin=="string"?new Date(D.lastLogin).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):D.lastLogin:"Nunca"}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:a.jsxs("div",{className:"flex justify-end items-center space-x-3",children:[a.jsx("button",{className:"p-2 text-emerald-600 hover:text-emerald-900 transition-colors rounded-lg hover:bg-emerald-50",title:"Editar usuario",onClick:()=>T(D),children:a.jsx(M,{icon:va,className:"h-5 w-5"})}),a.jsx("button",{className:"p-2 text-red-600 hover:text-red-900 transition-colors rounded-lg hover:bg-red-50",title:"Eliminar usuario",onClick:()=>k(D),children:a.jsx(M,{icon:mt,className:"h-5 w-5"})})]})})]},D.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-500",children:"No se encontraron usuarios registrados."})})})]})})})}),a.jsx("div",{className:"md:hidden",children:n.length>0?a.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(D=>{var V,q,ae,Z,Q,ve,Ve;return a.jsxs("li",{className:"p-4 hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gradient-to-br from-emerald-500 to-teal-700 flex items-center justify-center text-white",children:D.photoURL?a.jsx("img",{src:D.photoURL,alt:D.name,className:"h-full w-full object-cover rounded-full"}):((V=D.role)==null?void 0:V.toLowerCase())==="administrador"?a.jsx(M,{icon:pw,className:"h-5 w-5"}):a.jsx(M,{icon:cw,className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name||"Usuario Sin Nombre"}),a.jsx("div",{className:"text-xs text-gray-500",children:D.email||"Sin correo"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{className:"p-2 text-emerald-600 hover:text-emerald-900",onClick:()=>T(D),children:a.jsx(M,{icon:va})}),a.jsx("button",{className:"p-2 text-red-600 hover:text-red-900",onClick:()=>k(D),children:a.jsx(M,{icon:mt})})]})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"bg-gray-50 p-2 rounded-md",children:[a.jsx("span",{className:"text-gray-500 block",children:"Rol"}),a.jsxs("div",{className:"flex items-center mt-1",children:[a.jsx("span",{className:`h-2 w-2 rounded-full mr-1.5 ${((q=D.role)==null?void 0:q.toLowerCase())==="administrador"?"bg-emerald-500":((ae=D.role)==null?void 0:ae.toLowerCase())==="cajero"?"bg-teal-500":((Z=D.role)==null?void 0:Z.toLowerCase())==="garzon"?"bg-emerald-400":"bg-gray-500"}`}),a.jsx("span",{className:"font-medium",children:((Q=D.role)==null?void 0:Q.charAt(0).toUpperCase())+((ve=D.role)==null?void 0:ve.slice(1))||"Usuario"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-md",children:[a.jsx("span",{className:"text-gray-500 block",children:"Estado"}),a.jsx("span",{className:`mt-1 inline-block px-2 py-0.5 text-xs rounded-full ${((Ve=D.status)==null?void 0:Ve.toLowerCase())==="activo"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.status||"Desconocido"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-md col-span-2",children:[a.jsx("span",{className:"text-gray-500 block",children:"Último Acceso"}),a.jsx("span",{className:"font-medium mt-1 block",children:D.lastLogin?typeof D.lastLogin=="string"?new Date(D.lastLogin).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):D.lastLogin:"Nunca"})]})]})]},D.id)})}):a.jsx("div",{className:"p-6 text-center text-sm text-gray-500",children:"No se encontraron usuarios registrados."})})]})]}),a.jsx(yB,{isOpen:d,onClose:P,onUserAdded:O}),a.jsx(vB,{isOpen:h,onClose:E,onUserUpdated:R,user:j}),a.jsx(bB,{isOpen:x,onClose:I,onUserDeleted:L,user:j})]}),ie=()=>{switch(t){case"general":return a.jsxs("div",{className:"animate-fadeIn w-full",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2 sm:mb-4",children:"Configuración General del Sistema"}),a.jsx("p",{className:"text-gray-600",children:"Configura los parámetros generales de tu restaurante, información del negocio, impuestos, moneda, horarios de operación y ajustes globales del sistema."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx("span",{className:"w-8 h-8 mr-3 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600",children:a.jsx(M,{icon:ii})}),"Información del Restaurante"]}),a.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200 text-center",children:a.jsx("p",{className:"text-emerald-700",children:"Esta sección está en desarrollo."})})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx("span",{className:"w-8 h-8 mr-3 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600",children:a.jsx(M,{icon:ii})}),"Configuración Fiscal"]}),a.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200 text-center",children:a.jsx("p",{className:"text-emerald-700",children:"Esta sección está en desarrollo."})})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx("span",{className:"w-8 h-8 mr-3 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600",children:a.jsx(M,{icon:ii})}),"Horarios de Atención"]}),a.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200 text-center",children:a.jsx("p",{className:"text-emerald-700",children:"Esta sección está en desarrollo."})})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx("span",{className:"w-8 h-8 mr-3 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600",children:a.jsx(M,{icon:ii})}),"Métodos de Pago"]}),a.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200 text-center",children:a.jsx("p",{className:"text-emerald-700",children:"Esta sección está en desarrollo."})})]})]})]});case"usuarios":return ke();case"menu":return a.jsxs("div",{className:"animate-fadeIn w-full",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Configuración del Menú"}),a.jsx("p",{className:"text-gray-600",children:"Configura las categorías del menú, personaliza la presentación de los productos, gestiona impuestos específicos por producto y establece modificadores para los platos."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx("span",{className:"w-8 h-8 mr-3 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600",children:a.jsx(M,{icon:Pn})}),"Categorías"]}),a.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200 text-center",children:a.jsx("p",{className:"text-emerald-700",children:"Esta sección está en desarrollo."})})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx("span",{className:"w-8 h-8 mr-3 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600",children:a.jsx(M,{icon:Pn})}),"Modificadores"]}),a.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200 text-center",children:a.jsx("p",{className:"text-emerald-700",children:"Esta sección está en desarrollo."})})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx("span",{className:"w-8 h-8 mr-3 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600",children:a.jsx(M,{icon:Pn})}),"Impuestos"]}),a.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200 text-center",children:a.jsx("p",{className:"text-emerald-700",children:"Esta sección está en desarrollo."})})]})]})]});default:return null}};return a.jsxs(fs,{children:[a.jsxs("div",{className:"pb-4 max-w-full overflow-hidden",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-2 px-4 sm:px-0",children:"Configuración del Sistema"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6 px-4 sm:px-0",children:"Gestiona todas las configuraciones de tu restaurante en un solo lugar"}),a.jsx("div",{className:"bg-white shadow rounded-lg mb-6 max-w-full overflow-hidden",children:a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[a.jsx("div",{className:"sm:hidden w-full p-3",children:a.jsx("select",{value:t,onChange:D=>e(D.target.value),className:"block w-full px-3 py-1.5 border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 rounded-md text-sm",children:pe.map(D=>a.jsx("option",{value:D.id,children:D.label},D.id))})}),a.jsx("div",{className:"hidden sm:flex w-full px-4 border-b border-gray-200 overflow-x-auto scrollbar-hide",children:pe.map(D=>a.jsxs("button",{className:`py-4 px-6 font-medium flex items-center transition-colors duration-300 whitespace-nowrap
                    ${t===D.id?"text-emerald-600 border-b-2 border-emerald-500 -mb-px":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,onClick:()=>e(D.id),children:[a.jsx(M,{icon:D.icon,className:"mr-2"}),D.label]},D.id))})]})}),a.jsx("div",{className:"w-full px-4 sm:px-0 overflow-hidden",children:ie()})]}),a.jsx(gv,{type:w.type,message:w.message,isVisible:w.visible,duration:w.duration,onClose:me})]})},_B=()=>a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-teal-50 flex items-center justify-center px-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),a.jsx("div",{className:"absolute top-1/3 right-1/4 w-64 h-64 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),a.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-64 h-64 bg-emerald-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),a.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[a.jsx("div",{className:"mb-12 transform hover:scale-105 transition-transform duration-300",children:a.jsx("img",{src:nu,alt:"SaborHub Logo",className:"h-16 w-auto mx-auto object-contain"})}),a.jsxs("div",{className:"bg-white/40 backdrop-blur-lg rounded-3xl p-8 md:p-12 shadow-2xl border border-white/50 relative overflow-hidden",children:[a.jsxs("div",{className:"relative mb-8",children:[a.jsx("div",{className:"text-[12rem] leading-none font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-500 animate-pulse",children:"404"}),a.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-gradient-to-r from-transparent via-emerald-400/30 to-transparent transform -translate-y-1/2"}),a.jsx("div",{className:"absolute top-1/2 left-1/4 w-1/2 h-1 bg-gradient-to-r from-transparent via-teal-400/40 to-transparent transform -translate-y-1/2 animate-pulse"})]}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6 relative",children:["¡Página no encontrada!",a.jsx("span",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full"})]}),a.jsxs("p",{className:"text-xl text-gray-600 mb-12 max-w-2xl mx-auto",children:["La página que estás buscando parece haberse perdido en el ciberespacio.",a.jsx("br",{className:"hidden md:block"}),"¿Qué tal si volvemos a un lugar conocido?"]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center items-center",children:[a.jsxs(_t,{to:"/",className:"group relative px-8 py-4 bg-gradient-to-r from-emerald-400 to-teal-500 text-white rounded-xl font-medium overflow-hidden shadow-xl hover:shadow-emerald-500/30 transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-emerald-500 to-teal-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("span",{className:"relative flex items-center",children:[a.jsx(M,{icon:rF,className:"mr-2 group-hover:animate-bounce"}),"Volver al Inicio"]})]}),a.jsx("button",{onClick:()=>window.history.back(),className:"group px-8 py-4 bg-white/80 text-gray-700 rounded-xl font-medium border border-emerald-100 hover:bg-emerald-50 hover:border-emerald-200 transition-all duration-300 hover:-translate-y-1 shadow-lg hover:shadow-xl",children:a.jsxs("span",{className:"flex items-center",children:[a.jsx(M,{icon:am,className:"mr-2 transform group-hover:-translate-x-1 transition-transform duration-300"}),"Volver Atrás"]})})]})]}),a.jsx("div",{className:"mt-12 text-gray-600",children:a.jsxs("p",{className:"flex items-center justify-center gap-2",children:["¿Necesitas ayuda?"," ",a.jsxs(_t,{to:"/contact",className:"relative inline-flex text-emerald-600 hover:text-emerald-500 group items-center",children:["Contacta a soporte",a.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500 transform origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})]})})]}),a.jsx("style",{jsx:!0,children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]}),NB=()=>{const t=[{icon:Eg,title:"Análisis en Tiempo Real",description:"Monitorea el rendimiento de tu restaurante con métricas detalladas y reportes en tiempo real."},{icon:tF,title:"Interfaz Intuitiva",description:"Diseño responsive y fácil de usar que funciona en cualquier dispositivo."},{icon:UO,title:"Respaldo en la Nube",description:"Tus datos siempre seguros y accesibles con nuestro sistema de respaldo automático."},{icon:Jj,title:"Seguridad Avanzada",description:"Protección de datos de última generación para tu tranquilidad."},{icon:mF,title:"Automatización Inteligente",description:"Optimiza tus operaciones con nuestras herramientas de automatización."},{icon:qO,title:"Gestión de Inventario",description:"Control preciso de tu inventario con alertas y reportes detallados."}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-teal-50",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs(_t,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-emerald-500 transition-all duration-300 group mb-8",children:[a.jsx(M,{icon:am,className:"mr-2 transform group-hover:-translate-x-1 transition-transform duration-300"}),"Volver al inicio"]}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-emerald-500 to-teal-600 bg-clip-text text-transparent mb-4",children:"Características de SaborHub"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Descubre todas las herramientas que tenemos para impulsar tu negocio"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,n)=>a.jsxs("div",{className:"bg-white/70 backdrop-blur-lg rounded-2xl p-6 border border-emerald-100 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-xl flex items-center justify-center mb-4 transform rotate-6 hover:rotate-0 transition-transform duration-300",children:a.jsx(M,{icon:e.icon,className:"text-white text-xl"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e.title}),a.jsx("p",{className:"text-gray-600",children:e.description})]},n))}),a.jsx("div",{className:"mt-16 text-center",children:a.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 p-8 rounded-3xl shadow-xl",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"¿Listo para revolucionar tu restaurante?"}),a.jsx("p",{className:"text-emerald-50 mb-6",children:"Únete a los cientos de restaurantes que ya confían en SaborHub"}),a.jsx("button",{className:"bg-white text-emerald-600 px-8 py-3 rounded-xl font-semibold hover:bg-emerald-50 transition-colors duration-300",children:"Comenzar ahora"})]})})]}),a.jsxs("footer",{className:"text-center py-6 text-gray-500 text-sm",children:["© ",new Date().getFullYear()," SaborHub. Todos los derechos reservados."]})]})},EB=()=>{const t=[{name:"Básico",icon:OO,price:"29",description:"Perfecto para restaurantes pequeños",features:["Gestión de pedidos básica","Panel de administración","Reportes mensuales","1 usuario","Soporte por email"]},{name:"Profesional",icon:fF,price:"79",description:"Ideal para restaurantes en crecimiento",popular:!0,features:["Todo lo del plan Básico","Análisis en tiempo real","Gestión de inventario","5 usuarios","Soporte prioritario 24/7"]},{name:"Enterprise",icon:FO,price:"199",description:"Para cadenas de restaurantes",features:["Todo lo del plan Profesional","API personalizada","Integración con POS","Usuarios ilimitados","Gerente de cuenta dedicado"]}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-teal-50",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs(_t,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-emerald-500 transition-all duration-300 group mb-8",children:[a.jsx(M,{icon:am,className:"mr-2 transform group-hover:-translate-x-1 transition-transform duration-300"}),"Volver al inicio"]}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-emerald-500 to-teal-600 bg-clip-text text-transparent mb-4",children:"Planes y Precios"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Elige el plan perfecto para tu negocio"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-7xl mx-auto",children:t.map((e,n)=>a.jsxs("div",{className:`relative bg-white/70 backdrop-blur-lg rounded-2xl p-8 border transition-all duration-300 hover:-translate-y-1 ${e.popular?"border-emerald-200 shadow-xl scale-105 hover:shadow-emerald-200/50":"border-emerald-100 shadow-lg hover:shadow-xl"}`,children:[e.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:a.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 text-white text-sm font-medium px-4 py-1 rounded-full",children:"Más Popular"})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:`w-16 h-16 mx-auto bg-gradient-to-br ${e.popular?"from-emerald-400 to-teal-500":"from-gray-100 to-gray-200"} rounded-2xl flex items-center justify-center mb-4`,children:a.jsx(M,{icon:e.icon,className:`text-2xl ${e.popular?"text-white":"text-gray-600"}`})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:e.name}),a.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-800",children:"$"}),a.jsx("span",{className:"text-6xl font-bold text-gray-800",children:e.price}),a.jsx("span",{className:"text-gray-600 ml-2",children:"/mes"})]})]}),a.jsx("ul",{className:"space-y-4 mb-8",children:e.features.map((r,s)=>a.jsxs("li",{className:"flex items-center text-gray-600",children:[a.jsx(M,{icon:Yt,className:`mr-3 ${e.popular?"text-emerald-500":"text-gray-400"}`}),r]},s))}),a.jsx("button",{className:`w-full py-3 px-6 rounded-xl font-medium transition-all duration-300 ${e.popular?"bg-gradient-to-r from-emerald-400 to-teal-500 text-white hover:shadow-lg hover:shadow-emerald-200/50":"bg-gray-50 text-gray-800 hover:bg-gray-100"}`,children:"Comenzar ahora"})]},n))}),a.jsxs("div",{className:"mt-16 text-center bg-white/70 backdrop-blur-lg rounded-2xl p-8 border border-emerald-100 shadow-lg max-w-3xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Garantía de satisfacción 100%"}),a.jsx("p",{className:"text-gray-600",children:"Prueba SaborHub sin riesgo. Si no estás completamente satisfecho, te devolvemos tu dinero en los primeros 30 días."})]})]}),a.jsxs("footer",{className:"text-center py-6 text-gray-500 text-sm",children:["© ",new Date().getFullYear()," SaborHub. Todos los derechos reservados."]})]})},jB=()=>a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-teal-50",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs(_t,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-emerald-500 transition-all duration-300 group mb-8",children:[a.jsx(M,{icon:am,className:"mr-2 transform group-hover:-translate-x-1 transition-transform duration-300"}),"Volver al inicio"]}),a.jsxs("div",{className:"bg-white/70 backdrop-blur-lg rounded-3xl shadow-xl border border-emerald-100 p-8 md:p-12",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-2xl mx-auto flex items-center justify-center mb-6 transform rotate-12 hover:rotate-0 transition-all duration-500",children:a.jsx(M,{icon:Nc,className:"text-white text-3xl"})}),a.jsx("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-emerald-500 to-teal-600 bg-clip-text text-transparent mb-4",children:"Acerca de SaborHub"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Transformando la gestión de restaurantes con tecnología innovadora"})]}),a.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[a.jsx("div",{className:"bg-emerald-50/50 border border-emerald-100 rounded-2xl p-8 mb-8",children:a.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"¡Bienvenido a nuestra página! Estamos trabajando arduamente para traerte más información sobre quiénes somos y nuestra misión de revolucionar la industria restaurantera."})}),a.jsxs("div",{className:"inline-flex items-center space-x-2 text-emerald-600",children:[a.jsx("span",{className:"animate-pulse",children:"•"}),a.jsx("span",{children:"Más información próximamente"}),a.jsx("span",{className:"animate-pulse",children:"•"})]})]})]})]}),a.jsxs("footer",{className:"text-center py-6 text-gray-500 text-sm",children:["© ",new Date().getFullYear()," SaborHub. Todos los derechos reservados."]})]});function TB(){const{currentUser:t,loading:e}=qa(),n=({children:r})=>e?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-amber-500"})}):t?r:a.jsx(nb,{to:"/"});return a.jsxs(a.Fragment,{children:[a.jsxs(JC,{children:[a.jsx(kn,{path:"/",element:t?a.jsx(nb,{to:"/dashboard"}):a.jsx(mL,{})}),a.jsx(kn,{path:"/features",element:a.jsx(NB,{})}),a.jsx(kn,{path:"/pricing",element:a.jsx(EB,{})}),a.jsx(kn,{path:"/about",element:a.jsx(jB,{})}),a.jsx(kn,{path:"/dashboard",element:a.jsx(n,{children:a.jsx(NF,{})})}),a.jsx(kn,{path:"/mesas",element:a.jsx(n,{children:a.jsx(tB,{})})}),a.jsx(kn,{path:"/pedidos",element:a.jsx(n,{children:a.jsx(nB,{})})}),a.jsx(kn,{path:"/inventario",element:a.jsx(n,{children:a.jsx(cB,{})})}),a.jsx(kn,{path:"/menu",element:a.jsx(n,{children:a.jsx(mB,{})})}),a.jsx(kn,{path:"/reportes/ventas",element:a.jsx(n,{children:a.jsx(pB,{})})}),a.jsx(kn,{path:"/reportes/productos",element:a.jsx(n,{children:a.jsx(gB,{})})}),a.jsx(kn,{path:"/reportes/clientes",element:a.jsx(n,{children:a.jsx(xB,{})})}),a.jsx(kn,{path:"/configuracion",element:a.jsx(n,{children:a.jsx(wB,{})})}),a.jsx(kn,{path:"*",element:a.jsx(_B,{})})]}),a.jsx(fL,{})]})}const SB={future:{v7_startTransition:!0,v7_relativeSplatPath:!0}};Pp.createRoot(document.getElementById("root")).render(a.jsx(te.StrictMode,{children:a.jsx(ik,{...SB,children:a.jsx(hL,{children:a.jsx(TB,{})})})}));
